<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated from tcl/help/de/CQL-Position-List.txt -->

<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='de'>
<head>
  <meta http-equiv="content-type"
           content="text/html; charset=utf-8" />
  <meta http-equiv="content-language"
           content="de" />
  <meta http-equiv="content-style-type"
           content="text/css" />

  <meta name="author"
     content="scidb.sourceforge.net" />
  <meta name="generator"
     content="scidb.sourceforge.net" />
  <meta name="description"
     content="Scidb - Help Page" />

  <link rel="icon"
       href="http://scidb.sourceforge.net/favicon.ico"
       type="image/x-icon" />
  <link rel="shortcut icon"
       href="http://scidb.sourceforge.net/favicon.ico" />
  <link rel="stylesheet"
       type="text/css"
      media="screen"
		 href="../styles/help.css" />

  <title>Scidb - Hilfe: CQL &ndash; Die Positionsliste</title>

  <style type="text/css">
  
    #tooltip1 {
      outline: none;
      cursor: help;
      margin-top: 0;
      margin-bottom: 0;
      position: relative;
    }
    #tooltip1 a {
      color: #000000;
    }
    #tooltip1 a:hover {
      color: #000000;
      background: #ffff00;
      text-decoration: none;
    }
    #tooltip1 a img {
      display: none;
    }
    #tooltip1 a:hover img {
      display: block;
      position: absolute;
      left: 10em;
      top: 2em;
      z-index: 99;
    }
    </style>
</head>

<body>

<div class="title">
  <h1 class="title">CQL &ndash; Die Positionsliste</h1>
</div>

<p>
Das Symbol <img src="../images/ft-scidb-tiny.png" alt="" /> im Titel einer
Schlüsselwortdefinition kennzeichnet, daß dieses Schlüsselwort eine
Erweiterung ist, also nicht zum CQL-Standard gehört.
</p>

<p>
Die Schlüsselwörter <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:castling">:castling</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:endgame">:endgame</span></a>
und <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:inside">:inside</span></a> sind von Chess Assistant 9 entlehnt worden. Die
Beschreibung dieser Schlüsselwörter entstammt dem Dokument
<a href="http://hornid.com/chess/docs/CQL-3GX.pdf" target="blank_">The CQL 3.GX Extension&nbsp;<span class="awesome">&#xf08e;</span></a>.
</p>

<p>
Einige der Schlüsselwörter können mit einem vorangehenden Ausrufungszeichen negiert
werden, dies ist dann eine Kurzschreibweise; z.B. ist
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:check">:check</span></a>)
</code></div>

<p>
eine Kurzschreibweise für
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a> (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>))
</code></div>

<p>
Die Schlüsselwörter <span style='white-space:nowrap;'>:nocheck</span> und <span style='white-space:nowrap;'>:noenpassant</span> werden
in <span style='white-space:nowrap;'>CQL-S</span> nicht mehr benötigt &ndash; hier werden stattdessen die
Ausdrücke <span style='white-space:nowrap;'>!:check</span> bzw. <span style='white-space:nowrap;'>!:enpassant</span> verwendet &ndash;
aber beim Importieren eines CQL-Skripts erkannt und entsprechend umgeformt.
</p>

<ul style='list-style-type: none'><li>
  <table style="white-space:nowrap">
    <tr><td>&#x2022;</td><td><a href="#index">Index</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#logical">Schlüsselwörter für die Kontrolllogik</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#simple">Einfache Schlüsselwörter</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#transform">Transformierende Schlüsselwörter</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#piece">Schlüsselwörte für die Figurenanalyse</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#move">Schlüsselwörter für die Zuganalyse</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#sequence">Schlüsselwörter für Sequenzen</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#game">Schlüsselwörter für die Partieinformationen</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#relation">Relationen zwischen den Positionen</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#matching">Schlüsselwörter zur Zählung</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#evaluation">Schlüsselwörter für die Stellungs- und Zugbeurteilung</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#accumulator">Schlüsselwörter für Akkumulationen</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#tagging">Schlüsselwörter für das Markieren</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#control">Schlüsselwörter für die Steuerung</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#meaningless">Bedeutungslose Schlüsselwörter</a></td></tr>
  </table>
</li></ul>

<!-- ############################################################################## -->
<h2 id="index">Index</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr>
    <td>      &#x2022;</td><td><a href="#position:accumulate">:accumulate</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:flipdihedral">:flipdihedral</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:matchconsecutive">:match</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:rayhorizontal">:rayhorizontal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:accumulate_">:accumulate*</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:fliphorizontal">:fliphorizontal</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:matchcount">:matchcount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:rayorthogonal">:rayorthogonal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:and">:and</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:flipvertical">:flipvertical</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:mate">:mate</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:rayvertical">:rayvertical</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:attackcount">:attackcount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:forced">:forced</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:matingmaterial">:matingmaterial</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:relation">:relation</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:blackcannotwin">:blackcannotwin</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:gameisover">:gameisover</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:maxswapevaluation">:maxswapevaluation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:repetitioncount">:repetitioncount</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:blackelo">:blackelo</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:gappedsequence">:gappedsequence</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:moveevaluation">:moveevaluation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:result">:result</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:btm">:btm</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:goodbishop">:goodbishop</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:movefrom">:movefrom</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:sequence">:sequence</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:catureforced">:captureforced</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:halfmoveclock">:halfmoveclock</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:movenumber">:movenumber</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shift">:shift</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:castling">:castling</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:halfmovenumber">:halfmovenumber</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:moveto">:moveto</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shiftdiagonal">:shiftdiagonal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:check">:check</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:initial">:initial</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:mustcapture">:mustcapture</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shifthorizontal">:shifthorizontal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:checkcount">:checkcount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:inside">:inside</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:noannotate">:noannotate</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shiftmaindiagonal">:shiftmaindiagonal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:collateral">:collateral</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:insidevariation">:insidevariation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:nocheck">:nocheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shiftoffdiagonal">:shiftoffdiagonal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:cond">:cond</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:iscastling">:iscastling</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:noenpassant">:noenpassant</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:shiftvertical">:shiftvertical</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:contactcheck">:contactcheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:ischeck">:ischeck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:not">:not</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:skip">:skip</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:cut">:cut</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:ischess960">:ischess960</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:opposition">:opposition</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:stalemate">:stalemate</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:doublecheck">:doublecheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:iscontactcheck">:iscontactcheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:or">:or</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:startposition">:startposition</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:elo">:elo</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isdoublecheck">:isdoublecheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:pawncount">:pawncount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:sumrange">:sumrange</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:endgame">:endgame</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isillegal">:isillegal</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:piececount">:piececount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:tagmatch">:tagmatch</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:endgameevaluation">:endgameevaluation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isinvalid">:isinvalid</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:pawncountdifference">:pawncountdifference</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:takeslastpiece">:takeslastpiece</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:endgameevaluation_">:endgameevaluation*</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:ismate">:ismate</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:piececountdifference">:piececountdifference</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:terminal">:terminal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:enpassant">:enpassant</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isnull">:isnull</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:perpendicular">:perpendicular</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:threefoldrepetition">:threefoldrepetition</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:evaluation">:evaluation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isshufflechess">:isshufflechess</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:power">:power</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:threechecks">:threechecks</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:exchangeevaluation">:exchangeevaluation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:isstalemate">:isstalemate</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:powerdifference">:powerdifference</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:variant">:variant</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:exclude">:exclude</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:kingonthehill">:kingonthehill</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:pretransformmatchcount">:pretransformmatchcount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:variations">:variations</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:fen">:fen</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:line">:line</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:pretransformrepetitioncount">:pretransformrepetitioncount</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:variationsonly">:variationsonly</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:fivefoldrepetition">:fivefoldrepetition</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:line_">:line*</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:promote">:promote</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:whitecannotwin">:whitecannotwin</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:flip">:flip</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:losing">:losing</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:ray">:ray</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:whiteelo">:whiteelo</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:flipcolor">:flipcolor</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:markall">:markall</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:rayattack">:rayattack</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:wtm">:wtm</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:flipdiagonal">:flipdiagonal</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:match">:match</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:raydiagonal">:raydiagonal</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:xor">:xor</a></td>
  </tr>
</table>

<!-- ############################################################################## -->
<h2 id="logical">Schlüsselwörter für die Kontrolllogik</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:and">:and</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:cond">:cond</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:not">:not</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:or">:or</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:xor">:xor</a></td></tr>
</table>

<h3 id="position:and">:and&emsp;<span class='normal'>(Und)</span></h3>

<p>
Erwartet eine Liste von Positionslisten, und filtert genau dann eine Position,
wenn jede von ihnen diese Position filtert. Die Argumente werden von links nach rechts ausgewertet.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:wtm">:wtm</span></a>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:and</span></span> (
    (position <span class='piece'>&#x2654;</span>e2 <span class='piece'>&#x265a;</span>g2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a>)
    (position <span class='piece'>&#x2658;</span>e2)))<!--
--></code></pre></div>

<p>
Filtert Positionen in denen die Könige in direkter Opposition stehen, ein Springer auf
e2 platziert ist, und der weiße König steht im Schach.
</p>

<h3 id="position:cond">:cond&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Bedingte Auswertung)</span></h3>

<p>
Dieses Schlüsselwort wird in folgender allgemeinen Form angewandt:
</p>

<div class='box'><pre><code><!--
--><span style='white-space:nowrap;'><span class='keyword'>:cond</span></span> (
  (position &lt;Bedingung<sub>1</sub>&gt;) (position &lt;Ausdruck<sub>1</sub>&gt;)
  (position &lt;Bedingung<sub>2</sub>&gt;) (position &lt;Ausdruck<sub>2</sub>&gt;)
  ...
  (position &lt;Bedingung<sub>k</sub>&gt;) (position &lt;Ausdruck<sub>k</sub>&gt;))<!--
--></code></pre></div>

<p>
:cond erwartet eine beliebige Anzahl von Argumenten. Jedes Argument
<span style='white-space:nowrap;'><code>&lt;Bedingung<sub>i</sub>&gt;</code></span> wird eine <b>Klausel</b> genannt, und jedes Argument
<span style='white-space:nowrap;'><code>&lt;Ausdruck<sub>i</sub>&gt;</code></span> ist eine <b>Assoziation</b>. Es werden nacheinander alle
Klauseln von links nach rechts ausgewertet, bis eine der Klauseln eine Position filtern würde,
dann ist das Resultat des gesamtem Ausdrucks das Resultat der Auswertung der Klausel
und der zugehörigen Assoziation. Wenn keine Klausel filtert, dann kann diese Position nicht
aufgefunden werden.
</p>

<p>
Oftmals wird als letztes Paar ein Ausdruck der folgenden Form verwendet:
</p>

<div class='box'><pre><code><!--
-->(position) (position &lt;Ausdruck&gt;)<!--
--></code></pre></div>

<p>
Die leere Positionsliste filtert jede Position. Dieser letzte Fall kann verkürzt
ausgedrückt werden, indem das vorletzte Argument <span style='white-space:nowrap;'><code>(position)</code></span>
weggelassen wird, dann wird in jedem Fall das Resultat des letzten Ausdrucks
gewertet, wenn alle zuvorigen Klauseln nicht erfüllt werden.
</p>

<p>
Tatsächlich ist das Schlüsselwort <span style='white-space:nowrap;'>:cond</span> nicht redundant, denn
die folgende Umformumg mit <span style='white-space:nowrap;'>:or</span> ist nicht in allen Fällen äquivalent
(die Verwendung von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a>
oder <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:skip">:skip</span></a> durchbricht die Äquivalenz):
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
  (position &lt;Bedingung<sub>1</sub>&gt; &lt;Ausdruck<sub>1</sub>&gt;)
  (position &lt;Bedingung<sub>2</sub>&gt; &lt;Ausdruck<sub>2</sub>&gt;)
  ...
  (position &lt;Bedingung<sub>k</sub>&gt; &lt;Ausdruck<sub>k</sub>&gt;)))<!--
--></code></pre></div>

<p>
Zudem wird der <span style='white-space:nowrap;'>:cond</span>-Ausdruck teilweise wesentlich effizienter ausgeführt
(beachte beispielsweise den Fall, das <span style='white-space:nowrap;'><code>&lt;Bedingung<sub>1</sub>&gt;</code></span> erfüllt
wird, aber nicht <span style='white-space:nowrap;'><code>&lt;Ausdruck<sub>1</sub>&gt;</code></span>, dann wird der
<span style='white-space:nowrap;'>:or</span>-Ausdruck mit der nächsten Liste fortgesetzt, während der
<span style='white-space:nowrap;'>:cond</span>-Ausdruck sofort das Resultat von
<span style='white-space:nowrap;'><code>&lt;Ausdruck<sub>1</sub>&gt;</code></span> liefert).
</p>

<p>
Jedoch ist mit der <span style='white-space:nowrap;'>:or</span>-Umformung ersichtlich, warum <span style='white-space:nowrap;'>:cond</span>
beim Filtern sowohl die Klausel als auch die Assoziation verwendet, um die
gefundene Position zu markieren (auch dies unterscheidet sich vom umgeformten
Ausdruck mit <span style='white-space:nowrap;'>:or</span>). Dazu ein simples Beispiel zur Erläuterung:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><span class='keyword'>:cond</span></span> (
    (position <span class='piece'>&#x2659;</span>e7) (position <span class='piece'>&#x265f;</span>e2))))<!--
--></code></pre></div>

<p>
Steht auf den Feldern e7 ein weißer Bauer, und ein schwarzer Bauer auf dem Feld e2,
dann werden in einer gefundenen Partie sowohl das Feld e7 als auch das Feld e2
markiert.
</p>

<p>
Für ein reelles Beispiel für die Anwendung von <span style='white-space:nowrap;'>:cond</span> siehe bei
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a>.
</p>

<h3 id="position:not">:not&emsp;<span class='normal'>(Nicht)</span></h3>

<p>
Dieses Schlüsselwort kann in zwei Formen angewandt werden: entweder ist es
parameterlos, oder es hat eine Positionsliste als Parameter.
Im ersten Fall filtert dieses Schlüsselwort, wenn die Positionsliste ohne dieses
Schlüsselwort nicht filtern würde. Im zweiten Fall: das Resultat des
Arguments wird negiert. Die erste Form ist konform mit dem CQL-Standard des
Schlüsselwortes <span style='white-space:nowrap;'>:not</span>, die zweite Form ist eine Erweiterung.
</p>

<p>
Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position
  <span class='comment'>; wir suchen für beide Seiten</span>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span class='comment'>; die Mattposition muß alle folgenden Kriterien erfüllen</span>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:and">:and</span></a> (
    <span class='comment'>; der König ist von Leerfeldern umgeben, wird einmal</span>
    <span class='comment'>; attackiert, und ist matt</span>
    (position
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> <span class='piece'>&#x265a;</span> . 8
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='piece'>&#x265a;</span> 1
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:btm">:btm</span></a>)
    <span class='comment'>; überprüfe daß kein Nachbar des schwarzen Königs</span>
    <span class='comment'>; mehr als einmal attackiert wird</span>
    (position
      <span style='white-space:nowrap;'><span class='keyword'>:not</span></span>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> <span class='piece'>&#x265a;</span> .e4 1
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> .e4 &gt;=2
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>)))<!--
--></code></pre></div>

<p>
Dies findet alle Idealmatts: Studien in denen der König von Leerfeldern
umgeben ist und genau einmal angegriffen wird, so daß er auf einem
Nachbarsfeld ebenfalls genau einmal angegriffen wäre.
</p>

<p>
Die folgende Positionsliste
</p>

<div class='verb'><code>
(position <span class='piece'>&#x2656;</span>a3 <span style='white-space:nowrap;'><span class='keyword'>:not</span></span>)
</code></div>

<p>
ist äquivalent zu
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:not</span></span> (position <span class='piece'>&#x2656;</span>a3))
</code></div>

<p>
und außerdem äquivalent zu
</p>

<div class='verb'><code>
(position [<span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span><span class='piece'>&#x2655;</span><span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span><span class='piece'>&#x2659;</span><span class='piece'>&#x2654;</span>.]a3)
</code></div>

<p>
Hier ist die einfachere Schreibweise mit <span style='white-space:nowrap;'>:not</span> vorzuziehen.
</p>

<h3 id="position:or">:or&emsp;<span class='normal'>(Oder)</span></h3>

<p>
Erwartet eine Liste von Positionslisten, und filter genau dann eine Position,
wenn mindestens eine von ihnen diese Position filtert. Die Argumente werden von
links nach rechts ausgewertet.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:or</span></span> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2657;</span><span class='cql' title='Weiße Felder'>&#x25a1;</span>? 2)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265d;</span><span class='cql' title='Weiße Felder'>&#x25a1;</span>? 2)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2657;</span><span class='cql' title='Schwarze Felder'>&#x25a0;</span>? 2)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265d;</span><span class='cql' title='Schwarze Felder'>&#x25a0;</span>? 2)))<!--
--></code></pre></div>

<p>
Suche nach Partien, die Positionen mit zwei gleichfarbigen Läufern auf einer
Seite beinhalten.
</p>

<h3 id="position:xor">:xor&emsp;<span class='normal'>(Exklusives Oder)</span></h3>

<p>
Erwartet eine Liste von Positionslisten und filtert nur dann eine
Position, wenn genau eine von ihnen diese Position filtert. Die Argumente
werden von links nach rechts ausgewertet.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><span class='keyword'>:xor</span></span> ((position <span class='piece'>&#x2657;</span><span class='cql' title='Schwarze Felder'>&#x25a0;</span>?) (position <span class='piece'>&#x2657;</span><span class='cql' title='Weiße Felder'>&#x25a1;</span>?)))<!--
--></code></pre></div>

<p>
Findet Positionen auf, in denen Weiß entweder einen weißfeldrigen Läufer, oder
einen schwarzfeldrigen Läufer hat, aber nicht beides.
</p>

<!-- ############################################################################## -->
<h2 id="simple">Einfache Schlüsselwörter</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr>
    <td>      &#x2022;</td><td><a href="#position:blackcannotwin">:blackcannotwin</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:kingonthehill">:kingonthehill</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:btm">:btm</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:losing">:losing</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:castling">:castling</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:mate">:mate</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:check">:check</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:matingmaterial">:matingmaterial</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:contactcheck">:contactcheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:mustcapture">:mustcapture</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:catureforced">:catureforced</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:nocheck">:nocheck</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:doublecheck">:doublecheck</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:stalemate">:stalemate</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:endgame">:endgame</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:terminal">:terminal</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:fen">:fen</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:threechecks">:threechecks</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:fivefoldrepetition">:fen</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:threefoldrepetition">:threechecks</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:gameisover">:gameisover</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:variations">:variations</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:halfmoveclock">:halfmoveclock</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:variationsonly">:variationsonly</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:initial">:initial</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:whitecannotwin">:whitecannotwin</a></td>
  </tr>
    <td>      &#x2022;</td><td><a href="#position:insidevariation">:insidevariation</a></td>
    <td>&emsp;&#x2022;</td><td><a href="#position:wtm">:wtm</a></td>
  </tr>
  <tr>
    <td>      &#x2022;</td><td><a href="#position:ispromotedpiece">:ispromotedpiece</a></td>
  </tr>
</table>

<h3 id="position:blackcannotwin">:blackcannotwin&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schwarz kann nicht gewinnen)</span></h3>

<p>
Filtere nur dann wenn der schwarze Spieler keine Gewinnmöglichkeit mehr hat.
</p>

<p>
Normalerweise ist dies äquivalent zu folgender Abfrage:
</p>

<div class='box'><pre><code><!--
--><span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
  <span class='comment'>; nur schwarzer König</span>
  (<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> 1)
  <span class='comment'>; nur schwarzer König und schwarze Leichtfigur</span>
  (<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> 2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Schwarze Leichtfigur'>&#x25bc;</span> 1))<!--
--></code></pre></div>

<p>
In der Schachform Dreimal-Schach filtert die Suche
mit <span style='white-space:nowrap;'>:blackcannotwin</span> nur dann, wenn Schwarz nur noch den König
besitzt, und in allen anderen Schachformen hat dieses Schlüsselwort keine
Bedeutung und ist immer erfolglos.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:blackcannotwin</span></span>)
</code></div>

<p>
Filtere alle Positionen, in denen Schwarz (theoretisch) noch Gewinnmöglichkeiten hat.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:whitecannotwin">:whitecannotwin</span></a>.
</p>

<h3 id="position:btm">:btm&emsp;<span class='normal'>(Schwarz am Zug)</span></h3>

<p>
Filtere nur wenn Schwarz am Zug ist.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:wtm">:wtm</span></a>.
</p>

<h3 id="position:check">:check&emsp;<span class='normal'>(Schachgebot)</span></h3>

<p>
Eine Seite befindet sich im Schach. Dieses Schlüsselwort kann auch in
negierter Form &ndash; mit einem vorangestellten Ausrufungszeichen &ndash;
verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:check</span></span>)
</code></div>

<p>
Keine Seite befindet sich im Schach.
</p>

<p>
In <span style='white-space:nowrap;'>CQL-S</span> ist optional ein nachfolgender Figurenbezeichner zugelassen (nicht
Standard-CQL). Nun filtert <span style='white-space:nowrap;'><span class='keyword'>:check</span></span> nur dann, wenn das Schachgebot
mit dem Figurenbezeichner übereinstimmt. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:check</span></span> [<span class='piece'>&#x2655;</span>]?8)
</code></div>

<p>
Eine weiße Dame auf der gegnerischen Grundreihe bietet Schach.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:contactcheck">:contactcheck</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a>.
</p>

<h3 id="position:castling">:castling&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Rochade)</span></h3>

<p>
Dieses Schlüsselwort spezifiziert die Rochademöglichkeiten beider Seiten.
Es erwartet als Argument einen Figurenartbezeichner, wobei die Figurenarten
folgende Bedeutung haben:
</p>

<ul style='list-style-type: none'><li>
  <table>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span></code></span></td>
      <td class="r">Weiß besitzt das Recht zur kurzen Rochade.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2655;</span></code></span></td>
      <td class="r">Weiß besitzt das Recht zur langen Rochade.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span></code></span></td>
      <td class="r">Schwarz besitzt das Recht zur kurzen Rochade.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265b;</span></code></span></td>
      <td class="r">Schwarz besitzt das Recht zur langen Rochade.</td>
    </tr>
  </table>
</li></ul>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:castling</span></span> <span class='piece'>&#x2654;</span>)
</code></div>

<p>
Weiß hast das Recht zu kurzen Rochade.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:castling</span></span> [<span class='piece'>&#x2654;</span><span class='piece'>&#x2655;</span>])
</code></div>

<p>
Weiß has das Recht entweder für die kurze oder für die lange Rochade
(aber nicht für beide).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:castling</span></span> <span class='piece'>&#x2654;</span> <span style='white-space:nowrap;'><span class='keyword'>:castling</span></span> <span class='piece'>&#x2655;</span>)
</code></div>

<p>
Weiß hat das Recht für kurze und lange Rochade.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a>,
</p>

<h3 id="position:contactcheck">:contactcheck&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Kontaktschachgebot)</span></h3>

<p>
Eine Seite befindet sich im Schach, und es ist ein Kontaktschachgebot
(kein Zwischensetzen einer Figur möglich, auch nicht theoretisch).
Dies beinhaltet Springerschachgebote sowie Doppelschachgebote.
</p>

<p>
Dies ist äquivalent zu:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a> <span class='comment'>; um Schlagschachpartien auszufiltern</span>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> [<span class='piece'>&#x2658;</span><span class='piece'>&#x2659;</span>] <span class='piece'>&#x265a;</span> 1 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>)
    (position [<span class='piece'>&#x2655;</span><span class='piece'>&#x2656;</span>]d4 <span class='piece'>&#x265a;</span>[c4,e4,d3,d5] <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>)
    (position [<span class='piece'>&#x2655;</span><span class='piece'>&#x2657;</span>]d4 <span class='piece'>&#x265a;</span>[c3,c5,e3,e5] <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>)))<!--
--></code></pre></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:contactcheck</span></span>)
</code></div>

<p>
Keine Seite befindet sich im Schach, oder aber es ist kein Kontaktschachgebot.
</p>

<p>
Es können mittels einem nachfolgenden Figurenbezeichner die schachbietenden Figuren
eingeschränkt werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:contactcheck</span></span> <span class='piece'>&#x2655;</span>)
</code></div>

<p>
Eine weiße Dame steht benachbart zum gegnerischen König (ein Kontaktschachgebot).
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscontactcheck">:iscontactcheck</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a>.
</p>

<h3 id="position:doublecheck">:doublecheck&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Doppelschachgebot)</span></h3>

<p>
Eine Seite befindet sich im Schach, und es ist ein Doppelschachgebot.
</p>

<p>
Tatsächlich ist dies eine Kurzschreibweise für:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a> <span class='comment'>; um Schlagschachpartien auszufiltern</span>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:attackcount">:attackcount</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='piece'>&#x265a;</span> 2
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>)<!--
--></code></pre></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:doublecheck</span></span>)
</code></div>

<p>
Filtere alle Positionen, in denen keine Seite ein Doppelschachgebot erhalten hat.
</p>

<p>
Es können mittels einem nachfolgenden Figurenbezeichner die schachbietenden Figuren
eingeschränkt werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:doublecheck</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span>]
</code></div>

<p>
Filtert alle Positionen, in denen eine weißer Läufer und ein weißer Turm zusammen
Schach bieten (wie in der "immergrünen" Partie).
</p>

<p>
Sollen auch die Felder der beiden Figuren spezifiziert werden, dann ist hier die
Verwendung von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a> angebracht:
</p>

<div class='box'><pre><code><!--
-->(position :and ((:check <span class='piece'>&#x2656;</span>d1) (:check <span class='piece'>&#x2657;</span>f5)))<!--
--></code></pre></div>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isdoublecheck">:isdoublecheck</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:contactcheck">:contactcheck</span></a>.
</p>

<h3 id="position:endgame">:endgame&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Endspiel)</span></h3>

<p>
Die Position ist eine Endspielposition. Dieses Schlüsselwort ist äquivalent
zur folgenden Abfrage:
</p>

<div class='box'><pre><code><!--
-->  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
      (position
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>] 0
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span>] 0 3
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x265c;</span><span class='piece'>&#x265d;</span><span class='piece'>&#x265e;</span>] 0 3)
      (position
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2655;</span> 1
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265b;</span> 1
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x2656;</span><span class='piece'>&#x265c;</span>] 0
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span> 0 1
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Schwarze Leichtfigur'>&#x25bc;</span> 0 1)
      (position
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2655;</span> 1
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2656;</span> 0
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span> 0 1
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265b;</span> 0
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:power">:power</span></a> [<span class='piece'>&#x265c;</span><span class='piece'>&#x265d;</span><span class='piece'>&#x265e;</span>] 0 16
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>)))<!--
--></code></pre></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:endgame">:endgame</span></a>)
</code></div>

<p>
Filtere alle Positionen, in denen keine Endspielstellung vorliegt.
</p>

<h3 id="position:fen">:fen&ensp;<img src="../images/ft-scidb-tiny.png" alt="" /></h3>

<p>
Die Position ist identisch zur beschriebenen Stellung im Argument. Dieses
Argument muß eine gültige <a href="FEN.html">FEN (Forsyth-Edwards-Notation)</a>
sein.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:fen</span></span> "rnbqkbnr/pppp1ppp/4p3/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2")<!--
--></code></pre></div>

<p>
Bezeichnet die Grundstellung des französischen Abspiels, die normalerweise
mit der Zugfolge 1.e4 e6 2.d4 d5 erreicht wird.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line_">:line*</span></a>.
</p>

<h3 id="position:fivefoldrepetition">:fivefoldrepetition&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Fünffache Stellungswiederholung)</span></h3>

<p>
Filtere die erste Position in der Hauptvariante, die zum fünften Mal in der
Partie wiederholt wurden, mit der gleichen Seite am Zug, und den gleichen
Rochade- und en-passant-Rechten. Diese Wiederholung muß nicht aufeinanderfolgen.
Dies stimmt mit der neuen FIDE-Regelung der
<a href="http://de.wikipedia.org/wiki/Stellungswiederholung">
Stellungswiederholung&nbsp;<span class="awesome">&#xf08e;</span></a> überein.
</p>

<p>
Innerhalb von Untervarianten hat dieses Schlüsselwort keine Wirkung und ist
immer erfolglos.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:fivefoldrepetition</span></span>)
</code></div>

<p>
Filtere nur Positionen, in denen keine fünffache Stellungswiederholung
aufgetreten ist. Soll keine Positionen mehr aufgefunden werden nachdem eine
fünffache Zugwiederholung stattgefunden hat, so wird dies mit
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a> realisiert:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:fivefoldrepetition</span></span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>)
</code></div>

<h3 id="position:gameisover">:gameisover&ensp;<img src="../images/ft-scidb-tiny.png" alt="" /></h3>

<p>
Dies ist eine Kurzschreibweise für:
</p>

<div class='box'><pre><code><!--
-->  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:stalemate">:stalemate</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:losing">:losing</span></a>)           <span class='comment'>; Schlagschach</span>
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:threechecks">:threechecks</span></a>)      <span class='comment'>; Dreimal-Schach</span>
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:kingonthehill">:kingonthehill</span></a>)    <span class='comment'>; König-auf-dem-Hügel</span>
    (position <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:matingmaterial">:matingmaterial</span></a>))<!--
--></code></pre></div>

<p>
Zu beachten ist das unerwartete Resultate erfolgen können, wenn die Suche
Untervarianten mit einschließt.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:gameisover</span></span>)
</code></div>

<p>
Filtere alle Partien die in einer Stellung enden, die nicht mehr
weitergespielt werden kann.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:gameisover</span></span>)
</code></div>

<p>
Filtert alle Positionen, die (aus Sicht der Schachregeln) noch weitergespielt
werden können.
</p>

<h3 id="position:halfmoveclock">:halfmoveclock&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Halbzugzähler)</span></h3>

<p>
Dieses Schlüsselwort filtert Positionen, in denen der Halbzugzähler innerhalb
der gegebenen <a href="CQL-Range-Specifiers.html">Bereichsangabe</a> liegt.
Innerhalb von Untervarianten hat dieses Schlüsselwort keine Wirkung und wird
immer erfüllt.
</p>

<p>
Halbzugzähler: Das ist die Anzahl der Halbzüge seit dem letzten Zug, in dem
ein Bauer zog oder eine Figur geschlagen wurde. Dieser Zähler entscheidet
auch, ob eine Seite ein Remis reklamieren kann aufgrund der 50-Züge-Regel.
</p>

<p>
Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmoveclock</span></span> &lt;=30)
</code></div>

<p>
Schließe alle Positionen aus, in denen in mehr als 30 Halbzügen (15 Züge
auf jeder Seite) kein Bauernzug erfolgte und auch kein Stein geschlagen
wurde.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmoveclock</span></span> 100 !<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>)
</code></div>

<p>
Finde alle Positionen in denen die Seite am Zug aufgrund der 50-Züge-Regel Remis
hätte reklamieren könnte, es aber nicht tat.
</p>

<h3 id="position:initial">:initial&emsp;<span class='normal'>(Startposition)</span></h3>

<p>
Dies ist die erste Position in der Partie (vor dem ersten Zug). Tatsächlich ist
dies nur eine andere Schreibweise für:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a> 0
</code></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:initial</span></span>)
</code></div>

<p>
Filtere alle Positionen außer der ersten Position in der Partie.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>.
</p>

<h3 id="position:insidevariation">:insidevariation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Innerhalb einer Untervariante)</span></h3>

<p>
Dieses Schlüsselwort filtert genau dann, wenn eine Position in einer Untervariante
aufgefunden wird. Dies kann niemals geschehen, wenn nicht mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:variations">:variations</span></a>
die Suche in Untervarianten zugelassen wird.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:insidevariation</span></span>)
</code></div>

<p>
Diese Position wird nicht in einer Untervariante vorgefunden.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:variations">:variations</span></a>.
</p>

<h3 id="position:kingonthehill">:kingonthehill&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(König auf dem Hügel)</span></h3>

<p>
Dieses Schlüsselwort hat nur in der Schachform König-auf-dem-Hügel eine
Bedeutung und filtert alle Endstellungen, in denen ein König eines der Zentralfelder
<span style='white-space:nowrap;'>(d4,e4,d5,e5)</span> erreicht hat. In allen anderen Schachformen wird dieses Schlüsselwort
niemals erfüllt.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden.
</p>

<p>
Anmerkung: Der offizielle Name dieser Schachform (im Englischen) ist zwar King-of-the-Hill,
nach Ansicht des Autors sollte sie aber King-on-the-Hill benannt werden, denn das Spiel endet
sobald eben ein König den Hügel erreichte.
</p>

<h3 id="position:losing">:losing&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Verlust)</span></h3>

<p>
Filtere nur Endstellungen, in denen eine der Seiten alle Figuren verlor.
Dies ist nur in der Schachformen Schlagschach möglich.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:losing</span></span>)
</code></div>

<p>
Filtere nur Stellungen, in denen keine der Seiten alle Figuren verlor.
</p>

<h3 id="position:mate">:mate&emsp;<span class='normal'>(Schachmatt)</span></h3>

<p>
Filtere nur dann, wenn es eine Mattstellung ist.
</p>

<div class='annotation'><img src='../images/annotation.png' style='float:left; margin:0 1em 0 0' alt='annotation' />
Wenn nach Mattstellungen gesucht wird, dann sollte stets auch dieses
Schlüsselwort mitverwendet werden auch wenn es aufgrund anderer
Bedingungen überflüssig erscheint, denn es beschleunigt die Suche (nur
Endstellungen werden geprüft).
</div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:mate</span></span>)
</code></div>

<p>
Schließe alle Mattstellungen aus.
</p>

<p>
Ein weiteres Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:mate</span></span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movenumber">:movenumber</span></a> 1 20)
</code></div>

<p>
Filtere nur dann wenn eine Seite in den ersten 20 Zügen mattgesetzt wurde.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a>,
</p>

<h3 id="position:matingmaterial">:matingmaterial&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Mattmaterial)</span></h3>

<p>
Filtere Positionen, in denen einer der Spieler noch über Mattmaterial verfügt.
In der Schachform Dreimal-Schach filtert die Suche
mit <span style='white-space:nowrap;'>:matingmaterial</span> nur dann, solange nicht nur noch Könige
auf dem Schachbrett sind, und in allen anderen Schachformen (außer
Dreimal-Schach und Normalschach)
hat dieses Schlüsselwort keine Bedeutung und ist immer erfolgreich.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:matingmaterial</span></span>)
</code></div>

<p>
Filtere Positionen, in denen keiner der Spieler noch über Mattmaterial verfügt.
Normalerweise ist dies äquivalent zur folgenden Abfrage:
</p>

<div class='box'><pre><code><!--
--><span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
  <span class='comment'>; König gegen König</span>
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 2)
  <span class='comment'>; König und Leichtfigur gegen König</span>
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 3 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span><span class='cql' title='Schwarze Leichtfigur'>&#x25bc;</span>] 1)
  <span class='comment'>; König and Läufer gegen König und Läufer,</span>
  <span class='comment'>; beide Läufer entweder weiß- oder schwarzfeldrig</span>
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 4 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x2657;</span><span class='piece'>&#x265d;</span>]<span class='cql' title='Weiße Felder'>&#x25a1;</span>? 2)
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 4 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> [<span class='piece'>&#x2657;</span><span class='piece'>&#x265d;</span>]<span class='cql' title='Schwarze Felder'>&#x25a0;</span>? 2))<!--
--></code></pre></div>

<p>
Die negierte Form ist in allen anderen Schachformen als Dreimal-Schach
immer erfolglos.
</p>

<h3 id="position:mustcapture">:mustcapture&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schlagzwang)</span></h3>

<p>
In dieser Stellung ist die Seite am Zug verpflichtet eine Figur zu schlagen
(was auch heißt, daß in dieser Stellung eine Figur geschlagen werden kann). Dieses
Schlüsselwort ist für die Schachform Schlagschach vorgesehen,
und wird in anderen Schachform niemals erfüllt.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:mustcapture</span></span>)
</code></div>

<p>
In dieser Stellung ist die Seite am Zug nicht verpflichtet eine Figur zu schlagen
(was auch heißt, das keine geschlagen werden kann). Diese Bedingung wird für alle anderen
Schachformen (als Schlagschach) immer erfüllt.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mustcapture">:mustcapture</span></a>,
</p>

<h3 id="position:nocheck">:nocheck&emsp;<span class='normal'>(Kein Schachgebot)</span></h3>

<p>
Dieses Schlüsselwort ist veraltet und sollte nicht mehr verwendet werden, es wird
nur aus Kompatibilitätsgründen zu CQL unterstützt. Es hat die gleiche Bedeutung
wie <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:check">:check</span></a>.
</p>

<h3 id="position:stalemate">:stalemate&emsp;<span class='normal'>(Patt)</span></h3>

<p>
Filtert nur Pattstellungen.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:stalemate</span></span>)
</code></div>

<p>
Filtere nur Positionen in denen niemand patt ist.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isstalemate">:isstalemate</span></a>,
</p>

<h3 id="position:terminal">:terminal&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Endstellung)</span></h3>

<p>
Dies ist die letzte Position in der Partie (nach dem letzten Zug). Tatsächlich ist
dies nur eine andere Schreibweise für:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a> end
</code></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:terminal</span></span>)
</code></div>

<p>
Dies ist nicht die letzte Position in der Partie.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a>,<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>.
</p>

<h3 id="position:threefoldrepetition">:threefoldrepetition&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Dreifache Stellungswiederholung)</span></h3>

<p>
Filtere die erste Position in der Hauptvariante, die zum dritten Mal in der
Partie wiederholt wurden, mit der gleichen Seite am Zug, und den gleichen
Rochade- und en-passant-Rechten. Diese Wiederholung muß nicht aufeinanderfolgen.
Dies stimmt mit der alten FIDE-Regelung der
<a href="http://de.wikipedia.org/wiki/Stellungswiederholung">
Stellungswiederholung&nbsp;<span class="awesome">&#xf08e;</span></a> überein.
</p>

<p>
Innerhalb von Untervarianten hat dieses Schlüsselwort keine Wirkung und ist
immer erfolglos.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:threefoldrepetition</span></span>)
</code></div>

<p>
Filtere nur Positionen, in denen keine dreifache Stellungswiederholung
aufgetreten ist. Soll keine Positionen mehr aufgefunden werden nachdem eine
dreifache Zugwiederholung stattgefunden hat, so wird dies mit
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a> realisiert:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:threefoldrepetition</span></span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>)
</code></div>

<h3 id="position:threechecks">:threechecks&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Drittes Schach)</span></h3>

<p>
Dieses Schlüsselwort hat nur in der Schachform Dreimal-Schach eine
Bedutung und filtert alle Endstellungen, in denen einem König zum dritten Mal Schach
geboten wurde. In allen anderen Schachformen wird dieses Schlüsselwort niemals erfüllt.
Somit ist dieses Schlüsselwort nicht identisch zu
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:checkcount">:checkcount</span></a> 3 : &lt;=2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
</code></div>

<p>
denn obiger Ausdruck kann auch in anderen Schachformen erfüllt werden.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden.
</p>

<h3 id="position:variations">:variations&emsp;<span class='normal'>(Varianten)</span></h3>

<p>
Ziehe die Untervarianten in die Suche mit ein. Ohne diese Angabe werden
die Untervarianten bei der Suche ausgelassen.
</p>

<h3 id="position:variationsonly">:variationsonly&emsp;<span class='normal'>(Nur die Varianten)</span></h3>

<p>
Suche nur in den Untervarianten, nicht in der Hauptvariante.
</p>

<h3 id="position:whitecannotwin">:whitecannotwin&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Weiß kann nicht gewinnen)</span></h3>

<p>
Filtert nur dann wenn Weiß keine Gewinnmöglichkeit mehr hat.
</p>

<p>
Normalerweise ist dies äquivalent zur folgenden Abfrage:
</p>

<div class='box'><pre><code><!--
--><span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
  <span class='comment'>; nur weißer König</span>
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> 1)
  <span class='comment'>; nur weißer König und weiße Leichtfigur</span>
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> 2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span> 1))<!--
--></code></pre></div>

<p>
In der Schachform Dreimal-Schach filtert die Suche
mit <span style='white-space:nowrap;'>:whitecannotwin</span> nur dann, wenn Weiß nur noch den König
besitzt, und in allen anderen Schachformen hat dieses Schlüsselwort keine
Bedeutung und ist immer erfolglos.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:whitecannotwin</span></span>)
</code></div>

<p>
Filtere alle Positionen, in denen Weiß noch Gewinnmöglichkeiten hat
(wenn vielleicht auch nur theoretisch).
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:blackcannotwin">:blackcannotwin</span></a>.
</p>

<h3 id="position:wtm">:wtm&emsp;<span class='normal'>(Weiß am Zug)</span></h3>

<p>
Filtert nur wenn Weiß am Zug ist.
</p>

<!-- ############################################################################## -->
<h2 id="transform">Transformierende Schlüsselwörter</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:flip">:flip</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:flipcolor">:flipcolor</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:flipdiagonal">:flipdiagonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:flipdihedral">:flipdihedral</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:fliphorizontal">:fliphorizontal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:flipvertical">:flipvertical</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:inside">:inside</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shift">:shift</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shiftdiagonal">:shiftdiagonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shifthorizontal">:shifthorizontal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shiftmaindiagonal">:shiftmaindiagonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shiftoffdiagonal">:shiftoffdiagonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:shiftvertical">:shiftvertical</a></td></tr>
</table>

<h3 id="position:flip">:flip&emsp;<span class='normal'>(Spiegelung)</span></h3>

<p>
Dies ist identisch zu <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipdihedral">:flipdihedral</span></a> (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:flipcolor">:flipcolor&emsp;<span class='normal'>(Farbwechsel)</span></h3>

<p>
Diese Farbwechseltransformation bewirkt zwei Transformationen: zum einen eine
Spiegelung an der vertikalen Halbierungslinie des Schachbretts
(&#x21d2; <a href="CQL-Transformations.html">Transformationen</a>),
zum anderen einen Austausch der Farben; aus Weiß wird Schwarz, und aus Schwarz
wird Weiß. Diese Farbwechseltransformation wirkt sich nicht auf die Suchliste
<span style='white-space:nowrap;'><code>(match</code></span> <span style='white-space:nowrap;'><code>...)</code></span> aus (dafür gibt es
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:eithercolor">:eithercolor</span></span> : <span style='white-space:nowrap;'>match</span></a>). <span style='white-space:nowrap;'><a href="CQL-Flipcolor-List.html#flipcolor:">:</span></span> : <span style='white-space:nowrap;'>flipcolor</span></a> darf nicht verwendet werden
wenn in der zugehörigen Suchliste <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:eithercolor">:eithercolor</span></span> : <span style='white-space:nowrap;'>match</span></a> verwendet wird
(denn <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:eithercolor">:eithercolor</span></span> : <span style='white-space:nowrap;'>match</span></a> bewirkt bereits eine Farbwechseltransformation
in den Positionslisten).
</p>

<h3 id="position:flipdiagonal">:flipdiagonal&emsp;<span class='normal'>(Diagonale Spiegelung)</span></h3>

<p>
Die diagonale und gegendiagonale Spiegelungstransformation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:flipdihedral">:flipdihedral&emsp;<span class='normal'>(Diedrische Transformation)</span></h3>

<p>
Die diedrische Transformation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:fliphorizontal">:fliphorizontal&emsp;<span class='normal'>(Horizontale Spiegelung)</span></h3>

<p>
Die horizontale Spiegelungstransformation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:flipvertical">:flipvertical&emsp;<span class='normal'>(Vertikale Spiegelung)</span></h3>

<p>
Die vertikale Spiegelungstransformation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:inside">:inside&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Innerhalb)</span></h3>

<p>
Dieses Schlüsselwort filtert Translationen, bei denen die involvierten Figuren
innerhalb einer bestimmten Region auf dem Schachbrett verbleiben. Es werden
zwei Argumente erwartet, ein Figurenbezeichner und ein Felderbezeichner.
Jegliche Translation beinflußt nur das erste Argument. Eine Translation wird
von der <span style='white-space:nowrap;'>:inside</span>-Beschränkung gefiltert, wenn mindestens eine Figur,
die mit dem ersten Argument bezeichnet wird (wobei die Transformation mit
einbezogen ist), auf einem Feld steht, das vom zweiten Argument bezeichnet wird.
</p>

<p>
Die nachfolgenden Beispiele dienen nur zur Demonstration, zur
Trippelbauernsuche sollte das Schlüsselwort <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncount">:pawncount</span></a>
eingesetzt werden.
</p>

<p>
Wir formulieren die folgende Abfrage um Trippelbauern aufzufinden:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2659;</span>[b2-7] 3
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shifthorizontal">:shifthorizontal</span></a>)<!--
--></code></pre></div>

<p>
Um Trippelbauern auf der Hauptdiagonalen (a1-h8) aufzufinden, erweitern
wir diese Abfrage:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:inside</span></span> <span class='piece'>&#x2659;</span>[b2-7] [b2,c3,d4,e5,f6,g7]
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2659;</span>[b2-7] 3
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shifthorizontal">:shifthorizontal</span></a>)<!--
--></code></pre></div>

<h3 id="position:shift">:shift&emsp;<span class='normal'>(Translation)</span></h3>

<p>
Die Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:shiftdiagonal">:shiftdiagonal&emsp;<span class='normal'>(Diagonale Translation)</span></h3>

<p>
Die hauptdiagonale und gegendiagonale Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:shifthorizontal">:shifthorizontal&emsp;<span class='normal'>(Horizontale Translation)</span></h3>

<p>
Die horizontale Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:shiftmaindiagonal">:shiftmaindiagonal&emsp;<span class='normal'>(Hauptdiagonale Translation)</span></h3>

<p>
Die hauptdiagonale Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:shiftoffdiagonal">:shiftoffdiagonal&emsp;<span class='normal'>(Gegendiagonale Translation)</span></h3>

<p>
Die gegendiagonale Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<h3 id="position:shiftvertical">:shiftvertical&emsp;<span class='normal'>(Vertikale Translation)</span></h3>

<p>
Die vertikale Translation (&#x21d2;
<a href="CQL-Transformations.html">Transformationen</a>).
</p>

<!-- ############################################################################## -->
<h2 id="piece">Schlüsselwörter für die Figurenanalyse</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:attackcount">:attackcount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:goodbishop">:goodbishop</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:opposition">:opposition</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:pawncount">:pawncount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:pawncountdifference">:pawncountdifference</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:perpendicular">:perpendicular</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:piececount">:piececount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:piececountdifference">:piececountdifference</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:power">:power</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:powerdifference">:powerdifference</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:ray">:ray</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:rayattack">:rayattack</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:raydiagonal">:raydiagonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:rayhorizontal">:rayhorizontal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:rayorthogonal">:rayorthogonal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:rayvertical">:rayvertical</a></td></tr>
</table>

<h3 id="position:attackcount">:attackcount&emsp;<span class='normal'>(Angriffszähler)</span></h3>

<p>
Dieses Schlüsselwort erwartet als Argumente zwei Figurenbezeichner, gefolgt
von einer <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Der erste
ist der Figurenbezeichner der attackierenden Figuren, der zweite ist
der Figurenbezeichner der angegriffenen Figuren. Ein Angriff einer Figur
auf ein Feld liegt vor, wenn die bezeichnete Figur auf dieses Feld ziehen kann.
<span style='white-space:nowrap;'>:attackcount</span> zählt alle gültigen Züge (Angriffe), deren Ausgangsfeld
vom ersten Argument bezeichnet wird, und deren Zielfeld vom zweiten Argument
bezeichnet wird.
</p>

<p>
Das Schlüsselwort <span style='white-space:nowrap;'>:attackcount</span> filtert eine Position, wenn die
Gesamtzahl aller gültigen Angriffe in dieser Position innerhalb der gegebenen
Bereichsangabe liegt.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='piece'>&#x265a;</span> 2)
</code></div>

<p>
Filtert jede Position mit einem Doppelangriff weißer Figuren auf den
schwarzen König (jedoch sollte für diese Abfrage
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a> in Verbindung mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:btm">:btm</span></a>
vorgezogen werden).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='piece'>&#x265a;</span> 2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>)
</code></div>

<p>
Filtert jede Position mit einem Doppelangriff auf einen König
(auch hier sollte <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a> vorgezogen werden).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> .h3 1)
</code></div>

<p>
Filtert eine Position, in der genau eine weiße Figur auf das freie Feld h3
ziehen kann.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span>][a-c8] ??1 5 9)
</code></div>

<p>
Filtert eine Position, in der die Anzahl der Möglichkeiten, daß ein weißer
Turm oder ein weißer Läufer auf den Feldern a8, b8, oder c8 auf ein Feld
der ersten Reihe ziehen kann, zwischen 5 und 9 liegt (inklusive).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='piece'>&#x265e;</span> [<span class='piece'>&#x2654;</span><span class='piece'>&#x2656;</span><span class='piece'>&#x2655;</span>] &gt;=3)
</code></div>

<p>
Filtert eine Position, in der es genau drei Möglichkeiten gibt, daß ein
schwarzer Springer den weißen König oder eine weiße Schwerfigur attackiert.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> [<span class='piece'>&#x2654;</span><span class='piece'>&#x265a;</span>] ? 0)
</code></div>

<p>
Beide Könige können in dieser Position nicht ziehen.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> ??8 0)
</code></div>

<p>
Keine weiße Figur kann in dieser Position auf die schwarze Grundreihe ziehen.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> ? 1)
</code></div>

<p>
In dieser Position gibt es nur einen möglichen Zug. Allerdings
sollte zu diesem Zweck <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:forced">:forced</span></a> verwendet werden.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:attackcount</span></span> [<span class='piece'>&#x2658;</span><span class='piece'>&#x265e;</span>][+] . 0)
</code></div>

<p>
In dieser Position kann kein Springer eingesetzt werden
(Einsetzschach, Tandemschach).
</p>

<h3 id="position:goodbishop">:goodbishop&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Guter Läufer?)</span></h3>

<p>
Filtert Positionen mit mindestens einem Läufer, der als <i>gut</i> bzw. als
<i>schlecht</i> eingestuft wurde. <span style='white-space:nowrap;'>:goodbishop</span> erwartet als Argumente
zuerst einen Figurenbezeichner, bei dem nur Läufer als Figuren erlaubt sind. Dann
folgen entweder zwei <a href="CQL-Range-Specifiers.html">Bereichsangaben</a>
oder zwei <a href="CQL-Percentage-Specifiers.html">prozentuale Angaben</a>.
Die erste Bereichsangabe ist die Anzahl bzw. der prozentuale Anteil
der gegnerischen Bauern, die von diesem Läufer angreifbar sind &ndash; wobei
sich die prozentuale Angabe auf die Anzahl der gegnerischen Bauern bezieht &ndash;
und die zweite Bereichsangabe ist die Anzahl bzw. der prozentuale Anteil der
eigenen Bauern, die den Läufer nicht blockieren &ndash; wobei sich hier die
prozentuale Angabe auf die Anzahl eigener Bauern bezieht. Alle Bereichsangaben
werden für jeden gefundenen Läufer einzeln geprüft. Die beiden Bereichsangaben
müssen durch das Trennzeichen <span style='white-space:nowrap;'><code>:</code></span> abgetrennt werden.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:goodbishop</span></span> <span class='piece'>&#x2657;</span>[<span class='cql' title='Schwarze Felder'>&#x25a0;</span>?] &gt;50% : &gt;50%)
</code></div>

<p>
Weiß hat mindestens einen <i>guten</i> schwarzfeldrigen Läufer, denn mehr
als 50% der gegnerischen Bauern stehen auf einem schwarzen Feld (und sind
somit für ihn angreifbar), und mehr als 50% der eigenen Bauern stehen
auf einem weißen Feld (und blockieren somit nicht diesen Läufer).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:goodbishop</span></span> <span class='piece'>&#x2657;</span> &gt;50% : &gt;50%)
</code></div>

<p>
Weiß hat mindestens einen <i>guten</i> Läufer.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:goodbishop</span></span> [<span class='piece'>&#x2657;</span><span class='piece'>&#x265d;</span>] &lt;=30% : &lt;=20%)
</code></div>

<p>
Eine der Parteien hat einen sehr <i>schlechten</i> Läufer.
</p>

<h3 id="position:opposition">:opposition&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Opposition)</span></h3>

<p>
Dieses Schlüsselwort filtert alle Positionen, in denen der König in Opposition
zum anderen König steht. Als optionales Argument kann ein Figurenartbezeichner
mitgegeben werden, wobei die Figurenarten folgende Bedeutung haben:
</p>

<ul style='list-style-type: none'><li>
  <table>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span></code></span></td>
      <td class="r">Der weiße König steht in Opposition zum schwarzen König.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span></code></span></td>
      <td class="r">Der schwarze König steht in Opposition zum weißen König.</td>
    </tr>
  </table>
</li></ul>

<p>
Ist keine Figurenart gegeben, dann wird berechnet, ob der König der Seite mit dem
Zugrecht in Opposition zum anderen König steht.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden, dann werden die Positionen gefiltert,
in denen der König nicht in Oppositin steht.
</p>

<p>
Die Anwendung dieses Schlüsselwortes ist nur in bestimmten Endspielsituationen
sinnvoll, um zu überprüfen, ob z.B. der König wieder in Opposition ist. Es wird
mit einer rein formalen Berechnung über den Abstand der Könige unter Einbeziehung
des Zugrechts über die Opposition entschieden. Andere Figuren auf dem Brett, selbst
Schachgebote, werden nicht in dieser Berechnung berücksichtigt. So würde das
folgende Beispiel sogar bereits die Grundstellung filtern:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:opposition</span></span> <span class='piece'>&#x2654;</span>)
</code></div>

<h3 id="position:pawncount">:pawncount&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Bauernzählung)</span></h3>

<p>
<span style='white-space:nowrap;'>:pawncount</span> dient zur Zählung von Bauernstrukturen, bzw. von
Bauerneigenschaften. Das erste Argument ist ein Figurenbezeichner, der nur
Bauern enthalten darf, gefolgt von einer bindestrich-separierten Aufzählung
von Eigenschaften, und als letztes Argument wird entweder eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a> oder eine
<a href="CQL-Percentage-Specifiers.html">prozentuale Angabe</a>
erwartet. Die prozentuale Angabe bezieht sich immer auf die gesamte
Anzahl der Bauern auf dem Brett, die die Farbe der Bauern im
Figurenbezeichner besitzen. Dieses Schlüsselwort filtert genau dann,
wenn die Zählung von Bauernvorkommen mit allen der genannten Eigenschaften
innerhalb des gegebenen Bereichs liegt.
</p>

<p>
Die unterstützen Bauerneigenschaften bzw. Bauernstruktureigenschaften sind:
</p>

<div class='box'>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>single</code></span></td>
      <td class="r">Einzelbauern: Zähle alle Bauern einer Farbe.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>single!</code></span></td>
      <td class="r">Einzelbauern: Zähle alle Linien, auf denen nur ein Bauer
                    einer Farbe steht (ohne die gegnerische Farbe zu beachten).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>double</code></span></td>
      <td class="r">Doppelbauern: Zähle alle Bauern einer Farbe auf einer Linie,
                    wenn sich mindestens zwei Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>double!</code></span></td>
      <td class="r">Doppelbauern (exakt): Zähle zwei Bauern einer Farbe auf einer Linie,
                    wenn sich dort genau zwei Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>triple</code></span></td>
      <td class="r">Trippelbauern: Zähle alle Bauern einer Farbe auf einer Linie,
                    wenn sich mindestens zwei Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>triple!</code></span></td>
      <td class="r">Trippelbauern (exakt): Zähle drei Bauern einer Farbe auf einer Linie,
                    wenn sich dort genau drei Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>triple(n)</code></span></td>
      <td class="r">Zähle alle Bauern einer Farbe auf einer Linie,
                    wenn sich mindestens n Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>triple!(n)</code></span></td>
      <td class="r">Zähle n Bauern einer Farbe auf einer Linie,
                    wenn sich dort genau n Bauern dieser Farbe auf dieser
                    Linie befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>uno</code></span></td>
      <td class="r">Einzelbauern: Zähle alle Bauern einer Farbe.
                    (dies ist äquivalent zu <span style='white-space:nowrap;'><code>single</code></span>).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>uno!</code></span></td>
      <td class="r">Einzelbauern: Zähle alle Reihen, auf denen nur ein Bauer
                    einer Farbe steht (ohne die gegnerische Farbe zu beachten).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>duo</code></span></td>
      <td class="r">Bauernduo: Zähle alle Bauern einer Farbe auf einer Reihe,
                    wenn sich mindestens zwei Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>duo!</code></span></td>
      <td class="r">Bauernduo (exakt): Zähle zwei Bauern einer Farbe auf einer Reihe,
                    wenn sich dort genau zwei Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>trio</code></span></td>
      <td class="r">Bauerntrio: Zähle alle Bauern einer Farbe auf einer Reihe,
                    wenn sich mindestens drei Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>trio!</code></span></td>
      <td class="r">Bauerntrio (exakt): Zähle drei Bauern einer Farbe auf einer Reihe,
                    wenn sich dort genau drei Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>quart</code></span></td>
      <td class="r">Bauernquart: Zähle alle Bauern einer Farbe auf einer Reihe,
                    wenn sich mindestens vier Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>quart!</code></span></td>
      <td class="r">Bauernquart (exakt): eZähle vier Bauern einer Farbe auf einer Reihe,
                    wenn sich dort genau vier Bauern dieser Farbe auf dieser
                    Reihe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>quart(n)</code></span></td>
      <td class="r">Bauern verbunden in einer Reihe: es werden alle verbundenen Bauern
                    auf einer Reihe gezählt, wenn mindestens n Bauern zu diesem Verbund
                    gehören.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>quart!(n)</code></span></td>
      <td class="r">Bauern verbunden in einer Reihe (exakt): es werden alle
                    verbundenen Bauern auf einer Reihe gezählt, wenn genau n
                    Bauern zu diesem Verbund gehören.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>connected</code></span></td>
      <td class="r">Verbundene Bauern: es werden alle Bauern gezählt, die einen
                    Bauern der gleichen Farbe auf einer benachbarten Linie haben.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>integrated</code></span></td>
      <td class="r">Integrierte Bauern: es werden alle Bauern gezählt, die
                    auf allen Nachbarslinien Bauern der gleichen Farbe
                    haben.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>isolated</code></span></td>
      <td class="r">Isolierte Bauern (Isolani): es werden alle Bauern gezählt,
                    die keinen Bauern gleicher Farbe auf einer benachbarten
                    Linie haben.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>halfisolated</code></span></td>
      <td class="r">Halb-isolierte Bauern: es werden alle Bauern gezählt,
                    die auf einer benachbarten Linie mindstens einen
                    gleichfarbigen Bauern haben, aber keinen auf der anderen
                    benachbarten Linie. Ein Randbauer kann niemals
                    halb-isoliert sein.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>defended</code></span></td>
      <td class="r">Verteidigte Bauern: es werden alle Bauern gezählt, die von
                    einem Bauern der gleichen Farbe gedeckt werden (auch wenn
                    sie nicht angegriffen sind).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>defender</code></span></td>
      <td class="r">Verteidigende Bauern: es werden alle Bauern gezählt, die
                    einen Bauern der gleichen Farbe decken (auch wenn der
                    gedeckte Bauer nicht angegriffen ist).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>chained</code></span></td>
      <td class="r">Bauernkette: es werden alle Bauern gezählt, die sich mit
                    gleichfarbigen Bauern auf einer Schräge befinden (sie
                    sind verbunden, und bis auf den hintersten sind alle
                    gedeckt).</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>chained(n)</code></span></td>
      <td class="r">Bauernkette: es werden alle Bauern gezählt, die sich mit
                    gleichfarbigen Bauern auf einer Schräge befinden (sie
                    sind verbunden, und bis auf den hintersten sind alle
                    gedeckt), aber nur wenn sich in diesem Verbund mindestens
                    n Bauern befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>chained!(n)</code></span></td>
      <td class="r">Bauernkette: es werden alle Bauern gezählt, die sich mit
                    gleichfarbigen Bauern auf einer Schräge befinden (sie
                    sind verbunden, und bis auf den hintersten sind alle
                    gedeckt), aber  nur wenn sich in diesem Verbund genau
                    n Bauern befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>passed</code></span></td>
      <td class="r">Freibauern: es werden alle Bauern gezählt, die keinen
                    gegnerischen Bauer auf der gleichen Linie vor sich haben,
                    und von keinem gegnerischen Bauern auf einer benachbarten
                    Linie gestoppt werden können.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>candidate</code></span></td>
      <td class="r">Kandidaten: es werden alle Bauern gezählt, die keinen
                    gegnerischen Bauer auf der gleichen Linie vor sich haben,
                    und wenn die Anzahl der gleichfarbigen Bauern seitlich
                    des Bauern bzw. hinter dem Bauern auf benachbarten Linien
                    mindestens so groß ist wie die Anzahl der andersfarbigen
                    Bauern auf den benachbarten Linien in der Vowärtsrichtung
                    (somit ein Kanditat für einen Freibauern). Freibauern
                    (d.h. Bauern die keinen andersfarbigen Bauern auf den
                    Nachbarslinien begegnen) werden auch als Kandidat gezählt.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>candidate!</code></span></td>
      <td class="r">Kandidaten: Ein Kandidat für einen Freibauern, der jedoch
                    noch kein Freibauer ist.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>blocked</code></span></td>
      <td class="r">Blockierte Bauern: zählt alle Bauern, denen auf der gleichen
                    Linie ein gegnerischer Bauer gegenübersteht.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>blocked!</code></span></td>
      <td class="r">Blockierte Bauern (unmittelbar): zählt alle Bauern, denen
                    unmittelbar ein Bauer gegenübersteht.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>behind</code></span></td>
      <td class="r">Bauern hinter dem Feind: zählt alle Bauern, die hinter
                    dem hintersten gegenerischen Bauer auf der gleichen Linie
                    stehen.  Z.B. kann ein weißer Bauer c7 hinter einem schwarzen
                    Bauer c5 stehen, wenn auch entfernt.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>behind!</code></span></td>
      <td class="r">Bauern unmittelbar hinter dem Feind: zählt alle Bauern, die
                    unmittelbar hinter dem hintersten gegenerischen Bauer auf der
                    gleichen Linie stehen. Z.B. kann ein weißer Bauer c7 unmittelbar
                    hinter einem schwarzen Bauer c6 stehen.</td>
    </tr>
    </tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>stoppable</code></span></td>
      <td class="r">Stoppbare Bauern: alle Bauern, die am Weiterrücken bis
                    zur gegnerischen Grundreihe von einem gegnerischen Bauern
                    in einer benachbarten Linie gehindert werden.</td>
    </tr>
    </tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>stopped</code></span></td>
      <td class="r">Gestoppte Bauern: alle Bauern, die am Weiterrücken von
                    einem gegnerischen Bauern, der in einer benachbarten Reihe
                    einer benachbarten Linie steht, gehindert werden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>backward</code></span></td>
      <td class="r">Rückständige Bauern: alle Bauern, deren benachbarte Bauern
                    gleicher Farbe zu weit vorgerückt sind, um ihn decken zu
                    können. Isolierte Bauern sind niemals rückständig.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>advanced</code></span></td>
      <td class="r">Vorgerückte Bauern: alle Bauern, die bereits in der gegnerischen
                    Hälfte stehen.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>consecutive</code></span></td>
      <td class="r">Hintereinanderstehende Bauern: alle Bauern gleicher
                    Farbe, die auf einer Linie direkt hintereinander stehen,
                    werden gezählt.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>consecutive(n)</code></span></td>
      <td class="r">Hintereinanderstehende Bauern: mindestens n Bauern gleicher
                    Farbe, die auf einer Linie direkt hintereinander stehen,
                    werden gezählt.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>consecutive!(n)</code></span></td>
      <td class="r">Hintereinanderstehende Bauern: genau n Bauern gleicher
                    Farbe, die auf einer Linie direkt hintereinander stehen,
                    werden gezählt.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>inside</code></span></td>
      <td class="r">Einholbare Bauern: zählt die Bauern, die sich noch innerhalb
                    der Reichweite des gegnerischen Königs befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>symmetrical</code></span></td>
      <td class="r">Symmetrische Bauernstruktur: zählt die Bauern, auf deren Linie
                    sich die gleiche Anzahl gegnerischer Bauern befindet.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>mirrored</code></span></td>
      <td class="r">Gespiegelte Bauernstruktur: zählt alle Bauern,
                    auf deren Linie alle gegnerischen Bauern auf horizontal
                    gespiegelten Feldern stehen.</td>
    </tr>
  </table>
</div>

<p>
Es muss mindestens eine dieser Bauerneigenschaften verwendet werden.
</p>

<p>
Alle Bauerneigenschaften können auch mit einem vorangestellten Ausrufungszeichen
negiert werden, dazu Beispiele:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span> !blocked &gt;50%
</code></div>

<p>
Mehr als 50% der weißen Bauern stehen keine gegnerischen Bauern auf der gleichen Linie
gegenüber.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span> !blocked! &gt;50%
</code></div>

<p>
Mehr als 50% der weißen Bauern stehen keine gegnerischen Bauern auf der gleichen Linie
unmittelbar gegenüber.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span> !inside-passed &gt;0
</code></div>

<p>
Mindestens ein Freibauer ist nicht mehr innerhalb der Reichweite des gegnerischen
Königs.
</p>

<p>
Bemerkung: Das Attribut <span style='white-space:nowrap;'><code>passed</code></span> ist nur eine Kurzschreibweise:
</p>

<ul style='list-style-type: none'><li>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>passed</code></span></td>
      <td class="m">=</td>
      <td class="r"><span style='white-space:nowrap;'><code>!blocked-!stoppable</code></span></td>
    </tr>
  </table>
</li></ul>

<p>
Jedoch ist <span style='white-space:nowrap;'><code>!passed</code></span> keine Kurzschreibweise.
</p>

<p>
Bemerkung: Das Attribut <span style='white-space:nowrap;'><code>candidate!</code></span> ist nur eine Kurzschreibweise:
</p>

<ul style='list-style-type: none'><li>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>candidate!</code></span></td>
      <td class="m">=</td>
      <td class="r"><span style='white-space:nowrap;'><code>candidate-!passed</code></span></td>
    </tr>
  </table>
</li></ul>

<p>
Die folgenden Attribute, die ebenfalls mit einem vorangestellten Ausrufungszeichen
negiert werden können, schränken die Sichtweise auf die Bauern ein:
</p>

<div class='box'>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>forefront</code></span></td>
      <td class="r">Vorhut: nur die vordersten Bauern auf einer Linie
                    werden untersucht.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>rear</code></span></td>
      <td class="r">Nachhut: nur die hintersten Bauern auf einer Linie
                    werden untersucht.</td>
    </tr>
  </table>
</div>

<p>
Die Position von <span style='white-space:nowrap;'><code>forefront</code></span> bzw. <span style='white-space:nowrap;'><code>rear</code></span> innerhalb der
Liste der Eigenschaften beeinflußt, für welche Attribute die Sichtweise
eingeschränkt wird. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] double!-forefront-duo &gt;0)
</code></div>

<p>
Dies findet nebeneinanderstehende Doppelbauern gleicher Farbe auf, wobei sie
auf den gleichen Reihen stehen müssen. <span style='white-space:nowrap;'><code>forefront</code></span> muß nach
<span style='white-space:nowrap;'><code>double!</code></span> verwendet werden, ansonsten ist kein Doppelbauer
auffindbar (tatsächlich meldet die Applikation dann einen Fehler). Die
Reihenfolge zu <span style='white-space:nowrap;'><code>duo</code></span> spielt hier keine Rolle.
</p>

<p>
Die unterstützen Attribute für die Modifikation der Zählweise sind:
</p>

<div class='box'>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>islands</code></span></td>
      <td class="r">Bauerninseln: zähle alle Bauerninseln (nicht die Anzahl der
                    Bauern, die zu den Inseln gehören). Eine Bauerninsel besteht
                    aus einem Bauernverbund gleicher Farbe, die jeweils alle auf
                    benachbarten Linien stehen. Zwischen gleichfarbigen Inseln
                    kann sich also kein Bauer gleicher Farbe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>islands(n)</code></span></td>
      <td class="r">Bauerninseln: zähle alle Bauerninseln (nicht die Anzahl der
                    Bauern, die zu den Inseln gehören). Eine Bauerninsel besteht
                    aus einem Bauernverbund gleicher Farbe, die jeweils alle auf
                    benachbarten Linien stehen. Zwischen gleichfarbigen Inseln
                    kann sich also kein Bauer gleicher Farbe befinden. Es werden
                    jedoch nur die Inseln gezählt, zu denen jeweils mindestens
                    n Bauern gehören.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>islands!(n)</code></span></td>
      <td class="r">Bauerninseln: zähle alle Bauerninseln (nicht die Anzahl der
                    Bauern, die zu den Inseln gehören). Eine Bauerninsel besteht
                    aus einem Bauernverbund gleicher Farbe, die jeweils alle auf
                    benachbarten Linien stehen. Zwischen gleichfarbigen Inseln
                    kann sich also kein Bauer gleicher Farbe befinden. Es werden
                    jedoch nur die Inseln gezählt, zu denen jeweils genau
                    n Bauern gehören.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>compounds</code></span></td>
      <td class="r">Bauernverbünde: zähle alle Bauernverbünde (nicht die Anzahl der
                    Bauern, die zu dem Verbund gehören). Eine Bauernverbund besteht
                    aus Bauern gleicher Farbe, die jeweils alle auf benachbarten Reihen
                    stehen. Zwischen gleichfarbigen Verbünden kann sich also kein Bauer
                    gleicher Farbe befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>compounds(n)</code></span></td>
      <td class="r">Bauernverbünde: zähle alle Bauernverbünde (nicht die Anzahl der
                    Bauern, die zu dem Verbund gehören). Eine Bauernverbund besteht
                    aus Bauern gleicher Farbe, die jeweils alle auf benachbarten Reihen
                    stehen. Zwischen gleichfarbigen Verbünden kann sich also kein Bauer
                    gleicher Farbe befinden. Es werden jedoch nur die Verbünde gezählt,
                    zu denen jeweils mindestens n Bauern gehören</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>compounds!(n)</code></span></td>
      <td class="r">Bauernverbünde: zähle alle Bauernverbünde (nicht die Anzahl der
                    Bauern, die zu dem Verbund gehören). Eine Bauernverbund besteht
                    aus Bauern gleicher Farbe, die jeweils alle auf benachbarten Reihen
                    stehen. Zwischen gleichfarbigen Verbünden kann sich also kein Bauer
                    gleicher Farbe befinden. Es werden jedoch nur die Verbünde gezählt,
                    zu denen jeweils genau n Bauern gehören</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>files</code></span></td>
      <td class="r">Bauer pro Linie: zähle alle Linien (nicht die Bauern auf den
                    Linien), auf denen sich Bauern mit den genannten Eigenschaften
                    befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>files(n)</code></span></td>
      <td class="r">Bauer pro Linie: zähle alle Linien (nicht die Bauern auf den
                    Linien), auf denen sich mindestens n Bauern mit den genannten
                    Eigenschaften befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>files!(n)</code></span></td>
      <td class="r">Bauer pro Linie: zähle alle Linien (nicht die Bauern auf den
                    Linien), auf denen sich genau n Bauern mit den genannten
                    Eigenschaften befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>ranks</code></span></td>
      <td class="r">Bauer pro Reihe: zähle alle Reihen (nicht die Bauern auf den
                    Linien), auf denen sich Bauern mit den genannten Eigenschaften
                    befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>ranks(n)</code></span></td>
      <td class="r">Bauer pro Reihe: zähle alle Reihen (nicht die Bauern auf den
                    Linien), auf denen sich mindestens n Bauern mit den genannten
                    Eigenschaften befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>ranks!(n)</code></span></td>
      <td class="r">Bauer pro Reihe: zähle alle Reihen (nicht die Bauern auf den
                    Linien), auf denen sich genau n Bauern mit den genannten
                    Eigenschaften befinden.</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>bothsides</code></span></td>
      <td class="r">Beide Flügel: das Resultat der Zählung ist das Minimum der
                    Bauernzahl auf dem Damenflügel (a-d) und der Bauernzahl auf dem
                    Königsflügel <span style='white-space:nowrap;'>(e-h).</span></td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>oneside</code></span></td>
      <td class="r">Ein Flügel: entweder wird Null gezählt, wenn kein Bauer vorhanden
                    ist, bzw. wenn mindestens ein Bauer sowohl auf dem Dameflügel
                    <span style='white-space:nowrap;'>(a-d)</span> als auch auf dem Königsflügel <span style='white-space:nowrap;'>(e-h)</span>
                    vorhanden ist, ansonsten wird die Gesamtzahl der Bauern gezählt.</td>
    </tr>
  </table>
</div>

<p>
Eine Zählung erfolgt immer am Schluß, nachdem aller Bauern mit den gewünschten
Eigenschaften aufgefunden wurden. Damit dies klarer beim Lesen des Ausdrucks
wird, dürfen Attribute für die Zählung nur am Ende einer Attributliste
verwendet werden.
</p>

<p>
Die Attribute für die Zählweise haben keinen Einfluß auf die Auswahl der gezählten
Bauern. Sobald beispielsweise <span style='white-space:nowrap;'><code>islands</code></span> in einer Verknüpfung verwendet wird,
werden immer die Anzahl der Insel gezählt. Dazu Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] trio-islands)
</code></div>

<p>
Nun wird die Anzahl aller Bauerntrios gezählt, nicht mehr die Anzahl der beteiligten
Bauern.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] chained-islands)
</code></div>

<p>
Die Anzahl der Bauernketten wird gezählt, nicht die Anzahl der beteiligten Bauern.
</p>

<p>
Manche dieser Attribute können ein Zähler als Argument haben. Der Zähler muß den
Wertebereich einhalten:
</p>

<div class='box'>
  <table style="margin-top:5px;margin-bottom:5px">
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>compounds, compounds!, ranks, ranks!</code></span></td>
      <td class="r">1 &#x2264; n &#x2264; 6</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>islands, islands!, files, files!</code></span></td>
      <td class="r">1 &#x2264; n &#x2264; 8</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>consecutive, consecutive!</code></span></td>
      <td class="r">2 &#x2264; n &#x2264; 6</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>chained, chained!</code></span></td>
      <td class="r">2 &#x2264; n &#x2264; 8</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>triple, triple!</code></span></td>
      <td class="r">3 &#x2264; n &#x2264; 6</td>
    </tr>
    <tr>
      <td class="l" valign="top"><span style='white-space:nowrap;'><code>quart, quart!</code></span></td>
      <td class="r">4 &#x2264; n &#x2264; 8</td>
    </tr>
  </table>
</div>

<p>
Grundsätzlich können alle Attribute miteinander verknüpft werden,
jedoch sind nicht alle Verknüpfungen sinnvoll. Es erfolgt eine Fehlermeldung,
wenn sich in einer Verknüpfung Attribute widersprechen (wie z.B. bei
<span style='white-space:nowrap;'><code>chained-isolated</code></span>, oder <span style='white-space:nowrap;'><code>mirrored-unblocked</code></span>).
</p>

<p>
Die Attribute wirken als Filter, d.h. jedes Attribut filtert die Bauern mit
der spezifizierten Eigenschaft, und das nachfolgende Attribut filtert dann
die verbliebenen Bauern aus der vorhergehenden Zählung. Daraus resultiert,
daß die Reihenfolge der verknüpften Attribute generell eine Rolle spielt,
so sind die folgenden Beispiele nicht äquivalent:
</p>

<div class='verb'><code><span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] single!-behind &gt;0</code></div>
<div class='verb'><code><span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] behind-single! &gt;0</code></div>

<p>
Im ersten Fall können tatsächlich nur dann Bauern auf einer Linie gezählt
werden, wenn es keinen weiteren der gleichen Farbe auf dieser Linie gibt,
aber im zweiten Fall würde <span style='white-space:nowrap;'><code>behind</code></span> evt. nur Bauern zurücklassen
(filtern), die dann ganz alleine auf der Linie sind (gegnerische Bauern
werden nicht berücksichtigt), und diese werden dann alle als Einzelbauern
gezählt. Diese Methodik mit der Filterung erlaubt mehr Einflußmöglichkeiten
auf die Zählung als eine einfache Und-Verknüpfung.
</p>

<p>
Weitere Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span> blocked 100%)
</code></div>

<p>
Alle weißen Bauern sind blockiert, d.h. jedem weißen Bauern steht ein schwarzer
Bauer (möglicherweise entfernt) gegenüber.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>][a-d?] blocked 100%)
</code></div>

<p>
Alle Bauern auf dem Damenflügel sind blockiert, d.h. jedem Bauern auf dem Damenflügel
steht ein gegnerischer Bauer (möglicherweise entfernt) gegenüber.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span>[a-d?] blocked! &gt;=50%)
</code></div>

<p>
Mindestens der Hälfte der weißen Bauern auf dem Damenflügel steht ein schwarzer
Bauer direkt gegenüber (dies kann niemals zutreffen, wenn es keine weißen Bauern
auf dem Damenflügel gibt).
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span> double-!advanced-compounds &gt;=2)<!--
--></code></pre></div>

<p>
Einer der Parteien hat mindestens zwei Doppelbauern, wobei keiner
der betroffenen Bauern in der gegnerischen Hälfte steht.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] isolated-consecutive(3) &gt;=3)
</code></div>

<p>
Findet isolierte Trippelbauern auf verbundenen Feldern, wie in folgender
Stellung:
</p>

<div id="tooltip1" style="margin-top:-8px">
<a><span style='white-space:nowrap;'><code>8/p4pk1/8/2R1P1N1/6P1/6P1/2P2KP1/1r5r w - - 0 1</code></span><img
  src="../images/cql-examples-1.png" height="241" width="241" alt=""/></a>
</div>

<p>
Die Alternative
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] isolated-triple-consecutive &gt;=3)
</code></div>

<p>
wäre hier nicht das gewünschte, denn in diesem Fall werden beispielsweise auch
Trippelbauern gezählt, die nicht allesamt miteinander verbunden sind,
beispielsweise zwei isolierte Doppelbauern auf einer Linie. Wird jedoch
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] isolated-triple!-consecutive &gt;=3)
</code></div>

<p>
verwendet, dann werden zwar wieder hintereinanderstehende isolierte Trippelbauern
gefunden, aber keine Stellungen mit mehr als drei hintereinanderstehenden isolierten
Bauern. Aber in diesem speziellen Beispiel ist die folgende alternative Formulierung
äquivalent zu <span style='white-space:nowrap;'><code>isolated-consecutive(3)</code></span>:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] isolated-triple-compounds(3) &gt;0)
</code></div>

<p>
Hier ist das Attribut <span style='white-space:nowrap;'><code>triple</code></span> redundant, macht aber die Sache einfacher
lesbar.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] backward-stopped-!blocked &gt;0)
</code></div>

<p>
Einer der Parteien hat mindestens einen rückständigen Bauern, der keinen gegnerischen
Bauern auf der gleichen Linie vor ihm hat, aber von einem gegnerischen Bauer auf einer
benachbarten Linie in direkter Weise am Vorücken gehindert wird.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x2659;</span>?4 stoppable-!blocked-duo! &gt;0)
</code></div>

<p>
Weiß hat hängende Bauern auf der vierten Reihe: ein Bauerduo (zwei Bauern nebeneinander
auf einer Reihe), die sich auf halboffenen Linien befinden (d.h. sie sind nicht
blockiert, aber auch keine Freibauern).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x265f;</span> bothsides 0)
</code></div>

<p>
Schwarz hat nicht mehr auf beiden Flügeln Bauern aufzuweisen.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:pawncount</span></span> <span class='piece'>&#x265f;</span> oneside &gt;0)
</code></div>

<p>
Schwarz hat alle seine Bauern entweder auf dem Damenflügel oder auf
dem Königsflügel, aber nicht auf beiden Flügeln.
</p>

<p>
Siehe bei <a href="CQL-Examples.html#pawnending">CQL-Beispiele</a> für weiter Beispiele.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncountdifference">:pawncountdifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececountdifference">:piececountdifference</span></a>.
</p>

<h3 id="position:pawncountdifference">:pawncountdifference&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Bauerndifferenz)</span></h3>

<p>
<span style='white-space:nowrap;'>:pawncountdifference</span> filtert Positionen, wenn die Differenz
der Zählung von Bauern mit den spezifizierten Eigenschaften oder Strukturen
innerhalb der gegebenen Bereichsangabe liegt. Dieses Schlüsselwort kann
ein oder zwei Figurenbezeichner, die nur Bauern enthalten dürfen, als Argumente
erhalten, gefolgt von einer bindestrich-separierten Aufzählung von Eigenschaften,
und als letztes Argument wird eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a> erwartet. Ist nur ein
Figurenbezeichner gegeben, dann wird die Differenz des Resultats der Zählung der
weißen Figuren im Figurenbezeichner minus dem Resultat der Zählung der schwarzen
Figuren im Figurenbezeichner ermittelt. Bei der Angabe von zwei Figurenbezeichnern
wird die Differenz des Resultats der Zählung des ersten Figurenbezeichners minus
dem Resultat der Zählung des zweiten Figurenbezeichners ermittelt. Diese Differenz
muß innerhalb der Bereichsangabe liegen, damit eine Position gefiltert wird.
</p>

<p>
Die unterstützen Bauerneigenschaften bzw. Bauernstruktureigenschaften sind
die gleichen wie unter <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncount">:pawncount</span></a>.
</p>

<p>
Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:pawncountdifference</span></span> <span class='piece'>&#x2659;</span>[?5-7] <span class='piece'>&#x265f;</span>[?2-4] passed-lines &gt;0)<!--
--></code></pre></div>

<p>
Weiß hat mehr Freibauern, die in der gegnerischen Hälfte stehen, als Schwarz. Es
werden hier jedoch für jede Farbe nur ein Freibauer pro Linie gezählt (in diesem
speziellen Fall könnte statt <span style='white-space:nowrap;'><code>lines</code></span> auch <span style='white-space:nowrap;'><code>forefront</code></span>
verwendet werden).
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncount">:pawncount</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececountdifference">:piececountdifference</span></a>.
</p>

<h3 id="position:perpendicular">:perpendicular&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(senkrecht verlaufend zu)</span></h3>

<p>
<span style='white-space:nowrap;'>:perpendicular</span> erwartet als Argument zwei Figurenbezeichner. Eine Stellung
wird gefiltert, wenn die potentiell möglichen Züge (.d.h. alle Zugmöglichkeiten auf
einem leeren Brett) des ersten Figurenbezeichners senkrecht zu den potentiell möglichen
Zügen des zweiten Figurenbezeichners verlaufen, oder anders ausgedrückt, wenn die
potentiellen Zugmöglichkeiten sich kreuzen. Dies kann nur von Langschrittlern erfüllt
werden (im Standardschach sind dies Dame, Turm, und Läufer). Beispiele:
</p>

<h3 id="position:piececount">:piececount&emsp;<span class='normal'>(Materialzählung)</span></h3>

<p>
Dieses Schlüsselwort erwartet als Argument einen Figurenbezeichner, gefolgt
von einer <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Es filtert
eine Position genau dann, wenn die Anzahl der Vorkommen der bezeichneten
Figuren in dieser Position innerhalb der gegebenen Bereichsangabe liegt.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:piececount</span></span> <span class='piece'>&#x2656;</span> 2)
</code></div>

<p>
Dies wird jede Position filtern mit exakt zwei weißen Türmen &ndash; eine Position
mit drei weißen Türmen würde nicht gefiltert werden.
</p>

<div class='box'><pre><code><!--
-->(position
  <span class='piece'>&#x2658;</span>d4
  <span style='white-space:nowrap;'><span class='keyword'>:piececount</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x265c;</span>][a1-8] 1 3
  <span style='white-space:nowrap;'><span class='keyword'>:piececount</span></span> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>][a-h8] 4)<!--
--></code></pre></div>

<p>
Dies wird jede Position filtern mit einem weißen Springer auf d4, ein bis drei
Türmen auf eine Linie, und exakt vier Damen auf der achten Reihe. Ein alternative
Schreibweise dieser Abfrage ist:
</p>

<div class='box'><pre><code><!--
-->(position
  <span class='piece'>&#x2658;</span>d4
  <span style='white-space:nowrap;'><span class='keyword'>:piececount</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x265c;</span>][a?] 1 3
  <span style='white-space:nowrap;'><span class='keyword'>:piececount</span></span> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>][?8] 4)<!--
--></code></pre></div>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncountdifference">:pawncountdifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececountdifference">:piececountdifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:powerdifference">:powerdifference</span></a>.
</p>

<h3 id="position:piececountdifference">:piececountdifference&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Materialdifferenz)</span></h3>

<p>
Dieses Schlüsselwort erwartet als Argumente zuerst entweder ein oder zwei
Figurenbezeichner, gefolgt von einer
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Es filtert Positionen
in denen die Differenz der Figurenzählung, die von den Figurenbezeichnern
spezifiziert werden, innerhalb der gegebenen Bereichsangabe liegt. Ist nur
ein Figurenbezeichner gegeben, dann muß die Differenz der Zählung der weißen
Figuren im Figurenbezeichner minus der Zählung der schwarzen Figuren im
Figurenbezeichner innerhalb der Bereichsangabe liegen. Bei zwei Figurenbezeichnern
muß die Differenz der Zählung aller bezeichneten Figuren im ersten
Figurenbezeichner minus der Zählung aller bezeichneten Figuren im zweiten
Figurenzähler innerhalb der Bereichsangabe liegen.
</p>

<p>
Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:piececountdifference</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x265c;</span>][a1,a8,h1,h8] 1)<!--
--></code></pre></div>

<p>
Weiß hat genau einen Turm mehr als Schwarz auf den Eckfeldern stehen.
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:piececountdifference</span></span> [<span class='piece'>&#x2657;</span>][b2,g2] [<span class='piece'>&#x265d;</span>][b7,g7] &gt;0)<!--
--></code></pre></div>

<p>
Weiß hat mehr fianchettierte Läufer als Schwarz.
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:piececountdifference</span></span> <span class='piece'>&#x265b;</span> <span class='piece'>&#x2655;</span> 1
  <span style='white-space:nowrap;'><span class='keyword'>:piececountdifference</span></span> <span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span> <span class='cql' title='Schwarze Leichtfigur'>&#x25bc;</span> 1
  <span style='white-space:nowrap;'><span class='keyword'>:piececountdifference</span></span> <span class='piece'>&#x2659;</span> <span class='piece'>&#x265f;</span> 1 2)<!--
--></code></pre></div>

<p>
Finde alle Positionen, in denen eine der Parteien genau eine Dame weniger
hat, und als Ausgleich genau einen Turm, genau eine Leichtfigur, und ein oder
zwei Bauern mehr hat.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawndifference">:pawndifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:powerdifference">:powerdifference</span></a>.
</p>

<h3 id="position:power">:power&emsp;<span class='normal'>(Figurenpotential)</span></h3>

<p>
Dieses Schlüsselwort erwartet als Argumente einen Figurenbezeichner, gefolgt
von einer <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Es wird
jede Position gefiltert, in der das Gesamtfigurenpotential in dieser Position
innerhalb der gegebenen Bereichsangabe liegt. Das Potential einer Figur
ist sein Materialwert, abhängig von der
<a href="Chess-Variants.html">Schachform</a>:
</p>

<ul style='list-style-type: none'><li>
<table cellpadding="3">
  <tr>
    <td align="right"></td>
    <td align="right"><span class='chess'>&#x2654;</span></td>
    <td align="right"><span class='chess'>&#x2655;</span></td>
    <td align="right"><span class='chess'>&#x2656;</span></td>
    <td align="right"><span class='chess'>&#x2657;</span></td>
    <td align="right"><span class='chess'>&#x2658;</span></td>
    <td align="right"><span class='chess'>&#x2659;</span></td>
  </tr>
  <tr>
    <td>Normalschach,
        Dreimal-Schach,
        König-auf-dem-Hügel&emsp;</td>
    <td align="right"> 0</td>
    <td align="right"> 9</td>
    <td align="right"> 5</td>
    <td align="right"> 3</td>
    <td align="right"> 3</td>
    <td align="right"> 1</td>
  </tr>
  <tr>
    <td>Crazyhouse, Tandemschach&emsp;</td>
    <td align="right"> 0</td>
    <td align="right"> 5</td>
    <td align="right"> 3</td>
    <td align="right"> 3</td>
    <td align="right"> 3</td>
    <td align="right"> 1</td>
  </tr>
  <tr>
    <td>Losers&emsp;</td>
    <td align="right"> 0</td>
    <td align="right"> 5</td>
    <td align="right"> 4</td>
    <td align="right"> 3</td>
    <td align="right"> 4</td>
    <td align="right"> 1</td>
  </tr>
  <tr>
    <td>Suicide, Giveaway&emsp;</td>
    <td align="right">30</td>
    <td align="right"> 3</td>
    <td align="right"> 9</td>
    <td align="right"> 0</td>
    <td align="right"> 9</td>
    <td align="right"> 1</td>
  </tr>
</table>
</li></ul>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:power</span></span> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> 6)
</code></div>

<p>
Dies wird Positionen finden deren Gesamtfigurenpotential aller schwarzen
Figuren genau den Wert 6 hat.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:power</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span>[a-h1-4] 10 25)
</code></div>

<p>
Dies wird Positionen finden deren Gesamtfigurenpotential aller weißen
Figuren in der weißen Hälfte einen Wert zwischen 10 und 25 aufweist (inklusive).
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncount">:pawncount</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a>.
</p>

<h3 id="position:powerdifference">:powerdifference&emsp;<span class='normal'>(Figurenpotentialdifferenz)</span></h3>

<p>
Dieses Schlüsselwort erwartet als Argumente ein oder zwei Figurenbezeichner,
gefolgt von einer <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Es
filtert Positionen, in denen die Differenz des Figurenpotentials (&#x21d2;
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:power">:power</span></a>) der bezeichneten Figuren innerhalb der gegebenen
Bereichsangabe liegt. Im Falle nur eines Figurenbezeichners ist die Differenz
die Summe des Figurenpotentials aller bezeichneten weißen Figuren im Figurenbezeichner
minus dem Figurenpotential aller bezeichneten schwarzen Figuren im
Figurenbezeichner. Im Fall von zwei Figurenbezeichnern wird die Differenz
aus dem Figurenpotential aller bezeichneten Figuren im ersten Figurenbezeichner
minus dem Figurenpotential aller bezeichneten Figuren im zweiten Figurenbezeichner
gebildet.
</p>

<p><img src='../images/note.png' alt='note' /> 
Standard-CQL kennt nur die Form mit einem Figurenbezeichner.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 4)
</code></div>

<p>
Dies filtert Positionen, in denen das Potential der weißen Figuren genau
um 4 größer ist als das Potential der schwarzen Figuren.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> <span class='piece'>&#x2656;</span> <span class='piece'>&#x265c;</span> -5 10)
</code></div>

<p>
Diese filtert Positionen, in denen Weiß ein Potential zwischen einem Turm
Materialnachteil und zwei Türmen Materialvorteil besitzt.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span>] [<span class='piece'>&#x265c;</span><span class='piece'>&#x265d;</span><span class='piece'>&#x265e;</span>] &lt;=&#x2212;2)
</code></div>

<p>
Dies filtert Positionen, in denen Schwarz mindestens eine Qualität Vorteil hat.
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span>] [<span class='piece'>&#x265c;</span><span class='piece'>&#x265d;</span><span class='piece'>&#x265e;</span>] &lt;=&#x2212;2)<!--
--></code></pre></div>

<p>
Dies filtert Positionen, in denen eine der Partien mindestens eine Qualität Vorteil hat.
</p>

<div id="eithercolor:example">
<div class='box'><pre><code><!--
-->(match
  <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:result">:result</span></a> 1-0
  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a> (
      (position
        <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> -2 +2
        <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> <span class='piece'>&#x2655;</span> <span class='piece'>&#x265b;</span> 0)
      (position
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:repetitioncount">:repetitioncount</span></a> &gt;=12
        <span style='white-space:nowrap;'><span class='keyword'>:powerdifference</span></span> <span class='piece'>&#x2655;</span> <span class='piece'>&#x265b;</span> &lt;=&#x2212;9))))<!--
--></code></pre></div>
</div>

<p>
Dieses Beispiel zeigt eine Möglichkeit auf, wie mit Hilfe von
<span style='white-space:nowrap;'>:powerdifference</span> nach Damenopfern gesucht wird. Eine Seite opfert
eine Dame, und verbleibt mindestens 12 Züge lang mit einer Dame in
Materialnachteil, um letztendlich zu gewinnen.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pawncountdifference">:pawncountdifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececountdifference">:piececountdifference</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:power">:power</span></a>.
</p>

<h3 id="position:ray">:ray&emsp;<span class='normal'>(Strahl)</span></h3>

<p>
Ein Strahl bezeichnet eine Liste von Figurenbezeichnern. Es ist eine
zusammenhängende Menge von Feldern entweder auf einer Linie, einer Reihe,
oder einer Diagonalen auf dem Schachbrett.
</p>

<p>
Sei R ein Felderstrahl mit einer geordneten Menge von Feldern in einer
zusammenhängenden Linie, Reihe, oder Diagonalen <span style='white-space:nowrap;'>S<sub>1</sub>,</span>
<span style='white-space:nowrap;'>S<sub>2</sub>,</span> <span style='white-space:nowrap;'>...,</span> <span style='white-space:nowrap;'>S<sub>n</sub>.</span>
Gegeben sei eine Strahlendefinition <span style='white-space:nowrap;'>(G<sub>1</sub>,</span>
<span style='white-space:nowrap;'>G<sub>2</sub>,</span> <span style='white-space:nowrap;'>...,</span> <span style='white-space:nowrap;'>G<sub>k</sub>),</span>
wobei jedes G<sub>i</sub> einen Figurenbezeichner definiert. Der Felderstrahl R
ist gültig in Bezug auf die gegebene Strahlendefinition wenn
<span style='white-space:nowrap;'>G<sub>1</sub></span> eine Figur auf dem Feld <span style='white-space:nowrap;'>S<sub>1</sub></span>
bezeichnet, <span style='white-space:nowrap;'>G<sub>k</sub></span> eine Figur auf dem Feld
<span style='white-space:nowrap;'>S<sub>n</sub></span> bezeichnet, und wenn alle anderen
<span style='white-space:nowrap;'>G<sub>i</sub></span> jeweils mit einem Feld einer Untermenge
des Felderstrahls gepaart werden können ohne die Reihenfolge zu verletzen,
so daß jedes <span style='white-space:nowrap;'>G<sub>i</sub></span> eine Figur auf dem zugeordneten Feld
bezeichnet, und alle ungepaarten Felder leer sind.
</p>

<p>
Das Schlüsselwort <span style='white-space:nowrap;'>:ray</span> erwartet eine Strahlendefinition und eine
optionale <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Wenn die
Bereichsangabe nicht vorhanden ist, so wird <code>&gt;=1</code>
als Bereich angenommen. <span style='white-space:nowrap;'>:ray</span> filtert eine Position wenn die Anzahl
der Felderstrahlen in dieser Position, die in Bezug auf die Strahlendefinition
gültig sind, innerhalb der Bereichsangabe liegen.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:ray</span></span> (<span class='piece'>&#x265a;</span> <span class='piece'>&#x2655;</span>))
</code></div>

<p>
Filtert eine Position, in der eine weiße Dame den schwarzen König attackiert.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:ray</span></span> (<span class='piece'>&#x2655;</span>a? <span class='piece'>&#x265e;</span> <span class='piece'>&#x265a;</span>[?4-8]))
</code></div>

<p>
Filtert eine Position, in der eine weiße Dame auf der a-Linie einen schwarzen
Springer fesselt, und der schwarze König auf den letzten vier Reihen steht.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:ray</span></span> (<span class='piece'>&#x2655;</span>a? <span class='piece'>&#x2655;</span>c? <span class='piece'>&#x2655;</span>e? <span class='piece'>&#x265a;</span>g?))
</code></div>

<p>
Filtert entweder eine Position, in der alle drei weißen Damen und der schwarze
König auf der gleichen Reihe stehen mit jeweils exakt einem Leerfeld zwischen
diesen Figuren, oder eine Position, in der alle drei weißen Damen und der
schwarze König eine Diagonale formen mit jeweils einem Leerfeld zwischen diesen
Figuren, und die Damen stehen in beiden Fällen auf den a, c, und e-Linien.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:ray</span></span> (<span class='piece'>&#x2655;</span> <span class='piece'>&#x265e;</span> <span class='piece'>&#x265a;</span>) 2 4)
</code></div>

<p>
Zwei bis vier schwarze Springer sind gefesselt.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:rayattack">:rayattack</span></a>.
</p>

<h3 id="position:rayattack">:rayattack&emsp;<span class='normal'>(Strahlenangriff)</span></h3>

<p>
Hat die gleiche Syntax wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>. Es hat auch die gleiche
Semantik, außer das nur orthogonale Strahlen, die auf einem Feld mit einer
Schwerfigur starten, sowie diagonale Strahlen, die auf einem Feld mit einer
Dame oder einem Läufer starten, eingeschlossen sind.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:rayattack</span></span> (<span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> <span class='piece'>&#x265a;</span>))
</code></div>

<p>
Filtert eine Position, in der eine schwarze Figur gefesselt ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:rayattack</span></span> (<span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span>d5 <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> [<span class='piece'>&#x265c;</span><span class='piece'>&#x265a;</span>][a-h1-4]) 3)
</code></div>

<p>
Filtert Positionen, in denen drei schwarze Figuren von einer weißen Figur auf
d5 gefesselt werden, wobei ein schwarzer Turm und der schwarze König auf den
ersten vier Reihen stehen.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:stalemate">:stalemate</span></a> <span style='white-space:nowrap;'><span class='keyword'>:rayattack</span></span>
(<span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> <span class='piece'>&#x265a;</span>) 2 8 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>)
</code></div>

<p>
Findet Pattstellungen mit Mehrfachfesselungen auf.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>.
</p>

<h3 id="position:raydiagonal">:raydiagonal&emsp;<span class='normal'>(Diagonalstrahl)</span></h3>

<p>
Dieses Schlüsselwort arbeitet genauso wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>, nur daß die
Strahlen auf diagonale Linien beschränkt sind.
</p>

<h3 id="position:rayhorizontal">:rayhorizontal&emsp;<span class='normal'>(Horizontaler Strahl)</span></h3>

<p>
Dieses Schlüsselwort arbeitet genauso wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>, nur daß die
Strahlen auf horizontale Linien beschränkt sind.
</p>

<h3 id="position:rayorthogonal">:rayorthogonal&emsp;<span class='normal'>(Othogonaler Strahl)</span></h3>

<p>
Dieses Schlüsselwort arbeitet genauso wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>, nur daß die
Strahlen auf vertikale und horizontale Linien beschränkt sind.
</p>

<h3 id="position:rayvertical">:rayvertical&emsp;<span class='normal'>(Vertikaler Strahl)</span></h3>

<p>
Dieses Schlüsselwort arbeitet genauso wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ray">:ray</span></a>, nur daß die
Strahlen auf  vertikale Linien beschränkt sind.
</p>

<!-- ############################################################################## -->
<h2 id="move">Schlüsselwörter für die Zuganalyse</h2>
<!-- ############################################################################## -->

<p>
Ein Zug hat drei Ausprägungen: einen Herkunftsbezeichner, einen
Zielbezeichner, und einen Bauernumwandlungsbezeichner. Diese beziehen
sich auf die Figur und das Feld von der dieser Zug weggeht; die Figur und
das Feld wohin dieser Zug geht (aber bevor dieser Zug tatsächlich erfolgt),
und die Figur und das Feld wo eine Bauernumwandlung stattfindet, sofern eine
solche vorhanden. In den Schachformen Einsetzschach und
Tandemschach hat ein Zug noch eine vierte Ausprägung: den
Figurenartbezeichner für die Einsetzfigur. Er bezieht sich auf die Figurenart die
eingesetzt wird, sofern es ein Einsetzzug ist.
</p>

<p>
Beispielsweise ist der Zielbezeichner für einen weißen Turm auf a4, der
einen schwarzen Springer auf d4 schlägt: <span style='white-space:nowrap;'><code><span class='piece'>&#x265e;</span>d4</code></span>, und der
Herkunftsbezeichner ist <span style='white-space:nowrap;'><code><span class='piece'>&#x2656;</span>a4</code></span>. Der Zielbezeichner eines
Zuges nach e4, der keine Figur schlägt, ist <span style='white-space:nowrap;'><code>.e4</code></span>.
</p>

<p>
Es werden einige Schlüsselwörter angeboten, die auf die nachfolgende
Position vorausschauen, wie z.B. <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a>. Während
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a> die Position findet, in der eine der Seiten matt
ist, findet <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a> die Position, in der die Seite am
Zug matt setzt. In einigen Fällen ist diese Vorausschau sehr nützlich,
insbesondere in Verbindung mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cond">:cond</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a> und <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a>. Diese
Vorausschau kann auch die Verwendung von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a>
ersparen.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:captureforced">:captureforced</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:enpassant">:enpassant</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:forced">:forced</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:halfmovenumber">:halfmovenumber</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:iscastling">:iscastling</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:ischeck">:ischeck</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:iscontactcheck">:iscontactcheck</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isdoublecheck">:isdoublecheck</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isillegal">:isillegal</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isinvalid">:isinvalid</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:ismate">:ismate</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isnull">:isnull</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isstalemate">:isstalemate</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:movefrom">:movefrom</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:movenumber">:movenumber</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:moveto">:moveto</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:noenpassant">:noenpassant</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:promote">:promote</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:takeslastpiece">:takeslastpiece</a></td></tr>
</table>

<h3 id="position:captureforced">:captureforced&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schlagen ist erzwungen)</span></h3>

<p>
Der nächste Zug ist verpflichtet eine Figur zu schlagen. Dieses Schlüsselwort
hat nur in der Schachform Schlagschach eine Bedeutung und wird in
anderen Schachformen niemals erfüllt.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:captureforced</span></span>)
</code></div>

<p>
Der nächste Zug ist nicht verpflichtet eine Figur zu schlagen, dies
heißt das in dieser Stellung auch keine Figur geschlagen werden kann.
Dies gilt jedoch nur für die Schachform Schlagschach,
in allen anderen Schachformen wird diese Bedingung immer erfüllt.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mustcapture">:mustcapture</span></a>.
</p>

<h3 id="position:forced">:forced&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Forciert)</span></h3>

<p>
Der nächste Zug ist erzwungen, kein anderer Zug ist möglich.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>(position <span style='white-space:nowrap;'>!<span class='keyword'>:forced</span></span>)
</code></div>

<p>
Der nächste Zug ist nicht erzwungen, es gibt auch andere Züge (auch wenn sie nicht
gut sein sollten).
</p>

<h3 id="position:enpassant">:enpassant</h3>

<p>
Der nächste Zug ist ein en-passant Schlagzug.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:enpassant</span></span>)
</code></div>

<p>
Der nächste Zug ist kein en-passant Schlagzug.
</p>

<h3 id="position:halfmovenumber">:halfmovenumber&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Halbzugnummer)</span></h3>

<p>
<span style='white-space:nowrap;'>:halfmovenumber</span> erwartet als Argument eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a>, und filtert eine
Position nur dann, wenn die aktuelle Halbzugnummer innerhalb des gegebenen
Bereichs liegt. Innerhalb von Untervarianten hat dieses Schlüsselwort keine
Wirkung und ist immer erfolglos.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmovenumber</span></span> 0)
</code></div>

<p>
Dies bezeichnet die erste Position in der Partie (vor dem ersten Zug). Dies ist
identisch zu:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>)
</code></div>

<p>
Als eine Erweiterung kann auch <span style='white-space:nowrap;'><code>end</code></span>, bzw.
<span style='white-space:nowrap;'><span style='white-space:nowrap;'><code>end</code></span>&minus;N</span> als numerisches Argument verwendet werden.
Auch dazu Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmovenumber</span></span> end)
</code></div>

<p>
Dies bezeichnet die Endposition (nach dem letzten Zug der Partie); siehe auch
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmovenumber</span></span> end-3)
</code></div>

<p>
Dies bezeichnet den drittletzten Halbzug in der Partie, d.h. es folgen
noch drei Halbzüge.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:halfmovenumber</span></span> end-1 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>)
</code></div>

<p>
Filtere alle Partien, in denen im letzten Zug der Partie eine Figur geschlagen wird.
Dies ist einfacher und viel effizienter als der äquivalente Ausdruck:
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a> (
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>)
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>)))<!--
--></code></pre></div>

<div class='annotation'><img src='../images/annotation.png' style='float:left; margin:0 1em 0 0' alt='annotation' />
Der Einsatz von <span style='white-space:nowrap;'>:halfmovenumber</span> kann die Suchzeiten erheblich verkürzen.
</div>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movenumber">:movenumber</span></a>.
</p>

<h3 id="position:iscastling">:iscastling&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Rochadezug?)</span></h3>

<p>
Der nächste Zug ist eine Rochade. Als Argument können die Figurenartbezeichner
<span class='piece'>&#x2654;</span>, <span class='piece'>&#x265a;</span>, <span class='piece'>&#x2655;</span> und <span class='piece'>&#x265b;</span> folgen, die die Rochade genauer spezifizieren.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
  <span style='white-space:nowrap;'><span class='keyword'>:iscastling</span></span> <span class='comment'>; die Seite am Zug rochiert</span>
</code></div>
<div class='verb'><code>
  <span style='white-space:nowrap;'><span class='keyword'>:iscastling</span></span> <span class='piece'>&#x2654;</span> <span class='comment'>; Weiß rochiert kurz</span>
</code></div>
<div class='verb'><code>
  <span style='white-space:nowrap;'><span class='keyword'>:iscastling</span></span> [<span class='piece'>&#x2654;</span><span class='piece'>&#x2655;</span>] <span class='comment'>; Weiß rochiert</span>
</code></div>
<div class='verb'><code>
  <span style='white-space:nowrap;'><span class='keyword'>:iscastling</span></span> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>] <span class='comment'>; die Seite am Zug rochiert lang</span>
</code></div>

<p>
Hier muß zur Negierung das Schlüsselwort <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a> verwendet werden;
zum Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a> (position <span style='white-space:nowrap;'><span class='keyword'>:iscastling</span></span> <span class='piece'>&#x2654;</span>))
</code></div>

<p>
Der nächste Zug ist keine kurze weiße Rochade.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:castling">:castling</span></a>,
</p>

<h3 id="position:ischeck">:ischeck&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schachgebot?)</span></h3>

<p>
Filtert eine Position, wenn der nächste Zug ein Schachgebot ist. Ist als Argument
eine <a href="CQL-Range-Specifiers.html">Bereichsangabe</a> vorhanden, dann wird
eine Position gefiltert, wenn der nächste Zug ein Schachgebot ist, und die Anzahl
der Schachgebote, die die Seite am Zug dem Gegner bot, einschließlich des
nächsten Zugs, innerhalb dieser Bereichsangabe liegt. Die untere Schranke dieser
Bereichsangabe kann nicht kleiner als 1 sein.
</p>

<p><img src='../images/note.png' alt='note' /> 
<span style='white-space:nowrap;'>:ischeck</span> mit nachfolgender Bereichsangabe ist in erster Linie nützlich
in der Schachform Dreimal-Schach. Das nachfolgende Beispiel gilt
für diese Schachform.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:ischeck</span></span> 3)
</code></div>

<p>
Die Seite am Zug bietet nun zum dritten Mal in der Partie dem Gegner
Schach. Dies kann nur eine Endstellung sein (in Dreimal-Schach).
</p>

<div class='verb'><code>
(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> 1
  <span style='white-space:nowrap;'><span class='keyword'>:ischeck</span></span>)
</code></div>

<p>
Das einzige Schachgebot in der Partie überhaupt.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:ischeck</span></span>)
</code></div>

<p>
Der nächste Zug ist kein Schachgebot.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:checkcount">:checkcount</span></a>,
</p>

<h3 id="position:iscontactcheck">:iscontactcheck&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Kontaktschachgebot?)</span></h3>

<p>
Der nächste Zug ist ein Kontaktschachgebot.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:iscontactcheck</span></span>)
</code></div>

<p>
Der nächste Zug ist kein Kontaktschachgebot (aber trotzdem möglicherweise
ein Schachgebot).
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:contactcheck">:contactcheck</span></a>,
</p>

<h3 id="position:isdoublecheck">:isdoublecheck&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Doppelschachgebot?)</span></h3>

<p>
Der nächste Zug ist ein Doppelschachgebot.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isdoublecheck</span></span>)
</code></div>

<p>
Der nächste Zug ist kein Doppelschachgebot (aber trotzdem möglicherweise
ein Schachgebot).
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:doublecheck">:doublecheck</span></a>,
</p>

<h3 id="position:isillegal">:isillegal&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Regelwidrig?)</span></h3>

<p>
Der nächste Zug ist ein regelwidriger Zug, beispielsweise eine Rochade, obwohl der
König im Schach steht.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isillegal</span></span>)
</code></div>

<p>
Der nächste Zug ist kein regelwidriger Zug.
</p>

<h3 id="position:isinvalid">:isinvalid&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Unerlaubt?)</span></h3>

<p>
Der nächste Zug ist ein unerlaubter Zug, beispielsweise ein Läuferzug, der auf einem
schwarzen Feld beginnt, aber auf einem weißen Feld endet (dies unterstützt den
Kinderschachmodus).
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isinvalid</span></span>)
</code></div>

<p>
Der nächste Zug ist kein unerlaubter Zug.
</p>

<h3 id="position:ismate">:ismate&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Mattgebot?)</span></h3>

<p>
Der nächste Zug ist ein Mattgebot.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:ismate</span></span>)
</code></div>

<p>
Der nächste Zug ist kein Mattgebot.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>,
</p>

<h3 id="position:isnull">:isnull&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Nullzug?)</span></h3>

<p>
Der nächste Zug ist ein Nullzug.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:isnull</span></span>)
</code></div>

<p>
Suche nach Partien die einen Nullzug enthalten.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isnull</span></span>)
</code></div>

<p>
Filtere alle Positionen, in denen kein Nullzug erfolgt.
</p>

<h3 id="position:isstalemate">:isstalemate&emsp;<span class='normal'>(Pattgebot?)</span></h3>

<p>
Der nächste Zug ist ein Pattgebot.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isstalemate</span></span>)
</code></div>

<p>
Der nächste Zug ist kein Pattgebot.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:stalemate">:stalemate</span></a>,
</p>

<h3 id="position:movefrom">:movefrom&emsp;<span class='normal'>(Zug von)</span></h3>

<p>
Erwartet als Parameter eine Figurenbezeichner. Eine Position wird gefiltert,
wenn dieser Figurenbezeichner den Herkunftsbezeichner des nächsten Zuges
beinhaltet.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movefrom</span></span> <span class='piece'>&#x2656;</span>a3)
</code></div>

<p>
Filtere eine Position, in der der nächste Zug ein Turmzug von a3 ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movefrom</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>?8)
</code></div>

<p>
Filtere eine Position, in der der nächste Zug mit einer Figur von der
achten Reihe geschieht.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movefrom</span></span> <span class='piece'>&#x2655;</span>[+] <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .?8)
</code></div>

<p>
Ein weiße Dame wird auf der schwarzen Grundreihe eingesetzt
(Einsetzschach, Tandemschach).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movefrom</span></span> ???)
</code></div>

<p>
Dieser Ausdruck ist in den Schachformen Einsetzschach und
Tandemschach sinnvoll: in dieser Position wird keine
Figur (aus der Rückhand) eingesetzt.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movefrom</span></span> .)
</code></div>

<p>
Dies kann niemals gefiltert werden, auch keinen Einsetzzug
(Einsetzschach, Tandemschach).
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isnull">:isnull</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a>.
</p>

<h3 id="position:movenumber">:movenumber&emsp;<span class='normal'>(Zugnummer)</span></h3>

<p>
<span style='white-space:nowrap;'>:movenumber</span> erwartet als Argument eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a>, und filtert eine
Position nur dann, wenn die aktuelle Zugnummer innerhalb des gegebenen
Bereichs liegt. Die Zugnummernzählung geht von einem Anzugsrecht der
weißen Seite aus.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movenumber</span></span> 10 20 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)
</code></div>

<p>
Filtert eine Position, in der ein Schachgebot zwischen dem 10. und dem
20. Zug erfolgt.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movenumber</span></span> 35 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>)
</code></div>

<p>
Filtert eine Position, in der im 35. Zug mattgesetzt wird.
</p>

<p>
Als eine Erweiterung (des CQL-Standards) kann auch <span style='white-space:nowrap;'><code>end</code></span>, bzw.
<span style='white-space:nowrap;'><span style='white-space:nowrap;'><code>end</code></span>&minus;N</span> als Argument verwendet werden.
Jedoch ist das Verhalten undefiniert, wenn die Suche in den Untervarianten erfolgt
(&#x21d2; <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:variations">:variations</span></a>), sollte also in diesem Fall nicht
verwendet werden. Auch dazu Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movenumber</span></span> end)
</code></div>

<p>
Dies bezeichnet die Endposition (nach dem letzten Zug der Partie); siehe auch
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movenumber</span></span> end-3)
</code></div>

<p>
Dies bezeichnet den drittletzten Zug in der Partie (nicht zu
verwechseln mit Halbzügen; siehe <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a>).
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:movenumber</span></span> end-4 end-3)
</code></div>

<p>
Dies bezeichnet den Bereich vom viertletzten bis zum drittletzten Zug
in der Partie.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>.
</p>

<h3 id="position:moveto">:moveto&emsp;<span class='normal'>(Zug nach)</span></h3>

<p>
Erwartet als Argument einen Figurenbezeichner. <span style='white-space:nowrap;'>:moveto</span> filtert
einen Zug wenn dieses Argument den Zielbezeichner des Zuges beinhaltet.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>)
</code></div>

<p>
Filtert eine Position dessen nächster Zug ein Schlagzug ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> .)
</code></div>

<p>
Filtert eine Position dessen nächster Zug kein Schlagzug ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>~)
</code></div>

<p>
Im nächsten Zug wird eine Figur geschlagen, die aus einer Bauernumwandlung hervorging.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>~~)
</code></div>

<p>
Die Figur, die im nächsten Zug geschlagen wird, stammt nicht von einer Bauernumwandlung ab.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> <span class='piece'>&#x2656;</span>[b1-8])
</code></div>

<p>
Filtert eine Position, in der der nächste Zug einen weißen Turm auf der
b-Linie schlagen wird. Beachte daß dies sehr verschieden ist von der
Interpretation einer Zugbeschreibung im
<a href="http://www.saremba.de/chessgml/standards/pgn/pgn-complete.htm" target="blank_">PGN-Format&nbsp;<span class="awesome">&#xf08e;</span></a>&#x2006;:
dort würde dies als ein Turmzug auf die b-Linie interpretiert werden.
Und dies wiederum geschieht in CQL auf diese Weise:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2656;</span> <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> ?b?)
</code></div>

<p>
Filtert einen Zug, in dem der weiße Turm auf die b-Linie zieht.
Dies schließt einen Turm aus der Rückhand aus (Einsetzschach
und Tandemschach). Soll eine Figur aus der Rückhand mit
einbezogen werden, so ist folgende Erweiterung notwendig:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2656;</span>[*] <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> ?b?)
</code></div>

<p>
Im nächsten Beispiel wird der en-passant-Fall behandelt:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:moveto</span></span> .e6 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:enpassant">:enpassant</span></a>)
</code></div>

<p>
Ein Bauer auf e5 wird en-passant geschlagen.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isnull">:isnull</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a>.
</p>

<h3 id="position:noenpassant">:noenpassant&emsp;<span class='normal'>(Kein en-passant)</span></h3>

<p>
Dieses Schlüsselwort ist veraltet und sollte nicht mehr verwendet werden, es wird
nur aus Kompatibilitätsgründen zu CQL unterstützt. Es hat die gleiche Bedeutung
wie <span style='white-space:nowrap;'>!:enpassant</span>.
</p>

<h3 id="position:promote">:promote&emsp;<span class='normal'>(Bauernumwandlung)</span></h3>

<p>
Erwartet als Argument einen Figurenbezeichner. Ein Zug wird gefiltert wenn
es sich um eine Bauernumwandlung handelt, und der gegebene Figurenbezeichner
den Bauernumwandlungsbezeichner des Zuges beinhaltet.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:promote</span></span> [<span class='piece'>&#x2656;</span><span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span>])
</code></div>

<p>
Filtert eine Position dessen nächster Zug eine weiße Unterverwandlung ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:promote</span></span> [<span class='piece'>&#x2657;</span><span class='piece'>&#x2658;</span>]a8)
</code></div>

<p>
Filtert eine Position dessen nächster Zug eine weiße Bauernumwandlung in
eine Leichtfigur ist.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:promote</span></span> <span class='piece'>&#x2656;</span>e8
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>f7 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='piece'>&#x265b;</span>)
</code></div>

<p>
Filtert eine Position, in der der nächster Zug einen Bauern von f7 nach e8
zieht, wobei eine schwarze Dame geschlagen wird und eine Bauernumwandlung
in einen Turm geschieht.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:promote</span></span> [])
</code></div>

<p>
Filtert eine Position, in der der nächster Zug keine Bauernumwandlung ist
(denn der Figurenartbezeichner ist leer).
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isnull">:isnull</span></a>.
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a>,
</p>

<h3 id="position:takeslastpiece">:takeslastpiece&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schlägt die letzte Figur)</span></h3>

<p>
Dieses Schlüsselwort hat nur in der Schachform Schlagschach eine Bedeutung,
und kann in anderen Schachformen niemals erfüllt werden. Es wird erfüllt, wenn im nächsten
Zug die letzte gegnerische Figur geschlagen wird.
</p>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:takeslastpiece</span></span>)
</code></div>

<p>
In der Schachformen Schlagschach wird es erfüllt, wenn im nächsten
Zug nicht die letzte gegnerische Figur geschlagen wird. In anderen Schachformen
wird diese Bedingung immer erfüllt.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:losing">:losing</span></a>,
</p>

<!-- ############################################################################## -->
<h2 id="sequence">Schlüsselwörter für Sequenzen</h2>
<!-- ############################################################################## -->

<p>
Standard-CQL hat die folgende Einschränkung:
Die Gesamtzahl von Sequenzen in Positionslisten, die auf oberster Ebene
einer Positionsliste auftreten können, darf Eins nicht überschreiten.
Um die Wirkung von beiden Schlüsselwörtern in einer Positionsliste zu
erhalten, wird mit dem Gebrauch von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:and">:and</span></a> bewerkstelligt.
</p>

<p>
Diese Einschränkung gilt nicht für <span style='white-space:nowrap;'>CQL-S</span>, aber es ist zu beachten,
daß insbesondere die Verwendung von <span style='white-space:nowrap;'>:gappedsequence</span> bei geschachtelten
Sequenzen zu unerwarteten Resultaten führen kann. Auch die Kombination von
geschachtelten Sequenzen mit logischen Kontrollwörtern (<span style='white-space:nowrap;'>:and</span>, <span style='white-space:nowrap;'>:or</span>,
&hellip;) ist im allgemeinen sehr undurchsichtig.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:gappedsequence">:gappedsequence</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:line">:line</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:line_">:line*</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:match">:match</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:matchconsecutive">:matchconsecutive</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:sequence">:sequence</a></td></tr>
</table>

<h3 id="position:gappedsequence">:gappedsequence&emsp;<span class='normal'>(Löchrige Folge)</span></h3>

<p>
Erwartet als Argument eine Liste von Positionslisten. Eine Positionsliste A
wird als eine Verfeinerung einer Positionsliste B definiert, wenn A aus B
geformt werden kann durch das Einfügen von beliebig vielen (einschließlich Null)
Listen der Form <span style='white-space:nowrap;'><code>(position)</code></span> auf oberster Ebene in B. Zum Beispiel:
</p>

<div class='verb'><code>
((position <span class='piece'>&#x2658;</span>a4) (position) (position <span class='piece'>&#x2656;</span>b2))
</code></div>

<p>
verfeinert
</p>

<div class='verb'><code>
((position <span class='piece'>&#x2658;</span>a4) (position <span class='piece'>&#x2656;</span>b2))
</code></div>

<p>
denn es wurde geformt durch das Einfügen einer einzelnen Position in die
letztere Liste.
</p>

<p>
Eine löchrige Folge (<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:gappedsequence">:gappedsequence</span></a>) mit Argument B
filtert eine Position genau dann, wenn es eine Verfeinerung A von B gibt, so
daß eine Folge (<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a>) mit Argument A diese Position
filtern würde. D.h., <span style='white-space:nowrap;'>:gappedsequence</span> ist wie
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a>, außer das die Folge von filternden Positionen
dazwischenliegende Positionen der Partie enthalten kann.
</p>

<p>
Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:gappedsequence</span></span> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2656;</span>a3)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2656;</span>b4)))<!--
--></code></pre></div>

<p>
Diese wird jede Position filtern, die mit der ersten Position in der Liste
von <span style='white-space:nowrap;'>:gappedsequence</span> startet, und nach Null oder mehr weiteren
aufeinanderfolgenden Positionen in der Partie die zweite Position von
<span style='white-space:nowrap;'>:gappedsequence</span> auffindet.
</p>

<p>
Die folgende Positionsliste filtert eine Position, in der ein Springer auf d4
steht in irgendeiner Partiestellung, aber nach der gefundenen Position:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><span class='keyword'>:gappedsequence</span></span> (
    (position)
    (position <span class='piece'>&#x2658;</span>d4)))<!--
--></code></pre></div>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:match">:match</span></a>.
</p>

<h3 id="position:line">:line&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Zugfolge)</span></h3>

<p>
Dieses Schlüsselwort bietet eine Kurzschreibweise für Sequenzen, die nur
Schlüsselwörter für die Zuganalyse verwendet. Daher bietet <span style='white-space:nowrap;'>:line</span>
nur wenig neue Funktionalität, ist aber meistens viel besser lesbar als die
enstprechende Formulierung mit <span style='white-space:nowrap;'>:sequence</span>. So ist die folgende Sequenz
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>e2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> e4)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x265f;</span>e7 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> e6)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>d2 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> d4)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x265f;</span>d7 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> d5)))<!--
--></code></pre></div>

<p>
identisch zur dieser Zugfolge:
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (1.<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>e7-e6 2.<span class='piece'>&#x2659;</span>d2-d4 <span class='piece'>&#x2659;</span>d7-d5))<!--
--></code></pre></div>

<p>
Auch unter <a href="CQL-Examples.html#line">CQL-Beispiele</a> sind gute
Beispiele für den Gebrauch von <span style='white-space:nowrap;'>:line</span> zu finden.
</p>

<p>
Das Argument von <span style='white-space:nowrap;'>:line</span> ist eine Folge von Zügen innerhalb eines
Klammernpaares. Die Zugfolge muß in der ausführlichen reversiblen Form notiert werden.
Grundsätzlich müssen die CQL-Figurenartbezeichner verwendet werden, und es können
Felderbezeichner eingesetzt werden. Es gibt sieben Zugnotationen:
</p>

<ol>
  <li>
    <b>Züge auf leere Felder</b><br/>
    Hier wird ein Bindestrich verwendet, z.B. <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>f3-e5</code></span>, das Zielfeld
    e5 muß leer sein.
  </li>
  <li style="margin-top:5px">
    <b>Züge auf besetzte Felder</b><br/>
    Hier wird ein Schlagsymbol verwendet, z.B. <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>f3xe5</code></span>, das Zielfeld
    e5 darf nicht leer sein.
  </li>
  <li style="margin-top:5px">
    <b>Züge auf leere oder besetzte Felder</b><br/>
    Hier wird ein Doppelpunkt verwendet, z.B. <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>f3:e5</code></span>, das Zielfeld
    e5 kann leer sein, aber auch besetzt. Ist es nicht leer, dann ist es ein Schlagzug.
    Diese Notation ist auch in Verbindung mit Figurenartbezeichnern verwendbar, z.B.
    <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>f3:<span class='piece'>&#x265e;</span>e5</code></span>: entweder ist das Feld e5 leer, oder es steht dort ein
    schwarzer Springer.
  </li>
  <li style="margin-top:5px">
    <b>Rochaden</b><br/>
    Mit dem speziellen Symbol <span style='white-space:nowrap;'><code>O-O-O-O</code></span> wird eine beliebige Rochade
    (lang oder kurz) bezeichnet. Wird für die Rochade eine Farbangabe benötigt
    dann sollte eine alternative Notation verwendet werden:
    <ul style='list-style-type: none'><li><table>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>-<span class='piece'>&#x2655;</span>&emsp;</code></span></td><td>Weiße lange Rochade</td></tr>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span>-<span class='piece'>&#x265b;</span>&emsp;</code></span></td><td>Schwarze lange Rochade</td></tr>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>-<span class='piece'>&#x2654;</span>&emsp;</code></span></td><td>Weiße kurze Rochade</td></tr>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span>-<span class='piece'>&#x265a;</span>&emsp;</code></span></td><td>Schwarze kurze Rochade</td></tr>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>-<span class='piece'>&#x2654;</span><span class='piece'>&#x2655;</span>&emsp;</code></span></td><td>Weiße Rochade (lang oder kurz)</td></tr>
      <tr><td><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span>-<span class='piece'>&#x265a;</span><span class='piece'>&#x265b;</span>&emsp;</code></span></td><td>Schwarze Rochade (lang oder kurz)</td></tr>
    </table></li></ul>
  </li>
  <li style="margin-top:5px">
    <b>Einsetzzüge (Einsetzschach, Tandemschach)</b><br/>
    Hier wird ein "at" verwendet und auf das Herkunftsfeld verzichtet, z.B.
    bezeichnet <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>@f3</code></span> ein Zug, der einen weißen Springer auf das Feld f3
    einsetzt.
  </li>
  <li style="margin-top:5px">
    <b>Beliebige Zuge</b><br/>
    Dies wird durch die Notation <span style='white-space:nowrap;'><code>--</code></span> notiert, jedoch sind Nullzüge
    hier nicht eingeschlossen. Aber Einsetzzüge (Einsetzschach,
    Tandemschach) zählen dazu.
  </li>
  <li style="margin-top:5px">
    <b>Nullzüge</b><br/>
    Ein Nullzug wird mit dem speziellen Symbol <span style='white-space:nowrap;'><code>null</code></span> notiert.
  </li>
</ol>

<p>
Zu beachten ist, daß immer eine beliebige Figur angenommen wird, wenn der Figurenbezeichner
des Herkunftfeldes nicht angegeben ist (also nicht unbedingt ein Bauer wie sonst üblich).
Ist der Figurenbezeichner des Zielfeldes nicht angegeben, dann wird bei einem Schlagzug
immer eine beliebige Figur angenommen.
</p>

<p>
Ist das Herkunftsfeld beliebig, dann kann abkürzend für <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>??-e5</code></span> auch
<span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>e5</code></span> notiert werden; entsprechend <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>xe5</code></span> als Kurzschreibweise
für <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>??xe5</code></span>, bzw. <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>:e5</code></span> als Kurzschreibweise für
<span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>??:e5</code></span>.  Ist auch das Zielfeld beliebig, dann kann noch weitergehend
abgekürzt werden; so bezeichnet einfach nur <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span></code></span> einen beliebigen Springerzug
auf ein freies Feld; <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>x</code></span> ist eine beliebiger Springerzug auf ein besetztes
Feld, und <span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>:</code></span> ist ein beliebiger Springerzug auf ein freies oder auf ein
besetztes Feld.
</p>

<p>
Weiterhin können auch Schachgebote <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>+</code></span>)</span>, Doppelschachgebote
<span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>++</code></span>)</span>, Kontaktschachgebote <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>+++</code></span>)</span>
und Mattgebote <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>#</code></span>)</span> notiert werden. Ebenso kann auch explizit
notiert werden das kein Schach geboten wird (mittels <span style='white-space:nowrap;'><span style='white-space:nowrap;'><code>-</code></span>)</span>, oder
kein Matt <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>*</code></span>)</span>, bzw. kein Doppelschach
<span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>--</code></span>)</span>, oder kein Kontaktschach <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>---</code></span>)</span>.
Außerdem kann ein en-passant-Zug <span style='white-space:nowrap;'>(<span style='white-space:nowrap;'><code>ep</code></span>)</span> notiert werden, als
auch ein Bauernumwandlungszug (z.B. <span style='white-space:nowrap;'><span style='white-space:nowrap;'><code>=<span class='piece'>&#x2655;</span></code></span>)</span>. Bei einem
Bauernumwandlungszug ist die Angabe der verwandelten Figur zwingend. Mit dem Zeichen
<span style='white-space:nowrap;'><code>!</code></span> werden forcierte Züge (einzig möglicher Zug) ausgezeichnet.
</p>

<p>
Werden Zugnummern verwendet &ndash; sie müssen streng aufsteigend sein &ndash;
so werden diese bei der Suche mitberücksichtigt.
</p>

<p>
Beispiele:
</p>

<table class="stripes">
  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code>e2-e4</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> ?e2<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .e4
    </code></span></td>
    <td class="r">
      Eine beliebige Figur zieht von e2 nach e4.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>e2-e4</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>e2<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .e4
    </code></span></td>
    <td class="r">
      Eine weißer Bauer zieht von e2 nach e4.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code>1.e2-e4</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a> 1<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> ?e2<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .e4
    </code></span></td>
    <td class="r">
      Im ersten Zug der Partie zieht die Figur auf e2 nach e4
      (normalerweise ein Bauernzug).</td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code>1...e7-e5</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:halfmovenumber">:halfmovenumber</span></a> 2<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> ?e7<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .e5
    </code></span></td>
    <td class="r">
      Im ersten Zug der Partie zieht die Figur auf e7 nach e5
      (normalerweise ein Bauernzug).</td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>d5xe6 ep</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>d5<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .e6<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:enpassant">:enpassant</span></a>
    </code></span></td>
    <td class="r">
      Weißer Bauer auf d5 schlägt en-passant den Bauern auf e5
      (nur ein Bauer kann en-passant geschlagen werden).
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>d5x<span class='piece'>&#x265f;</span>e6</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>d5<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='piece'>&#x265f;</span>e6
    </code></span></td>
    <td class="r">
      Weißer Bauer auf d5 schlägt den Bauern auf e6
      (hier ist en-passant ausgeschlossen).
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>=<span class='piece'>&#x2655;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a> <span class='piece'>&#x2655;</span>
    </code></span></td>
    <td class="r">
      Weißer Bauer zieht auf die Grundreihe und verwandelt
      in eine Dame.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>=<span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span>#</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a>
    </code></span></td>
    <td class="r">
      Ein weißer Bauer zieht auf die Grundreihe, und verwandelt beliebig
      mit einem Mattgebot.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2655;</span>+*</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a><br/>
      <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:ismate">:ismate</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Dame bietet dem König Schach, aber es ist
      kein Mattgebot.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2655;</span>+++</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscontactcheck">:iscontactcheck</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Dame bietet dem König Kontaktschach.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>b1-[ac]3</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span>b1<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .[ac]3
    </code></span></td>
    <td class="r">
      Weißer Springer zieht von b1 nach a3 oder nach c3.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265d;</span>[bg]7x<span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span>?1</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x265d;</span>[bg]7<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Weiße Leichtfigur'>&#x25bd;</span>?1
    </code></span></td>
    <td class="r">
      Schwarzer Läufer auf b7 oder g7 schlägt eine weiße
      Schwerfigur auf der ersten Reihe.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='cql' title='Weiße Schwerfigur'>&#x25b3;</span>?[1-7]-?8+</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='cql' title='Weiße Schwerfigur'>&#x25b3;</span>?[1-7]<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .?8<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Schwerfigur zieht auf die schwarze Grundreihe
      und bietet Schach.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='cql' title='Weiße Schwerfigur'>&#x25b3;</span>?[1-7]-?8-</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='cql' title='Weiße Schwerfigur'>&#x25b3;</span>?[1-7]<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .?8<br/>
      <span style='white-space:nowrap;'>!<a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Schwerfigur zieht auf die schwarze Grundreihe
      ohne ein Schachgebot.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2657;</span>g5++</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2657;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .g5<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isdoublecheck">:isdoublecheck</span></a>
    </code></span></td>
    <td class="r">
      Weißer Läufer zieht auf das Feld g5 und Schwarz wird
      Doppelschach geboten.</td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>:f7#</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> ?f7<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a>
    </code></span></td>
    <td class="r">
      Weißer Springer zieht auf das Feld f7 und setzt matt;
      f7 kann auch von einer schwarzen Figur besetzt sein.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265e;</span>x<span class='piece'>&#x2659;</span>e4</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x265e;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='piece'>&#x2659;</span>e4
    </code></span></td>
    <td class="r">
      Ein schwarzer Springer schlägt einen Bauern auf dem Feld e4.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>xe4</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x265e;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> ?e4
    </code></span></td>
    <td class="r">
      Ein weißer Springer schlägt eine beliebige Figur auf dem Feld e4.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .
    </code></span></td>
    <td class="r">
      Ein beliebiger Springerzug eines weißen Springers auf ein freies Feld.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>x</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span>
    </code></span></td>
    <td class="r">
      Ein beliebiger Springerzug eines weißen Springers auf ein besetztes Feld.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>x<span class='cql' title='Schwarze Schwerfigur'>&#x25b2;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Schwarze Schwerfigur'>&#x25b2;</span>
    </code></span></td>
    <td class="r">
      Ein beliebiger Springerzug eines weißen Springers,
      bei dem eine schwarze Schwerfigur geschlagen wird.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code>x<span class='cql' title='Schwarze Schwerfigur'>&#x25b2;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Schwarze Schwerfigur'>&#x25b2;</span>
    </code></span></td>
    <td class="r">
      Ein beliebiger Zug mit einer weißen Figur,
      bei dem eine schwarze Schwerfigur geschlagen wird.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2658;</span>:</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2658;</span>:
    </code></span></td>
    <td class="r">
      Ein beliebiger Springerzug eines weißen Springers auf ein freies
      oder auf ein besetztes Feld.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code>O-O</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a> [<span class='piece'>&#x2654;</span><span class='piece'>&#x265a;</span>]
    </code></span></td>
    <td class="r">
      Die Seite am Zug führt die kurze Rochade aus.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code>O-O-O</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>]
    </code></span></td>
    <td class="r">
      Die Seite am Zug führt die lange Rochade aus.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code>O-O-O-O</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a>
    </code></span></td>
    <td class="r">
      Die Seite am Zug führt eine Rochade aus (lang oder kurz).
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>-<span class='piece'>&#x2655;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a> [<span class='piece'>&#x2655;</span>]
    </code></span></td>
    <td class="r">
      Weiß führt eine lange Rochade aus.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x265a;</span>-<span class='piece'>&#x265a;</span><span class='piece'>&#x265b;</span></code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:iscastling">:iscastling</span></a> [<span class='piece'>&#x265a;</span><span class='piece'>&#x265b;</span>]
    </code></span></td>
    <td class="r">
      Schwarz führt eine Rochade aus (lang oder kurz).
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>!</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2654;</span><br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:forced">:forced</span></a>
    </code></span></td>
    <td class="r">
      Der weiße König zieht, und es handelt sich
      dabei um den einzig möglichen Zug in der Stellung.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='cql' title='Irgendeine Figur'>&#x25d1;</span>x[<span class='piece'>&#x2655;</span>~<span class='piece'>&#x265b;</span>~]</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> [<span class='piece'>&#x2655;</span>~<span class='piece'>&#x265b;</span>~]
    </code></span></td>
    <td class="r">
      Die Seite am Zug schlägt eine Dame, die aus einer Bauernumwandlung
      hervorging.
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2655;</span>~~#</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>~~<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ismate">:ismate</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Dame, die nicht das Resultat einer Bauernumwandlung ist,
      setzt matt.
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code><span class='piece'>&#x2659;</span>@?7</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2659;</span>[+]<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> ?7
    </code></span></td>
    <td class="r">
      Eine weißer Bauer wird auf der siebten Reihe eingesetzt
      (Einsetzschach, Tandemschach).
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code><span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span>@+</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span>[+]<br/>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a>
    </code></span></td>
    <td class="r">
      Eine weiße Figur wird mit Schachgebot eingesetzt
      (Einsetzschach, Tandemschach).
    </td>
  </tr>

  <tr valign="top">
    <td class="l"><span style='white-space:nowrap;'><code>--</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>[*]
    </code></span></td>
    <td class="r">
      Diese Kurzschreibweise bezeichnet einen beliebigen Zug
      (jedoch keinen Nullzug).
    </td>
  </tr>

  <tr valign="top" class="stripes">
    <td class="l"><span style='white-space:nowrap;'><code>null</code></span></td>
    <td class="m"><span style='white-space:nowrap;'><code>
      <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isnull">:isnull</span></a>
    </code></span></td>
    <td class="r">
      Dieses Symbol bezeichnet einen Nullzug.
    </td>
  </tr>
</table>

<p>
Die Zugfolgen können mit oder ohne Zugnummern notiert werden. Mit der Verwendung von
Zugnummern können statt den CQL-Standardfigurenartbezeichnern auch die normalen
<a href="http://www.saremba.de/chessgml/standards/pgn/pgn-complete.htm" target="blank_">PGN&nbsp;<span class="awesome">&#xf08e;</span></a>-Figurenbezeichner
verwendet werden, denn hier ergeben sich die Figurenfarben aus der Position in der
Notation. Bei Gebrauch von Zugnummern kann <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> nicht mehr
verwendet werden.
</p>

<p>
Beispiele:
</p>

<div class='box'>
  <dl>
    <dt>
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (1.<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2658;</span>g8-f6)</code></span>
    </dt>
    <dd>
      Suche nach Partien, die mit der Aljechin-Eröffnung beginnen.
      (die Figurenfarbe wird durch die Zugnummern bestimmt.)
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (2...<span class='piece'>&#x2659;</span>e7-e6)</code></span>
    </dt>
    <dd>
      Suche nach Partien, in denen im zweiten Zug ein
      schwarzer Bauer von e7 nach e6 zieht.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x265e;</span>g8-f6)</code></span>
    </dt>
    <dd>
      Suche nach einem Zugmuster irgendwo in der Partie.
      Dies wird auch alle Aljechin-Eröffnungspartien auffinden.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2658;</span>g8-f6)</code></span>
    </dt>
    <dd>
      Dieser Ausdruck wird als fehlerhaft zurückgewiesen (die Figurenfarben
      müssen alternieren, wenn keine Zugnummern vorhanden sind).
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (<span class='piece'>&#x2659;</span>c4x<span class='piece'>&#x2659;</span>d5 <span class='piece'>&#x265e;</span>f6x<span class='piece'>&#x2659;</span>d5 <span class='piece'>&#x2658;</span>c3x<span class='piece'>&#x2658;</span>d5 <span class='piece'>&#x265f;</span>e6x<span class='piece'>&#x2658;</span>d5)</code></span>
    </dt>
    <dd>
      Suche nach einem typischen Schlagabtauschmuster.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line</span></span> ([<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>]x[<span class='piece'>&#x2656;</span><span class='piece'>&#x265c;</span>])</code></span>
    </dt>
    <dd>
      Die Seite am Zug schlägt mit der Dame einen Turm. Dies erspart zwar die Verwendung
      von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>, aber für die Lesbarkeit ist grundsätzlich die
      Verwendung von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> vorzuziehen.
    </dd>
  </dl>
</div>

<p>
Bei der Verwendung von Zugnummern muß dies konsequent geschehen, d.h. eine
Mischung von Sequenzen mit und ohne Zugnummern ist nicht zulässig.
</p>

<p>
Transformationen der Figuren- bzw. Felderbezeichner
(<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>,
usw.) wirken nicht auf das Schlüsselwort <span style='white-space:nowrap;'>:line</span>. Dazu muß
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a> verwendet werden, wenn solche Transformationen
verlangt sind. Aber die Farbwechseltransformation <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
kann verwendet, wie bereits beschrieben wurde.
</p>

<p>
<span style='white-space:nowrap;'>:line</span> wartet mit einem zusätzlichen Funktionalität auf: mit dem
Trennzeichen <span style='white-space:nowrap;'><code>|</code></span> kann eine potentielle Zugfolge definiert werden.
Es sei folgende formale Beschreibung einer Zugfolge gegeben:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:line</span></span> (&lt;m<sub>1</sub>&gt; &lt;m<sub>2</sub>&gt; &hellip;
  &lt;m<sub>k</sub>&gt; | &lt;m<sub>k+1</sub>&gt; &hellip; &lt;m<sub>n</sub>&gt;)
</code></div>

<p>
Es wird eine Partie genau dann gefunden, wenn in der Partie eine Zugfolge
<span style='white-space:nowrap;'><code>&lt;m<sub>1</sub>&gt;</code></span> <span style='white-space:nowrap;'><code>&hellip;</code></span> <span style='white-space:nowrap;'><code>&lt;m<sub>k</sub>&gt;</code></span>
existiert, so daß die Stellung (dies muß keine Endstellung sein) mit der restlichen Zugfolge
<span style='white-space:nowrap;'><code>&lt;m<sub>k+1</sub>&gt;</code></span> <span style='white-space:nowrap;'><code>&hellip;</code></span> <span style='white-space:nowrap;'><code>&lt;m<sub>n</sub>&gt;</code></span>
fortgesetzt werden könnte. Die Züge
<span style='white-space:nowrap;'><code>&lt;m<sub>k+1</sub>&gt;</code></span> <span style='white-space:nowrap;'><code>&hellip;</code></span> <span style='white-space:nowrap;'><code>&lt;m<sub>n-1</sub>&gt;</code></span>
sollten (müssen aber nicht) eindeutig bestimmt sein
(siehe bei <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line_">:line*</span></a> wegen der eindeutigen Bestimmtheit), ansonsten kann
die Suchzeit exponentiell wachsen (d.h. die Suchzeit kann sich sehr rapide steigern).
</p>

<p>
Dazu ein Beispiel: wir suchen nach mehreren nacheinanderfolgenden Turmschachgeboten,
jeweils gefolgt von einem Königszug auf ein freies Feld. Dies kommt normalerweise
nur dann vor, wenn ein Patt durch Schlagen des Turms vermieden werden will.
</p>

<div class='box'><pre><code><!--
-->(match
  <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:result">:result</span></a> 1/2
  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a> (
      (position
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
        <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a> (<span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ | <span class='piece'>&#x265a;</span>))
      (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:terminal">:terminal</span></a>))))<!--
--></code></pre></div>

<p>
Es wird hier am Ende der Partie gesucht. Es ist zu beachten, daß die gesuchten
Partien mit einem Turmzug oder aber mit einem Königszug enden
können. Endet eine solche Partie mit einem Turmzug, dann wird sie gefunden, wenn
in der Stellung nach dem letzten Turmzug ein Königszug möglich ist. Es werden aber
auch die Partien aufgefunden, die mit dem potentiellen Königszug enden. Es werden
also alle Partien aufgefunden, die entweder mit der Zugfolge
</p>

<ul style='list-style-type: none'><li>
  <span style='white-space:nowrap;'><code>(<span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span>)</code></span>
</li></ul>

oder aber mit der Zugfolge

<ul style='list-style-type: none'><li>
  <span style='white-space:nowrap;'><code>(<span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+ <span class='piece'>&#x265a;</span> <span class='piece'>&#x2656;</span>:+)</code></span>
</li></ul>

<p>
enden, wobei nach letzterer Zugfolge ein weiterer Königszug in der Stellung möglich
sein muss. Siehe bei <a href="CQL-Examples.html#line">Beispiele für Zugsequenzen</a>
für weitere Anwendungen potentieller Zugfolgen.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isnull">:isnull</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line_">:line*</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a>.
</p>

<h3 id="position:line_">:line*&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Transpositionsinvariante Zugfolge)</span></h3>

<p>
Diese Version von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a> prüft Zugsequenzen
transpositionsinvariant, und die Suche beginnt deshalb immer mit dem ersten
Zug in der vorliegenden Grundstellung. Es können optional Zugnummern verwendet
werden, sie sind jedoch hier nicht erforderlich.  Eine transpositionsinvariante
Suche ist jedoch nur möglich wenn alle Züge eindeutig bestimmt sind (eindeutiges
Herkunftsfeld, eindeutiges Zielfeld, eindeutige Figuren, eindeutige
Bauernumwandlung). Dies ist erforderlich damit beispielsweise auch
Schach-960-Positionen korrekt geprüft werden. Weiterhin wird bei der
transpositionsinvarianten Suche ein mögliches en-passant-Recht ignoriert.
Transformierende Schlüsselwörter (<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>, &hellip;) sind in Verbindung mit
Transpositionsinvarianz nicht erlaubt.
</p>

<p>
Auch sind bei einer transpositionsinvarianten Suche die Angaben von Schach,
Doppelschach und Kontaktschach nicht erlaubt, außer im letzten Halbzug.
Solche Angaben im letzten Zug schränken im allgemeinen die möglichen
Transpositionen ein.
</p>

<p>
Potentielle Zugfolgen wie bei <span style='white-space:nowrap;'>:line</span> sind hier nicht erlaubt.
</p>

<p>
Beispiele:
</p>

<div class='box'>
  <dl>
    <dt>
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (e2-e4 d7-d5)</code></span>
    </dt>
    <dd>
      Dies ist eine fehlerhafter Ausdruck, die Figuren sind nicht eindeutig
      bestimmt.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>d7-d5)</code></span>
    </dt>
    <dd>
      Dies ist eine korrekter Ausdruck (die Figurenfarbe wird durch die
      Halbzugposition eindeutig bestimmt).
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x265f;</span>d7-d5)</code></span>
    </dt>
    <dd>
      Ebenfalls ein korrekter Ausdruck.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x265f;</span>d7-d5 <span class='piece'>&#x2659;</span>e4xd5)</code></span>
    </dt>
    <dd>
      Inkorrekt, denn die geschlagene Figur ist nicht eindeutig.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x265f;</span>d7-d5 <span class='piece'>&#x2659;</span>e4x<span class='piece'>&#x2659;</span>d5)</code></span>
    </dt>
    <dd>
      Korrekt, alles ist eindeutig bestimmt.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e?)</code></span>
    </dt>
    <dd>
      Inkorrekt, denn das Zielfeld ist nicht eindeutig.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>f7-f6 <span class='piece'>&#x2655;</span>d1-h5+ <span class='piece'>&#x2659;</span>g7-g6)</code></span>
    </dt>
    <dd>
      Inkorrekt, denn ein Schachgebot darf hier nicht notiert werden.
    </dd>
    <dt style="margin-top:10px">
      <span style='white-space:nowrap;'><code><span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>f7-f6 <span class='piece'>&#x2655;</span>d1-h5+)</code></span>
    </dt>
    <dd>
      Korrekt, ein Schachgebot im letzten Halbzug ist zulässig,
    </dd>
  </dl>
</div>

<p>
Weitere Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><span class='keyword'>:line*</span></span> (1.<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>e7-e6 2.<span class='piece'>&#x2659;</span>d2-d4 <span class='piece'>&#x2659;</span>d7-d5))<!--
--></code></pre></div>

<p>
Filtere alle Stellungen die mit Französisch beginnen, inklusive Zugumstellungen
wie 1.d4 d5 2.e4 e6. Dies ist in Partien, die mit der Standardstartposition beginnen,
äquivalent zur folgenden Abfrage:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:fen">:fen</span></a> "rnbqkbnr/pppp1ppp/4p3/8/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2")<!--
--></code></pre></div>

<p>
Diese Äquivalenz trifft jedoch nicht für Partien zu, die nicht mit der Standardstartposition
beginnen.
</p>

<p>
Wird die exakte Eröffnungszugfolge 1.e4 e6 2.d4 d5 gesucht,
so geschieht dies mittels <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>:
</p>

<div class='box'><pre><code><!--
-->(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a> (1.<span class='piece'>&#x2659;</span>e2-e4 <span class='piece'>&#x2659;</span>e7-e6 2.<span class='piece'>&#x2659;</span>d2-d4 <span class='piece'>&#x2659;</span>d7-d5))<!--
--></code></pre></div>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:fen">:fen</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>,
</p>

<h3 id="position:match">:match&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Suchfolge)</span></h3>

<p>
Dies entspricht genau dem Verhalten der Suchliste <span style='white-space:nowrap;'><code>(match</code></span>
<span style='white-space:nowrap;'><code>...)</code></span>, nur daß hier ausnahmslos Positionslisten als Argumente
erwartet werden. Somit wird dieses Schlüsselwort normalerweise nicht
benötigt, es kann jedoch von Nutzen sein, wenn es als Argument für eines der
logischen Schlüsselwörter dient. Ein formales Beispiel:
</p>

<div class='box'><pre><code><!--
-->(match
  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:and">:and</span></a> (
      (position ...)
      (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:match">:match</span></a> (
        (position ...)
        (position ...)
        ...
        (position ...))))))<!--
--></code></pre></div>

<h3 id="position:matchconsecutive">:matchconsecutive&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Sukzessive Suchfolge)</span></h3>

<p>
Diese Variante der Suchfolge filtert genau dann eine Partie, wenn alle Positionen
dieser Suchfolge nacheinander aufgefunden werden, jedoch unabhängig von der Reihenfolge.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(match
  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
    <span style='white-space:nowrap;'><span class='keyword'>:matchconsecutive</span></span> (
      (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a> <span class='piece'>&#x2657;</span>)
      (position)
      (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promote">:promote</span></a> <span class='piece'>&#x2658;</span>))))<!--
--></code></pre></div>

<p>
Filtert alle Partien, in denen nacheinander eine der Parteien eine
Bauernumwandlung in zwei verschiedene Leichtfiguren ausführt.
</p>

<h3 id="position:sequence">:sequence&emsp;<span class='normal'>(Folge)</span></h3>

<p>
Erwartet als Argument eine Liste von Positionslisten. Eine Position wird
gefiltert, wenn sie und alle aufeinanderfolgenden Positionen von jedem
Element im Argument gefiltert werden.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span class='piece'>&#x2656;</span>e8
  <span style='white-space:nowrap;'><span class='keyword'>:sequence</span></span> (
    (position <span class='piece'>&#x2655;</span>f3 .g2)
    (position .f3 <span class='piece'>&#x2655;</span>g2)))<!--
--></code></pre></div>

<p>
Diese Positionsliste filtert exakt diejenigen Positionen mit einem weißen Turm
auf e8, so daß:
</p>

<ol>
  <li>in dieser Position hat Weiß eine Dame auf f3, das Feld g2 ist leer, und</li>
  <li>nach dem nächsten Zug ist das Feld f3 leer, und die weiße Dame befindet sich auf g2.</li>
</ol>

<p>
Diese Positionsliste ist offensichtlich identisch zu:
</p>

<div class='verb'><code>
(position <span class='piece'>&#x2656;</span>e8 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>f3 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> .g2)
</code></div>

<p>
Außerdem ist sie identisch zu:
</p>

<div class='verb'><code>
(position <span class='piece'>&#x2656;</span>e8 <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a> (<span class='piece'>&#x2655;</span>f3-g2))
</code></div>

<p>
Der folgende recht typische Gebrauch von <span style='white-space:nowrap;'>:sequence</span> sucht nach allen
Treppenschachmanövern mit einer Dame:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:sequence</span></span> (
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>a2)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>b2)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>b3)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>c3)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> <span class='piece'>&#x2655;</span>c4)
    (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>)))<!--
--></code></pre></div>

<p>
Diese Positionsliste filtert eine Position mit einer weißen Dame auf a2,
die nacheinander auf die bezeichneten Felder zieht und dabei Schach bietet.
Die Schlüsselwörter <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a>, und
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> suchen nach den gespiegelten oder gedrehten
Manövern irgendwo auf dem Schachbrett. Jedoch kann dies folgendermaßen
viel einfacher ausgedrückt werden:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flip">:flip</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a> (<span class='piece'>&#x2655;</span>a2-b2+ -- <span class='piece'>&#x2655;</span>b2-b3+ -- <span class='piece'>&#x2655;</span>b3-c3+ -- <span class='piece'>&#x2655;</span>c3-c4+))<!--
--></code></pre></div>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:line">:line</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchconsecutive">:matchconsecutive</span></a>.
</p>

<!-- ############################################################################## -->
<h2 id="game">Schlüsselwörter für die Partieinformationen</h2>
<!-- ############################################################################## -->

<p>
Diese Schlüsselwörter beziehen sich auf Partiemerkmale und werden nicht von
den Positionen beeinflußt; sie sind als Schlüsselwörter für die Positionsliste
verfügbar, damit eine von diesen Merkmalen abhängige Suche gestaltet werden kann;
z.B. um Abfragen an die einzelnen <a href="Chess-Variants.html">Schachformen</a>
anzupassen.
</p>

<p>
Die Schlüsselwörter <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:elo">:elo</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:whiteelo">:whiteelo</span></a> und
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:blackelo">:blackelo</span></a> werden nur unterstützt, um kompatibel mit
Standard-CQL zu sein, und sollten nicht mehr in Positionslisten verwendet werden.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:elo">:elo</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:whiteelo">:whiteelo</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:blackelo">:blackelo</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:ischess960">:ischess960</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:isshufflechess">:isshufflechess</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:result">:result</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:startposition">:startposition</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:variant">:variant</a></td></tr>
</table>

<h3 id="position:blackelo">:blackelo&emsp;<span class='normal'>(ELO &ndash; Schwarz)</span></h3>

<p>
Dieses Schlüsselwort wird nur unterstützt, um kompatibel mit dem CQL-Standard
zu sein. Es wird zur Verwendung des gleichnamigen Schlüsselworts
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:blackelo">:blackelo</span></span> : <span style='white-space:nowrap;'>match</span></a> in der Suchliste geraten. Dort wird es auch genauer
beschrieben.
</p>

<h3 id="position:elo">:elo</h3>

<p>
Dieses Schlüsselwort wird nur unterstützt, um kompatibel mit dem CQL-Standard
zu sein. Es wird zur Verwendung des gleichnamigen Schlüsselworts
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:elo">:elo</span></span> : <span style='white-space:nowrap;'>match</span></a> in der Suchliste geraten. Dort wird es auch genauer
beschrieben.
</p>

<h3 id="position:ischess960">:ischess960&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schach-960?)</span></h3>

<p>
Filtert Partien, die mit einer Schach-960-Position beginnen. Dies beeinhaltet
die Standardstartposition 518. Diese Schlüsselwort ist eine Kurzschreibweise für:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:startposition">:startposition</span></a> 1-960
</code></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:ischess960</span></span>)
</code></div>

<p>
Filtert Partien, die nicht mit einer Schach-960-Position beginnen.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isshufflechess">:isshufflechess</span></a>.
</p>

<h3 id="position:isshufflechess">:isshufflechess&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Shuffle-Schach?)</span></h3>

<p>
Filtert Partien, die mit einer Schuffle-Schach-Position beginnen. Dies beinhaltet
Schach-960-Positionen. Diese Schlüsselwort ist eine Kurzschreibweise für:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:startposition">:startposition</span></a> 1-3840
</code></div>

<p>
Dieses Schlüsselwort kann auch in negierter Form &ndash; mit einem vorangestellten
Ausrufungszeichen &ndash; verwendet werden. Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'>!<span class='keyword'>:isshufflechess</span></span>)
</code></div>

<p>
Filtert Partien, die nicht mit einer Schuffle-Schach-Position beginnen.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischess960">:ischess960</span></a>.
</p>

<h3 id="position:result">:result&emsp;<span class='normal'>(Ergebnis)</span></h3>

<p>
Dieses Schlüsselwort wird nur aus Kompatibilätsgründen zu CQL 1.0
unterstützt, sollte aber nicht mehr verwendet werden (denn <span style='white-space:nowrap;'>CQL-S</span>
bietet <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:eithercolor">:eithercolor</span></span> : <span style='white-space:nowrap;'>match</span></a> als Erweiterung zu
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>).
</p>

<p>
Dieses Schlüsselwort erwartet das gleiche Argument wie das Schlüsselwort
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:result">:result</span></span> : <span style='white-space:nowrap;'>match</span></a> in der Suchliste.
</p>

<h3 id="position:startposition">:startposition&ensp;<img src="../images/ft-scidb-tiny.png" alt="" /></h3>

<p>
Erwartet eine kommaseparierte Liste von Startpositionsbereichen. Eine Startposition
ist entweder eine Positionsnummer, oder eine FICS-Variantenbezeichnung. Ein
Startpositionsbereich ist eine Folge von Startpositionen.
Für eine genauere Beschreibung siehe bei <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:startposition">:startposition</span></span> : <span style='white-space:nowrap;'>match</span></a>.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischess960">:ischess960</span></a>,
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:isshufflechess">:isshufflechess</span></a>.
</p>

<h3 id="position:variant">:variant</h3>

<p>
Für eine Beschreibung dieses Schlüsselwortes siehe beim gleichnamigen
Schlüsselwort <span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:variant">:variant</span></span> : <span style='white-space:nowrap;'>match</span></a> der Suchliste. Dieses
Schlüsselwort wird hier bereitgestellt, um bei einzelnen Positionslisten
eine Unterscheidung zwischen den
<a href="Chess-Variants.html">Schachformen</a> treffen zu können.
</p>

<h3 id="position:whiteelo">:whiteelo&emsp;<span class='normal'>(ELO &ndash; Weiß)</span></h3>

<p>
Dieses Schlüsselwort wird nur unterstützt, um kompatibel mit dem CQL-Standard
zu sein. Es wird zur Verwendung des gleichnamigen Schlüsselworts
<span style='white-space:nowrap;'><a href="CQL-Match-List.html#match:whiteelo">:whiteelo</span></span> : <span style='white-space:nowrap;'>match</span></a> in der Suchliste geraten. Dort wird es auch genauer
beschrieben.
</p>

<!-- ############################################################################## -->
<h2 id="relation">Relationen zwischen den Positionen</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:relation">:relation</a></td></tr>
</table>

<h3 id="position:relation">:relation</h3>

<p>
Das Argument, eine Relationenbeschreibung, wird benutzt um nach Partien zu
suchen, in denen Positionenpaare P1 und P2 gewisse Eigenschaften erfüllen.
Siehe <a href="CQL-Relation-List.html">Relationsliste</a> für eine
Beschreibung von Relationen.
</p>

<!-- ############################################################################## -->
<h2 id="matching">Schlüsselwörter zur Zählung</h2>
<!-- ############################################################################## -->

<p>
Diese Schlüsselwörter zählen die Anzahl der Positionen, die von einer
Positionsliste gefiltert werden. Jedes von ihnen erwartet eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a> als Argument.
</p>

<p>
Laut Standard-CQL können sie nur in Positionslisten verwendet werden, die sich auf
oberster Ebene einer Suchliste befinden. Diese Einschränkung gilt nicht für
<span style='white-space:nowrap;'>CQL-S</span>.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:checkcount">:checkcount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:matchcount">:matchcount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:pretransformmatchcount">:pretransformmatchcount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:pretransformrepetitioncount">:pretransformrepetitioncount</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:repetitioncount">:repetitioncount</a></td></tr>
</table>

<h3 id="position:checkcount">:checkcount&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Schachgebotszähler)</span></h3>

<p>
Es werden zwei <a href="CQL-Range-Specifiers.html">Bereichsangaben</a> erwartet,
deren untere Schranken nicht kleiner als Null sein dürfen.
Eine Position wird gefiltert, wenn die Anzahl der Schachgebote, die Weiß von
Schwarz erhielt, innerhalb der ersten Bereichsangabe,
und die Anzahl der Schachgebote, die Schwarz von Weiß erhielt, innerhalb der
zweiten Bereichsangabe liegt. Die Bereichsangaben müssen mit dem Trennzeichen
<span style='white-space:nowrap;'><code>:</code></span> getrennt werden.
</p>

<p><img src='../images/note.png' alt='note' /> 
<span style='white-space:nowrap;'>:checkcount</span> ist in erster Linie nützlich in der Schachform
Dreimal-Schach. Die nachfolgenden Beispiele gelten
für diese Schachform.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:checkcount</span></span> &lt;=2 : 3)
</code></div>

<p>
Filtere eine Position wenn Schwarz insgesamt drei Schachgebote erhalten hat.
Dies kann nur eine Endstellung sein (in Dreimal-Schach).
Die Schachgebote, die Weiß erhielt, spielen hier keine Rolle, denn sie
können nur im Wertebereich Null bis 2 liegen.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a> <span style='white-space:nowrap;'><span class='keyword'>:checkcount</span></span> 0 : 0)
</code></div>

<p>
Dies ist tatsächlich eine sinnvolle Abfrage. Wir nehmen an, daß eine
der Partien mit folgender Position beginnt (beschrieben mit der
<a href="FEN.html">Forsyth-Edwards-Notation</a>):
</p>

<div class='example'><pre>
rnb1k1nr/pppp1ppp/8/4p3/3PP2q/2N5/PP3PPP/R1BQKBNR w KQkq - 1 5 +0+2
</pre></div>

<p>
Diese Position würde gefiltert werden (das Schlüsselwort <span style='white-space:nowrap;'>:not</span> ist zu
beachten), denn Schwarz hat dem weißen König bereits zweimal Schach geboten.
Mit anderen Worten: diese Abfrage sucht nach Partien die mit einer
fortgeschrittenen Stellung beginnen, wobei eine Seite der anderen bereits ein
Schachgebot gab. Kombiniert mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a> finden wir alle
Partien auf, die mit einer Startstellung beginnen, in denen eine der Seiten
bereits Schachgebote erhalten hat:
</p>

<div class='box'><pre><code><!--
-->(position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:initial">:initial</span></a>
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a> (position <span style='white-space:nowrap;'><span class='keyword'>:checkcount</span></span> 0 : 0))<!--
--></code></pre></div>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:ischeck">:ischeck</span></a>.
</p>

<h3 id="position:matchcount">:matchcount&emsp;<span class='normal'>(Übereinstimmungszähler)</span></h3>

<p>
Filtert nur dann wenn die Anzahl der Positionen in der Partie, die von dieser
Positionsliste gefunden werden, innerhalb der gegebenen
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a> liegt.
</p>

<p>
Beispiel:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> [<span class='piece'>&#x2655;</span><span class='piece'>&#x265b;</span>] <span style='white-space:nowrap;'><span class='keyword'>:matchcount</span></span> &gt;=4)
</code></div>

<p>
Filtert jede Partie in der mindestens vier Damen geschlagen wurden.
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><span class='keyword'>:matchcount</span></span> &gt;=4
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> Q
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> ?[a1,a8,h1,h8])<!--
--></code></pre></div>

<p>
Filtert jede Partie, in denen eine weiße und eine schwarze Dame zusammen mindestens viermal
auf ein Eckfeld zog. Wird nach Partien gesucht, in denen jeweils die weiße und schwarze Dame
mindestend vier mal auf ein Eckfeld zog, dann wird stattdessen folgender Ausdruck verwendet:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pretransformmatchcount">:pretransformmatchcount</span></a> &gt;=4
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:movefrom">:movefrom</span></a> Q
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> ?[a1,a8,h1,h8])<!--
--></code></pre></div>

<p>
Siehe dazu <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pretransformmatchcount">:pretransformmatchcount</span></a>.
</p>

<h3 id="position:pretransformmatchcount">:pretransformmatchcount&emsp;<span class='normal'>(Prä-Transformation-Übereinstimmungszähler)</span></h3>

<p>
Dieses Schlüsselwort hat die gleiche Syntax wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a>.
Zur Beschreibung dieses Schlüsselwortes nehmen wir folgende allgemeine Form
einer Positionsliste an:
</p>

<div class='box'><pre><code><!--
-->(position
  T<sub>1</sub> T<sub>2</sub> ... T<sub>k</sub>
  X<sub>1</sub> X<sub>2</sub> ... X<sub>n</sub>
  <span style='white-space:nowrap;'><span class='keyword'>:pretransformmatchcount</span></span> n<sub>1</sub> n<sub>2</sub>)<!--
--></code></pre></div>

<p>
Alle <span style='white-space:nowrap;'><code>T<sub>i</sub></code></span> sind die transformierenden Schlüsselwörter,
und alle anderen Elemente (nur keine Transformationsschlüsselwörter) sind mit
<span style='white-space:nowrap;'><code>X<sub>i</sub></code></span> bezeichnet. <span style='white-space:nowrap;'><code>n<sub>1</sub></code></span>
<span style='white-space:nowrap;'><code>n<sub>2</sub></code></span> ist die Bereichsangabe. Wir nehmen nun an, daß
<span style='white-space:nowrap;'><code>Y<sub>i,j</sub></code></span> ein Element bezeichnet das aus
<span style='white-space:nowrap;'><code>X<sub>i</sub></code></span> in einem der Transformationsschritte j ensteht
(möglicherweise identisch zu <span style='white-space:nowrap;'><code>X<sub>i</sub></code></span>, weil es
transformationsinvariant ist). <span style='white-space:nowrap;'><code>m</code></span> soll die Anzahl aller
Transformationsschritte bezeichnen. Nun bilden wir einen neuen Ausdruck:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:or">:or</span></a> (
    (position Y<sub>1,1</sub> Y<sub>2,1</sub> ... Y<sub>n,1</sub> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> n<sub>1</sub> n<sub>2</sub>)
    (position Y<sub>1,2</sub> Y<sub>2,2</sub> ... Y<sub>n,2</sub> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> n<sub>1</sub> n<sub>2</sub>)
    ...
    (position Y<sub>1,m</sub> Y<sub>2,m</sub> ... Y<sub>n,m</sub> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> n<sub>1</sub> n<sub>2</sub>)))<!--
--></code></pre></div>

<p>
Die Positionsliste mit <span style='white-space:nowrap;'>:pretransformmatchcount</span> filtert genau
diejenigen Positionen, die von der neugeformten Positionsliste gefiltert
werden. Mit anderen Worten: die Zählung erfolgt für jeden
Transformationsschritt einzeln.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>d4
  <span style='white-space:nowrap;'><span class='keyword'>:pretransformmatchcount</span></span> &gt;=12
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>)<!--
--></code></pre></div>

<p>
Dies würde jede Partie finden in der mindestens 12 Figuren auf dem gleichen
Feld geschlagen wurden. Ersetzen wir <span style='white-space:nowrap;'>:pretransformmatchcount</span>
durch <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a>, dann würde diese Positionsliste Partien
auffinden in denen mindestens 12 Figuren irgendwo auf dem Schachbrett geschlagen
wurden.
</p>

<h3 id="position:pretransformrepetitioncount">:pretransformrepetitioncount&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Prä-Transformation-Wiederholungszähler)</span></h3>

<p>
Dieses Schlüsselwort hat die gleiche Syntax wie <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:repetitioncount">:repetitioncount</span></a>,
und ist so zu verstehen wie das ähnliche Schlüsselwort
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:pretransformmatchcount">:pretransformmatchcount</span></a>, nur daß <span style='white-space:nowrap;'>:repetitioncount</span>
aufeinanderfolgende Positionsmerkmale zählt.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span>d4
  <span style='white-space:nowrap;'><span class='keyword'>:pretransformrepetitioncount</span></span> &gt;=6
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:shift">:shift</span></a>)<!--
--></code></pre></div>

<p>
Dies würde jede Partie finden in der mindestens sechs Figuren aufeinanderfolgend
auf dem gleichen Feld geschlagen wurden.
</p>

<h3 id="position:repetitioncount">:repetitioncount&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Wiederholungszähler)</span></h3>

<p>
Filtert eine Position, wenn sich die Positionsmerkmale aufeinanderfolgend wiederholen,
wobei die Anzahl der Wiederholungen durch eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a> spezifiziert wird.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> <span style='white-space:nowrap;'><span class='keyword'>:repetitioncount</span></span> &gt;=10)
</code></div>

<p>
Filtert jede Position, in der aufeinanderfolgend mindestens zehn Figuren geschlagen werden.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> <span style='white-space:nowrap;'><span class='keyword'>:repetitioncount</span></span> 0)
</code></div>

<p>
Filtert jede Partie, in der niemals eine Figur geschlagen wird. Dies ist äquivalent zu:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveto">:moveto</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> 0)
</code></div>

<!-- ############################################################################## -->
<h2 id="evaluation">Schlüsselwörter für die Stellungs- und Zugbeurteilung</h2>
<!-- ############################################################################## -->

<p>
Die folgenden Schlüsselwörter analysieren Positionen.
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:evaluation">:evaluation</span></a> und <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:moveevaluation">:moveevaluation</span></a> sollten
mit Vorsicht verwendet werden, es sind sehr, sehr langsame Operationen. In einigen
Fällen mögen die Schlüsselwörter <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exchangeevaluation">:exchangeevaluation</span></a> und
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:maxswapevaluation">:maxswapevaluation</span></a> eine Alternative sein, diese Operationen
sind viel schneller, aber auch noch recht zeitverbrauchend.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:endgameevaluation">:endgameevaluation</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:endgameevaluation_">:endgameevaluation*</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:evaluation">:evaluation</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:exchangeevaluation">:exchangeevaluation</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:maxswapevaluation">:maxswapevaluation</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:moveevaluation">:moveevaluation</a></td></tr>
</table>

<h3 id="position:endgameevaluation">:endgameevaluation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Endspielbewertung)</span></h3>

<p>
Dieses Schlüsselwort bewertet die aktuelle Endspielposition mit Hilfe von
Endspieltabellen (Tablebases). Dieses Schlüsselwort kann nur dann erfüllt
werden, wenn die entsprechenden Endspieltabellen lokal vorliegen (es erfolgt
keine Online-Abfrage).
</p>

<p>
Als erstes Argument wird spezifiziert, welches Ergebnis laut Endspieltabellen
bei bestem Spiel erzielt wird:
</p>

<div class='box'>
  <table>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>remis</code></span></td><td class="r">Das Endspiel ist remis.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>mate</code></span></td><td class="r">Die Seite am Zug kann gewinnen.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>*mate</code></span></td><td class="r">Einer der Parteien kann gewinnen.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>+mate</code></span></td><td class="r">Weiß kann gewinnen.</td>
    </tr>
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>-mate</code></span></td><td class="r">Schwarz kann gewinnen.</td>
    </tr>
  </table>
</div>

<p>
Das optionale zweite Argument gibt an, wieviele Halbzüge minimal und maximal
bei beidseitig bestem Spiel erforderlich sind, um Matt zu setzen.
</p>

<p>
Beispiele:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 6
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2659;</span> 2
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265f;</span> 2
  <span style='white-space:nowrap;'><span class='keyword'>:endgameevaluation</span></span> *mate)<!--
--></code></pre></div>

<p>
Filtert alle Positionen mit einem Endspiel <span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>+<span class='piece'>&#x2659;</span>+<span class='piece'>&#x2659;</span></code></span> gegen
<span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>+<span class='piece'>&#x2659;</span>+<span class='piece'>&#x2659;</span></code></span>, in dem einer der Parteien laut Endspieltabelle gewinnen kann.
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 6
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2659;</span> 2
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265f;</span> 2
  <span style='white-space:nowrap;'><span class='keyword'>:endgameevaluation</span></span> mate &gt;=40)<!--
--></code></pre></div>

<p>
Filtert alle Positionen mit einem Endspiel <span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>+<span class='piece'>&#x2659;</span>+<span class='piece'>&#x2659;</span></code></span> gegen
<span style='white-space:nowrap;'><code><span class='piece'>&#x2654;</span>+<span class='piece'>&#x2659;</span>+<span class='piece'>&#x2659;</span></code></span>, in dem die Seite am Zug laut Endspieltabelle gewinnen
kann, aber dafür bei beidseitig bestem Spiel mindestens 40 Halbzüge zum Matt
benötigt.
</p>

<h3 id="position:endgameevaluation_">:endgameevaluation*&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Endspielbewertung)</span></h3>

<p>
Diese Version von <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:endgameevaluation">:endgameevaluation</span></a> untersucht nur die Positionen,
in denen die spezifizierte Figurenkonstellation zum ersten Mal in der Partie erfüllt wird.
Somit ist diese Version unter Umständen erheblich schneller in der Suche.
</p>

<p>
TODO: wird nicht benötigt, denn dies kann mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:">::cut</span></a> realisiert werden:
</p>

<div class='box'><pre><code><!--
-->(position
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> 6
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x2659;</span> 2
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:piececount">:piececount</span></a> <span class='piece'>&#x265f;</span> 2
  <span style='white-space:nowrap;'><span class='keyword'>:endgameevaluation</span></span> mate &gt;=40
  <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>)<!--
--></code></pre></div>

<h3 id="position:evaluation">:evaluation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Bewertung)</span></h3>

<div class='annotation'><img src='../images/annotation.png' style='float:left; margin:0 1em 0 0' alt='annotation' />
Diese ist eine sehr langsame Operation und sollte eingeschränkt verwendet werden.
</div>

<p>
Dieses Schlüsselwort bewertet die aktuelle Position mit Hilfe eines externen
Schachprogramms. Die ersten beide Parameter bestimmen den Berechnungsmodus:
</p>

<ul style='list-style-type: none'><li>
  <table>
    <!-- UCI:  "go depth <x>" -->
    <!-- WB:   "sd <x>"       -->
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>depth &lt;d&gt;</code></span></td>
      <td class="r">suche nur &lt;d&gt; Halbzüge tief</td>
    </tr>

    <!-- UCI:  "go movetime <x>" -->
    <!-- WB:   "time <x/10>"     -->
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>movetime &lt;ms&gt;</code></span></td>
      <td class="r">suche exakt &lt;ms&gt; Millisekunden pro Zug</td>
    </tr>
  </table>
</li></ul>

<p>
Jetzt kann entweder eine Mattsuche oder eine Stellungsbewertungssuche
spezifiziert werden.
</p>

<p>
Eine Mattsuche erwartet einen weiteren Parameter: nämlich das Wort <i>mate</i>
(für Matt). Die Abfrage ist erfolgreich, wenn ein Matt aufgefunden wurde.
</p>

<p>
Die Stellungsbewertungssuche erfordert zwei weitere Parameter.
Der erste davon ist eine <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>,
nur das hier Bauerneinheiten verwendet werden.  Die Abfrage ist erfolgreich,
wenn die Bewertung der Position innerhalb der gegebenen Grenzen
liegt.  Der zweite Parameter ist entweder <i>sidetomove</i> (Zugrecht)
oder <i>absolute</i> (absolut). <i>sidetomove</i> bedeutet, daß die
Bewertungswerte vom Zugrecht abhängig sind, und mit <i>absolute</i> sind die
Bewertungswerte unabhängig davon.
</p>

<p><img src='../images/note.png' alt='note' /> 
Beachte daß im Modus <i>movetime</i> die Angabe der Millisekunden auf
Centisekunden aufgerundet wird, wenn das verwendete Schachprogramm auf das
Protokoll <span style='white-space:nowrap;'>WinBoard</span>/<span style='white-space:nowrap;'>XBoard</span> eingeschränkt ist.
Steht dem Schachprogramm das UCI-Protokoll zur Verfügung, so wird die exakte
Millisekundenangabe verwendet.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:evaluation</span></span> depth 4 &gt;=2.5 sidetomove
</code></div>

<p>
Die Seite mit dem Zugrecht hat (wahrscheinlich) eine Gewinnstellung, denn sie
ist mit mindestens 2,5 Bauerneinheiten im Vorteil.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:evaluation</span></span> depth 4 &lt;=&#x2212;2.5 sidetomove
</code></div>

<p>
Die Seite mit dem Zugrecht hat (wahrscheinlich) eine Verluststellung, denn sie
ist mit mindestens 2,5 Bauerneinheiten im Nachteil.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:evaluation</span></span> movetime 3000 &lt;=&#x2212;3.0 absolute
</code></div>

<p>
Schwarz ist (wahrscheinlich) verloren, denn er ist mindestens 3,0
Bauerneinheiten im Nachteil.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:evaluation</span></span> depth 6 mate
</code></div>

<p>
Eine der Seiten kann in spätestens 3 Zügen (6 Halbzüge) mattgesetzt werden.
</p>

<h3 id="position:exchangeevaluation">:exchangeevaluation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Figurentauschbewertung)</span></h3>

<p>
Dieses Schlüsselwort analysiert Schlagzüge, um zu sehen ob sie profitabel
erscheinen.
</p>

<p>
Diese Funktion erfordert zwei bis drei Parameter. Der erste davon bezeichnet die maximale
Halbzugtiefe, die durchgerechnet wird.  Mit "*" wird eine unbegrenzte Halbzugtiefe spezifiziert.
Der zweite Parameter erwartet eine <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>,
nur das hier Bauerneinheiten verwendet werden. Der optionale dritte Parameter ist ein
Figurenbezeichner, es werden nur Schlagzüge berechnet, deren Zielfeld (das Feld, auf dem
die Figur gechlagen wird) mit diesem Figurenbezeichner spezifiziert ist.

Das Schlüsselwort filtert den aktuellen Zug, wenn der Wert innerhalb der
angegeben Grenzen der <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>
liegt, hier werden jedoch Bauerneinheiten verwendet. Nur Schlagzüge werden
bewertet. Die Bewertungsfunktion bezieht mit ein, daß Figuren gefesselt sein
können, oder daß sie von anderen Figuren gedeckt werden. Der Wert dieser
Funktion hängt nicht vom Zugrecht ab.
</p>

<p>
Bezüglich der Figurenwerte siehe <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:power">:power</span></a>.
</p>

<p>
Beachte daß diese Funktion keine Stellungsbewertung vornimmt, stattdessen
wird nur der Schlagabtausch abgeschätzt.
</p>

<p>
Beispiel:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:exchangeevaluation</span></span> * &lt;=&#x2212;2
</code></div>

<p>
Dieser Schlagzug ist (wahrscheinlich) ein Patzer.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:exchangeevaluation</span></span> 1 &gt;&#x2212;0 Q
</code></div>

<p>
Die weiße Dame kann geschlagen werden.
</p>

<h3 id="position:maxswapevaluation">:maxswapevaluation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Maximum einer Schlagabtauschbewertung)</span></h3>

<p>
Dieses Schlüsselwort erlaubt die Abschätzung von Zügen. Es erwartet
als Argument zwei Figurenbezeichner, gefolgt von einer
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a>.
Das erste Argument spezifiziert die erlaubten Figuren und Felder des nächsten
Zuges, das zweite Argument spezifiziert die Zielfelder. Für jeden erlaubten
Zug wird ein Wert berechnet, der den materiellen Vorteil bzw. Verlust dieses
Zuges berechnet (in Bauerneinheiten), aufgrund möglicher Schlagabtäusche auf
dem Zielfeld. Abschliessend wird das Maximum alle berechneten Werte ausgewählt.
</p>

<p>
Das Schlüsselwort filtert eine Position wenn der berechnete Wert innerhalb der
gegebenen <a href="CQL-Range-Specifiers.html">Bereichsangabe</a> liegt, wobei
der Bereich in Bauerneinheiten spezifiziert wird. Die Bewertungsfunktion
bezieht mit ein, das Figuren gefesselt sein können, oder von anderen Figuren
gedeckt werden. Der Wert dieser Funktion hängt nicht vom Zugrecht ab.
</p>

<p>
Bezüglich der Figurenwerte siehe <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:power">:power</span></a>.
</p>

<p>
Beachte daß diese Funktion keine Stellungsbewertung vornimmt, stattdessen
wird nur der Schlagabtausch abgeschätzt.
</p>

<p><img src='../images/note.png' alt='note' /> 
Dieses Schlüsselwort ist ähnlich dem Schlüsselwort <span style='white-space:nowrap;'>:maxswapvalue</span>
von Chess Assistant 9 (&#x21d2;
<a href="http://hornid.com/chess/docs/CQL-3GX.pdf" target="blank_">The CQL 3.GX Extension&nbsp;<span class="awesome">&#xf08e;</span></a>),
aber auf sehr verschiedene Weise implementiert.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:maxswapevaluation</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> &gt;0)
</code></div>

<p>
Diese Abfrage filtert Positionen, in denen Weiß mit Materialgewinn droht.
</p>

<div class='verb'><code>
(position <span style='white-space:nowrap;'><span class='keyword'>:maxswapevaluation</span></span> <span class='piece'>&#x2655;</span>?1-7 ??8 &gt;=0)
</code></div>

<p>
Diese Abfrage filtert Positionen, in denen eine weiße Dame die achte Reihe
erobern kann ohne materiellen Verlust.
</p>

<h3 id="position:moveevaluation">:moveevaluation&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Zugbewertung)</span></h3>

<div class='annotation'><img src='../images/annotation.png' style='float:left; margin:0 1em 0 0' alt='annotation' />
Diese ist eine sehr langsame Operation und sollte eingeschränkt verwendet werden.
</div>

<p>
Dieses Schlüsselwort vergleicht die Differenz einer Stellungsbewertung der
aktuellen Position mit der nächsten Position. Die Bewertung wird mit
Einsatz eines externen Schachprogramm durchgeführt. Es werden sieben
Parameter erwartet. Die ersten beiden Parameter sind Figurenbezeichner. Der
erste davon spezifiziert die erlaubten Figuren und Felder des nächsten Zuges,
der zweite spezifiziert die Zielfelder. Der dritte und vierte Parameter
spezifizieren den Berechnungsmodus:
</p>

<ul style='list-style-type: none'><li>
  <table>
    <!-- UCI:  "go depth <x>" -->
    <!-- WB:   "st <x>"       -->
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>depth &lt;d&gt;</code></span></td>
      <td class="r">suche nur &lt;d&gt; Halbzüge tief</td>
    </tr>

    <!-- UCI:  "go movetime <x>" -->
    <!-- WB:   "time <x/10>"     -->
    <tr>
      <td class="l"><span style='white-space:nowrap;'><code>movetime &lt;ms&gt;</code></span></td>
      <td class="r">suche exakt &lt;ms&gt; Millisekunden pro Zug</td>
    </tr>
  </table>
</li></ul>

<p>
Der fünfte Parameter ist die <a href="CQL-Range-Specifiers.html">Bereichsangabe</a>
in Bauerneinheiten. Die Abfrage ist erfolgreich, wenn die Bewertung der Position
innerhalb der gegebenen Grenzen liegt. Der Wert des letzten Zuges ist die Differenz
zwischen der Bewertung der aktuellen Position und der Bewertung der vorangegangenen
Position. Im Falle von Mattpositionen ist die Differenz immer größer als 10.000.
</p>

<p>
Der sechste Parameter ist entweder <i>sidetomove</i> (Zugrecht) oder
<i>absolute</i> (absolut). <i>sidetomove</i> bedeutet, daß die Bewertungswerte
vom Zugrecht abhängig sind, und mit <i>absolute</i> sind die Bewertungswerte
unabhängig davon.
</p>

<p><img src='../images/note.png' alt='note' /> 
Beachte daß im Modus <i>movetime</i> die Angabe der Millisekunden auf
Centisekunden aufgerundet wird, wenn das verwendete Schachprogramm auf das
Protokoll <span style='white-space:nowrap;'>WinBoard</span>/<span style='white-space:nowrap;'>XBoard</span> eingeschränkt ist.
Steht dem Schachprogramm das UCI-Protokoll zur Verfügung, so wird die exakte
Millisekundenangabe verwendet.
</p>

<p>
Beispiele:
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:moveevaluation</span></span> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> ? depth 4 &gt;=3.0 sidetomove
</code></div>

<p>
Filtere die erste Position mit einer Bewertungsdifferenz von mindestens 3,0
Bauerneinheiten. Dies heißt. das der letzte Zug (wahrscheinlich) ein Patzer
war.
</p>

<div class='verb'><code>
<span style='white-space:nowrap;'><span class='keyword'>:moveevaluation</span></span> <span class='cql' title='Beliebige weiße Figur'>&#x25cb;</span> <span class='cql' title='Beliebige schwarze Figur'>&#x25cf;</span> depth 4 &lt;=&#x2212;3.0 absolute
</code></div>

<p>
Filtere die erste Position, in der die Bewertungsdifferenz mindestens 3,0
Bauerneinheiten als Vorteil für Schwarz beträgt. Dies bedeutet, daß der letzte
weiße Zug (wahrscheinlich) ein Patzer war. Nur Schlagzüge werden bewertet.
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><span class='keyword'>:moveevaluation</span></span> [<span class='piece'>&#x2659;</span><span class='piece'>&#x265f;</span>] ?[?1,?8]
             &lt;=0.0 movetime 5000 absolute)
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:promotion">:promotion</span></a> <span class='cql' title='Irgendeine Figur'>&#x25d1;</span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>))<!--
--></code></pre></div>

<p>
Suche nach Positionen, in denen sie Seite mit dem Zugrecht die erste
Bauernverwandlung in dieser Partie ausführt, aber keinen bessere
Stellungsbewertung dadurch erzielt. Wir stellten sicher, daß nur
Bauernumwandlungszüge bewertet werden.
</p>

<p>
Siehe auch:
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:endgameevaluation">:endgameevaluation</span></a>,
</p>


<!-- ############################################################################## -->
<h2 id="accumulator">Schlüsselwörter für Akkumulationen</h2>
<!-- ############################################################################## -->

<p>
Es gibg hauptsächlich zwei Akkumulatorschlüsselwörter, <span style='white-space:nowrap;'>:accumulate</span>
und <span style='white-space:nowrap;'>:sumrange</span>. Diese werden verwendet um die Anzahl der
Transformationen einer Positionsliste zu zählen, die die aktuelle Position
filtern. Jedesmal wenn eine transformierte Positionsliste eine Position
filtert, wird der assoziierte Akkumulator inkrementiert. Jede Positionsliste
kann dann mit <span style='white-space:nowrap;'>:sumrange</span> testen, ob der akkumulierte Wert innerhalb
eines gewissen Bereichs liegt.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:accumulate">:accumulate</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:accumulate_">:accumulate*</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:sumrange">:sumrange</a></td></tr>
</table>

<h3 id="position:accumulate">:accumulate&emsp;<span class='normal'>(Akkumulieren)</span></h3>

<p>
Dies erwartet als Argument den Namen des Akkumulators. Jedesmal
wenn die Anwendung eines Elements auf die Menge der transformierten
Positionslisten eine Position filtert, wird der mit diesem Namen assoziierte
Akkumulator inkrementiert. Der Akkumulator wird wieder auf Null gesetzt,
sobald eine neue Position untersucht wird (nach einem Zug). Als Folge davon
sollte <span style='white-space:nowrap;'>:accumulate</span> nicht innerhalb von folgenden Schlüsselwörtern
verwendet werden: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:not">:not</span></a>, <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:sequence">:sequence</span></a>,
und <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:gappedsequence">:gappedsequence</span></a>. Zu beachten ist daß
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> in den meisten Fällen unerwartete Ergebnisse
hervorruft, wenn es zusammen mit <span style='white-space:nowrap;'>:accumulate</span> verwendet wird,
denn der Akkumulator wird nicht auf Null zurückgesetzt zwischen den
Farbwechseln.
</p>

<p>
Für Beispiele siehe:
<a href="CQL-Examples.html#accumulator">Benutzung von Akkumulatoren zur Zählung von Freibauern</a>.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:accumulate_">:accumulate*</span></a>.
</p>

<h3 id="position:accumulate_">:accumulate*&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Akkumulieren)</span></h3>

<p>
Um auch <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> verwenden zu können
bietet <span style='white-space:nowrap;'>CQL-S</span> eine Erweiterung, indem <span style='white-space:nowrap;'><code>accumulate*</code></span>
verwendet wird, hier wird für jede Farbe einzeln gezählt, dies macht eine
getrennte Zählung möglich.
</p>

<p>
Für ein Beispiel siehe: <a href="CQL-Examples.html#accumulator#passed-pawn"
>Benutzung von Akkumulatoren zur Zählung von Freibauern</a>.
</p>

<p>
Siehe auch: <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:accumulate">:accumulate</span></a>.
</p>


<h3 id="position:sumrange">:sumrange&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Ergebnisbereich)</span></h3>

<p>
Dies erwartet als Argument den Namen eines Akkumulator und eine
<a href="CQL-Range-Specifiers.html">Bereichsangabe</a>. Es filtert eine
Position, wenn der Wert des bezeichneten Akkumulators innerhalb des gegebenen
Bereichs liegt. Wenn <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:accumulate_">:accumulate*</span></a> verwendet wird, dann unterscheidet
<span style='white-space:nowrap;'>:sumrange</span> automatisch zwischen den Farben.
</p>

<p>
Für Beispiele siehe:
<a href="CQL-Examples.html#accumulator">Benutzung von Akkumulatoren zur Zählung von Freibauern</a>.
</p>

<!-- ############################################################################## -->
<h2 id="tagging">Schlüsselwörter für das Markieren</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:tagmatch">:tagmatch</a></td></tr>
</table>

<h3 id="position:tagmatch">:tagmatch&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Markierungsvergleich)</span></h3>

<p>
Das Schlüsselwort <span style='white-space:nowrap;'>:tagmatch</span> erwartet zwei Argumente, den Namen einer
Markierung und einen Figurenbezeichner. Es filtert nur dann wenn die an die
Markierung gebundene Figur vom zweiten Argument bezeichnet wird. Für weitere
Informationen siehe Abschnitt <a href="CQL-Tagging.html">Markierung</a>.
</p>

<!-- ############################################################################## -->
<h2 id="control">Schlüsselwörter für die Steuerung</h2>
<!-- ############################################################################## -->

<p>
Die folgenden steuernden Schlüsselwörter beeinflussen den Ablauf der Suche
bzw. das Suchergebnis.
</p>

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#position:cut">:cut</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:exclude">:exclude</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#position:skip">:skip</a></td></tr>
</table>

<h3 id="position:cut">:cut&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Beschneiden)</span></h3>

<p>
Dieses Schlüsselwort kann in zwei Formen angewandt werden: entweder ist es
parameterlos, oder es hat eine Positionsliste als Parameter.
In der ersten Form wird die Positionssuche in der aktuellen Haupt-/Untervariante
abgebrochen sobald die Bedingung der Positionsliste aufgefunden wird. In
der zweiten Form bricht die Suche in der aktuellen Haupt-/Untervariante
ab sobald die Bedingung des Arguments aufgefunden wird. Dieses
Schlüsselwort ist immer erfolgreich, mit anderen Worten: es beeinflußt
nicht das Resultat der anderen Filter.
</p>

<p>
Der <span style='white-space:nowrap;'>:cut</span>-Filter hat niedrigere Priorität als alle anderen Filter.
Das heißt, daß eine Position gefiltert wird, wenn alle anderen Filter diese
Position akzeptieren, unabhängig vom Resultat des <span style='white-space:nowrap;'>:cut</span>-Filters.
Soll die Suche aber immer mit einem negativen Resultat abschliessen, wenn
die <span style='white-space:nowrap;'>:cut</span>-Bedingung zutrifft, dann wird stattdessen das Schlüsselwort
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a> verwendet.
</p>

<p><img src='../images/note.png' alt='note' /> 
<span style='white-space:nowrap;'>:cut</span> hat eine niedrigere Priorität als <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a>.
</p>

<p>
Beispiele für <span style='white-space:nowrap;'>:cut</span>:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>)
  (position <span style='white-space:nowrap;'><span class='keyword'>:cut</span></span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a>))<!--
--></code></pre></div>

<p>
Suche nach Partien die mit einem Matt enden, und keine der beiden Seiten hat
jemals zuvor Schach geboten. Hier kann <span style='white-space:nowrap;'>:cut</span> nicht durch
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:exclude">:exclude</span></a> ersetzt werden, denn ein Mattgebot enthält
immer auch ein Schachgebot, und dies würde auch die Partie ausschliessen.
</p>

<p>
Tatsächlich wäre das Schlüsselwort <span style='white-space:nowrap;'>:cut</span> für das obige
Suchkriterium nicht erforderlich, wie folgende Umformung zeigt:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>)
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:check">:check</span></a> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:matchcount">:matchcount</span></a> 1))<!--
--></code></pre></div>

<p>
Aber diese Version durchsucht evt. die gesamte Partie, und die vorhergehende Version
mit <span style='white-space:nowrap;'>:cut</span> schlägt bereits fehl sobald das erste Schachgebot erfolgt.
In vielen Fällen kann der Gebrauch des Schlüsselwortes <span style='white-space:nowrap;'>:cut</span> viel
effizienter sein als der Gebrauch von <span style='white-space:nowrap;'><code>":matchcount</code></span> <span style='white-space:nowrap;'><code>1"</code></span>.
</p>

<p>
Diese Suche nach dem ersten Schachgebot in der Partie, das zugleich auch Matt
bietet, kann auch mit <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:checkcount">:checkcount</span></a> formuliert werden:
</p>

<div class='box'><pre><code><!--
-->(match
  (position
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:checkcount">:checkcount</span></a> 1 : 0
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mate">:mate</span></a>
    <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a>))<!--
--></code></pre></div>

<p>
Jedoch ist auch hier die Version mit <span style='white-space:nowrap;'>:cut</span> viel effizienter, denn auch
hier wird nicht nach dem ersten Schachgebot die Suche abgebrochen, d.h. es wird
unter Umständen die gesamte Partie durchsucht.
</p>

<h3 id="position:exclude">:exclude&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Ausschliessen)</span></h3>

<p>
Dieses Schlüsselwort kann in zwei Formen angewandt werden: entweder ist es
parameterlos, oder es hat eine Positionsliste als Parameter.
In der ersten Form wird die aktuelle Variante ausgeschlossen wenn eine Position
von der Positionsliste gefiltert wird. In der zweiten Form wird die aktuelle
Variante ausgeschlossen, wenn das Resultat des Arguments positiv ist. Diese
Schlüsselwort beeinflußt nicht das Resultat der anderen Filter.
</p>

<p>
Dieses Schlüsselwort schließt selbst dann Varianten aus, wenn eine Position
gefiltert wurde bevor die <span style='white-space:nowrap;'>:exclude</span>-Bedingungen erfüllt wurden. Kurz
gesagt: <span style='white-space:nowrap;'>:exclude</span> schließt unter gewissen Bedingungen Partien
vollständig aus der Suche aus (wenn die Hauptvariante ausgeschlossen wurde).
</p>

<p><img src='../images/note.png' alt='note' /> 
<span style='white-space:nowrap;'>:exclude</span> hat eine höhere Priorität als <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>.
</p>

<p>
Beispiel:
</p>

<div class='box'><pre><code><!--
-->(match
  (position &lt;A&gt;)
  (position <span style='white-space:nowrap;'><span class='keyword'>:exclude</span></span> &lt;B&gt;))<!--
--></code></pre></div>

<p>
Suche nach Partien die eine Position enthalten, die Bedingung
<span style='white-space:nowrap;'><code>&lt;A&gt;</code></span> erfüllen, aber nicht wenn es in dieser Partie
eine Position gibt, die die Bedingung <span style='white-space:nowrap;'><code>&lt;B&gt;</code></span> erfüllt.
</p>

<p>
Soll <span style='white-space:nowrap;'>:exclude</span> nicht mehr wirken, nachdem &lt;A&gt; erfüllt ist,
dann kann folgender Ausdruck verwendet werden:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a> &lt;A&gt;)
  (position <span style='white-space:nowrap;'><span class='keyword'>:exclude</span></span> &lt;B&gt;))<!--
--></code></pre></div>

<p>
Aber hier wirkt <span style='white-space:nowrap;'>:exclude</span>, wenn &lt;A&gt; und &lt;B&gt;
zugleich erfüllt werden. Soll <span style='white-space:nowrap;'>:exclude</span> aber nur wirken,
solange &lt;A&gt; nicht erfüllt ist, so geschieht dies folgendermaßen:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cond">:cond</span></a> (
    (position &lt;A&gt;) (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:cut">:cut</span></a>)
    (position <span style='white-space:nowrap;'><span class='keyword'>:exclude</span></span> &lt;B&gt;)))<!--
--></code></pre></div>

<p>
Zur Erinnerung: die Auswertungsreihenfolge in von links nach rechts.
</p>

<p>
Und soll <span style='white-space:nowrap;'>:exclude</span> nur dann wirken, nachdem &lt;A&gt; erfüllt
wurde, so geschieht dies mit:
</p>

<div class='box'><pre><code><!--
-->(match
  (position <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:gappedsequence">:gappedsequence</span></a> (
    (position &lt;A&gt;)
    (position <span style='white-space:nowrap;'><span class='keyword'>:exclude</span></span> &lt;B&gt;)))<!--
--></code></pre></div>

<h3 id="position:skip">:skip&ensp;<img src="../images/ft-scidb-tiny.png" alt="" />&emsp;<span class='normal'>(Überspringen)</span></h3>

<p>
Mit Hilfe dieses Schlüsselwortes kann eine gefundene Stellung übersprungen werden.
Dies kann auch ohne die Verwendung dieses Schlüsselwortes formuliert werden, jedoch
ist die Formulierung der Positionsliste mit Hilfe dieses Schlüsselwortes manchmal
unkomplizierter, und dies resultiert oft in eine schnellere Suche.
</p>

<!-- ############################################################################## -->
<h2 id="meaningless">Bedeutungslose Schlüsselwörter</h2>
<!-- ############################################################################## -->

<table style="white-space:nowrap">
  <tr><td>&#x2022;</td><td><a href="#match:markall">:markall</a></td></tr>
  <tr><td>&#x2022;</td><td><a href="#match:noannotate">:noannotate</a></td></tr>
</table>

<h3 id="position:markall">:markall&emsp;<span class='normal'>(Alles markieren)</span></h3>

<p>
Dieses Schlüsselwort wird unterstützt um kompatibel mit dem CQL-Standard
zu sein, es hat jedoch keinerlei Bedeutung in <span style='white-space:nowrap;'>CQL-S</span>.
</p>

<h3 id="position:noannotate">:noannotate&emsp;<span class='normal'>(Nicht kommentieren)</span></h3>

<p>
Dieses Schlüsselwort wird unterstützt um kompatibel mit dem CQL-Standard
zu sein, es hat jedoch keinerlei Bedeutung in <span style='white-space:nowrap;'>CQL-S</span>.
</p>

</body>
</html>
