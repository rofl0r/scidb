<!-- **********************************************************************
* Author : $Author$
* Version: $Revision: 161 $
* Date   : $Date: 2011-12-17 12:31:23 +0100 (Sat, 17 Dec 2011) $
* Url    : $URL$
*********************************************************************** -->

<!-- **********************************************************************
* Copyright: (C) 2013 Gregor Cramer
*********************************************************************** -->

<!-- **********************************************************************
* This program is free software; you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation; either version 2 of the License, or
* (at your option) any later version.
*********************************************************************** -->

INDEX Match List (CQL)
INDEX CQL Match List

DEFINE <extension/> &ensp;<img src="../images/ft-scidb-tiny.png" />

TITLE CQL - The match list

<p>
Any CQL script must have exactly one match list at top level. The match list
contains keyword parameters that control the matching of each game.
The match list contains zero or more position lists. (Note that the CQL
standard requires at least one position list.)  A game will be matched
only if all conditions in the match list are fullfilled. If positions lists
are given, each of which must match at least one position in the game in order
for the match list to match that game. Scidb allows an additional feature:
the match list may contain logical keywords (<cql>match:and</cql>,
<cql>match:or</cql>, <cql>match:not</cql>) with sub-matches.
</p>

<p>
Note that most examples on this page are not conform to the CQL standard,
you have to insert an empty position list <expr>(position)</expr> to build
a script which complies with the standard.
</p>

<p>
The symbol <img src="../images/ft-scidb-tiny.png" /> in the title of a
keyword description denotes that this keyword is an extension, it is not
part of the CQL standard.
</p>

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#index">Index</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#logical">Logical keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#event">Event search related keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#player">Player search related keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#header">Game header search related keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#data">Game data search related keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#tagging">Tagging related keywords</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#meaningless">Meaningless keywords</a></td></tr>
  </table>
</dir>

<h2 id="index">Index</h2>

<dir>
  <table>
    <tr><td>      &#x2022;</td><td><a href="#match:and">:and</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:annotator">:annotator</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:birthyear">:birthyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitebirthyear">:whitebirthyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackbirthyear">:blackbirthyear</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:comment">:comment</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:country">:country</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitecountry">:whitecountry</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackcountry">:blackcountry</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:date">:date</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:deathyear">:deathyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitedeathyear">:whitedeathyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackdeathyear">:blackdeathyear</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:eco">:eco</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:elo">:elo</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteelo">:whiteelo</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackelo">:blackelo</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:event">:event</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:eventcountry">:eventcountry</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:eventdate">:eventdate</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:eventmode">:eventmode</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:eventtype">:eventtype</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:forany">:forany</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:gamenumber">:gamenumber</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:gender">:gender</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitegender">:whitegender</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackgender">:blackgender</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:hasannotation">:hasannotation</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:hascomments">:hascomments</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:hasmarkers">:hasmarkers</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:hasspecialmarkers">:hasspecialmarkers</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:hasvariations">:hasvariations</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:ischess960">:ischess960</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:iscomputer">:iscomputer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteiscomputer">:whiteiscomputer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackiscomputer">:blackiscomputer</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:ishuman">:ishuman</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteishuman">:whiteishuman</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackishuman">:blackishuman</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:isshufflechess">:isshufflechess</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:not">:not</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:or">:or</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:output">:output</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:pgn">:pgn</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:player">:player</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteplayer">:whiteplayer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackplayer">:blackplayer</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:plycount">:plycount</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:rating">:rating</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiterating">:whiterating</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackrating">:blackrating</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:result">:result</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:site">:site</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:startposition">:startposition</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:termination">:termination</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:timemode">:timemode</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:title">:title</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitetitle">:whitetitle</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blacktitle">:blacktitle</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:variant">:variant</a></td></tr>
    <tr><td>      &#x2022;</td><td><a href="#match:year">:year</a></td></tr>
  </table>
</dir>

<!-- ############################################################################## -->
<h2 id="logical">Logical keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:and">:and</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:not">:not</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:or">:or</a></td></tr>
  </table>
</dir>

<h3 id="match:and">:and<extension/></h3>

<p>
Takes a list of sub-match lists and matches only if each of them match.
Note that a sub-match cannot contain position matches.
</p>

<p>
Example:
</p>

<verbatim>
(match
  <keyword>:and</keyword> (
    (match <cql>match:isshufflechess</cql>)
    (match <cql>match:ischess960</cql> <cql>match:not</cql>))))
</verbatim>

<p>
Search for Shuffle Chess games, not including Chess 960 positions. This example
is identical to the following:
</p>

<verbatim>
(match <cql>match:isshufflechess</cql> <cql>match:not</cql> (match <cql>match:ischess960</cql>))
</verbatim>

<p>
This keyword seems to be superfluous, but it may be useful inside
<cql>position:or</cql> or <cql>position:and</cql>.
</p>

<h3 id="match:not">:not<extension/></h3>

<p>
This keyword can be used in two forms: either it is included in a match list,
or it has a sub-match list as parameter. In former case match if the containing
match list would not match without the :not. In latter case: negate the result
of the sub-match list match. The former form is defined only to be conform
with CQL standard of keyword <cql>position:not</cql> of position match.
</p>

<p>
Example:
</p>

<verb>
(match <cql>match:isshufflechess</cql> <keyword>:not</keyword>)
</verb>

<p>
Search for games which do not start with a Shuffle Chess position. This
example may be written in the second form:
</p>

<verb>
(match <keyword>:not</keyword> (match <cql>match:isshufflechess</cql>))
</verb>

<h3 id="match:or">:or<extension/></h3>

<p>
Takes a list of sub-match lists and matches if at least one of them matches.
Note that a sub-match cannot contain position matches.
</p>

<p>
Example:
</p>

<verbatim>
(match
  <keyword>:or</keyword> (
    (match <cql>match:event</cql> "FIDE-Wch*"
    (match <cql>match:event</cql> "PCA-World Championchip*"))))
</verbatim>

<p>
Search for world championchip games.
</p>

<!-- ############################################################################## -->
<h2 id="event">Event search related keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:event">:event</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:eventcountry">:eventcountry</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:eventdate">:eventdate</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:eventmode">:eventmode</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:eventtype">:eventtype</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:site">:site</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:timemode">:timemode</a></td></tr>
  </table>
</dir>

<h3 id="match:event">:event<extension/></h3>

<p>
Search for games where the event matches given pattern.
</p>

<p>
This takes one parameter, either a double-quoted pattern, or a un-quoted string.
See <a href="#match:player">:player</a> for a detailed description.
</p>

<h3 id="match:eventcountry">:eventcountry<extension/></h3>

<p>
Match all games where the country of the event is matching one of the
countries in the given comma-separated list. Country is either an
<a href="http://en.wikipedia.org/wiki/List_of_IOC_country_codes">IOC country code</a>,
or an <a href="http://en.wikipedia.org/wiki/ISO_3166-2">ISO 3166-2 country code</a>.
Furthermore the special country codes <expr>UNK</expr> (IOC form),
and <expr>xx</expr> (ISO 3166-2 form) are matching games where the country
of the event is unknown.
The CQL editor provides a feature for the input of country codes.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:eventcountry</keyword> dk,fi,no,se
</verb>

<p>
Search for games played in Scandinavian events.
</p>

<verb>
<keyword>:eventcountry</keyword> xx
</verb>

<p>
Search for games where the country of the event is unknown.
</p>

<p>
See also: <cql>match:site</cql>.
</p>

<h3 id="match:eventdate">:eventdate<extension/></h3>

<p>
This takes a range specifier denoting the range of dates
that the event of the game must match.
</p>

<p>
For a detailed description of the date range see
<cql>match:date</cql>.
</p>

<h3 id="match:eventmode">:eventmode<extension/></h3>

<p>
Match all games where the event mode is matching one
of the modes in the given comma-separated list.
</p>

<p>
The event mode is one of:
</p>

<dir>
  <table>
    <tr>
      <td class="l"><expr>unknown</expr></td>
      <td class="m"></td>
      <td class="r">Event mode is unknown</td>
    </tr>
    <tr>
      <td class="l"><expr>otb</expr></td>
      <td class="m"><img src="../images/eventmode_OTB.png"/></td>
      <td class="r">%::eventmodebox::mc::OTB%</td>
    </tr>
    <tr>
      <td class="l"><expr>corr</expr></td>
      <td class="m"><img src="../images/eventmode_PM.png"/></td>
      <td class="r">%::eventmodebox::mc::PM%</td>
    </tr>
    <tr>
      <td class="l"><expr>email</expr></td>
      <td class="m"><img src="../images/eventmode_EM.png"/></td>
      <td class="r">%::eventmodebox::mc::EM%</td>
    </tr>
    <tr>
      <td class="l"><expr>internet</expr></td>
      <td class="m"><img src="../images/eventmode_ICS.png"/></td>
      <td class="r">%::eventmodebox::mc::ICS%</td>
    </tr>
    <tr>
      <td class="l"><expr>tele</expr></td>
      <td class="m"><img src="../images/eventmode_TC.png"/></td>
      <td class="r">%::eventmodebox::mc::TC%</td>
    </tr>
    <tr>
      <td class="l"><expr>analysis</expr></td>
      <td class="m"><img src="../images/eventmode_Analysis.png"/></td>
      <td class="r">%::eventmodebox::mc::Analysis%</td>
    </tr>
    <tr>
      <td class="l"><expr>composition</expr></td>
      <td class="m"><img src="../images/eventmode_Composition.png"/></td>
      <td class="r">%::eventmodebox::mc::Composition%</td>
    </tr>
  </table>
</dir>

<p>
The CQL editor provides a feature for the input of event modes.
</p>

<p>
Example:
</p>

<verb>
<keyword>:eventmode</keyword> corr,email
</verb>

<p>
Search for correspondence chess games, or games played via E-mail.
</p>

<h3 id="match:eventtype">:eventtype<extension/></h3>

<p>
Match all games where the event type is matching one of the types
in the given comma-separated list.
</p>

<p>
The event type is one of:
</p>

<dir>
  <table>
    <tr>
      <td class="l"><expr>unknown</expr></td>
      <td class="m"></td>
      <td class="r">Event type is unknown</td>
    </tr>
    <tr>
      <td class="l"><expr>game</expr></td>
      <td class="m"><img src="../images/eventtype_game.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(game)%</td>
    </tr>
    <tr>
      <td class="l"><expr>match</expr></td>
      <td class="m"><img src="../images/eventtype_match.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(match)%</td>
    </tr>
    <tr>
      <td class="l"><expr>tourn</expr></td>
      <td class="m"><img src="../images/eventtype_tourn.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(tourn)%</td>
    </tr>
    <tr>
      <td class="l"><expr>knockout</expr></td>
      <td class="m"><img src="../images/eventtype_ko.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(k.o.)%</td>
    </tr>
    <tr>
      <td class="l"><expr>swiss</expr></td>
      <td class="m"><img src="../images/eventtype_swiss.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(swiss)%</td>
    </tr>
    <tr>
      <td class="l"><expr>team</expr></td>
      <td class="m"><img src="../images/eventtype_team.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(team)%</td>
    </tr>
    <tr>
      <td class="l"><expr>schev</expr></td>
      <td class="m"><img src="../images/eventtype_schev.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(schev)%</td>
    </tr>
    <tr>
      <td class="l"><expr>simul</expr></td>
      <td class="m"><img src="../images/eventtype_simul.png"/></td>
      <td class="r">%::eventtypebox::mc::Type(simul)%</td>
    </tr>
  </table>
</dir>

<p>
The CQL editor provides a feature for the input of event types.
</p>

<p>
Example:
</p>

<verb>
<keyword>:eventtype</keyword> tourn,swiss
</verb>

<h3 id="match:site">:site<extension/></h3>

<p>
Search for games where the site of the event matches given pattern.
</p>

<p>
This takes one parameter, either a double-quoted pattern, or a un-quoted string.
See <a href="#match:player">:player</a> for a detailed description.
</p>

<p>
See also: <cql>match:eventcountry</cql>.
</p>

<h3 id="match:timemode">:timemode<extension/></h3>

<p>
Search for games where the time mode is matching one of the modes
in the given comma-separated list.
</p>

<p>
Time mode is one of:
</p>

<dir>
  <table>
    <tr>
      <td class="l"><expr>unknown</expr></td>
      <td class="m"></td>
      <td class="r">Time mode is unknown</td>
    </tr>
    <tr>
      <td class="l"><expr>normal</expr></td>
      <td class="m"><img src="../images/timemode_normal.png"/></td>
      <td class="r">%::timemodebox::mc::Mode(normal)%</td>
    </tr>
    <tr>
      <td class="l"><expr>rapid</expr></td>
      <td class="m"><img src="../images/timemode_rapid.png"/></td>
      <td class="r">%::timemodebox::mc::Mode(rapid)%</td>
    </tr>
    <tr>
      <td class="l"><expr>blitz</expr></td>
      <td class="m"><img src="../images/timemode_blitz.png"/></td>
      <td class="r">%::timemodebox::mc::Mode(blitz)%</td>
    </tr>
    <tr>
      <td class="l"><expr>bullet</expr></td>
      <td class="m"><img src="../images/timemode_bullet.png"/></td>
      <td class="r">%::timemodebox::mc::Mode(bullet)%</td>
    </tr>
    <tr>
      <td class="l"><expr>corr</expr></td>
      <td class="m"><img src="../images/timemode_corr.png"/></td>
      <td class="r">%::timemodebox::mc::Mode(corr)%</td>
    </tr>
  </table>
</dir>

<p>
The CQL editor provides a feature for the input of time modes.
</p>

<p>
Example:
</p>

<verb>
<keyword>:timemode</keyword> blitz,bullet
</verb>

<p>
Search for blitz and bullet games.
</p>

<!-- ############################################################################## -->
<h2 id="player">Player search related keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:birthyear">:birthyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitebirthyear">:whitebirthyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackbirthyear">:blackbirthyear</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:country">:country</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitecountry">:whitecountry</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackcountry">:blackcountry</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:deathyear">:deathyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitedeathyear">:whitedeathyear</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackdeathyear">:blackdeathyear</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:elo">:elo</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteelo">:whiteelo</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackelo">:blackelo</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:gender">:gender</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitegender">:whitegender</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackgender">:blackgender</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:iscomputer">:iscomputer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteiscomputer">:whiteiscomputer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackiscomputer">:blackiscomputer</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:ishuman">:ishuman</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteishuman">:whiteishuman</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackishuman">:blackishuman</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:player">:player</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiteplayer">:whiteplayer</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackplayer">:blackplayer</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:rating">:rating</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whiterating">:whiterating</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blackrating">:blackrating</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:title">:title</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:whitetitle">:whitetitle</a></td>
        <td>&emsp;&#x2022;</td><td><a href="#match:blacktitle">:blacktitle</a></td></tr>
  </table>
</dir>

<h3 id="match:birthyear">:birthyear<extension/></h3>

<p>
Search for games where one of the players is born in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
Example:
</p>

<verb>
<keyword>:birthyear</keyword> 1990 unlimited
</verb>

<p>
Search for games with at least one younger player, born 1990 or later.
</p>

<p>
See also: <cql>match:whitebirthyear</cql>, <cql>match:blackbirthyear</cql>,
<cql>match:deathyear</cql>.
</p>

<h3 id="match:blackbirthyear">:blackbirthyear<extension/></h3>

<p>
Search for games where the black player was born in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
See also: <cql>match:whitebirthyear</cql>, <cql>match:birthyear</cql>,
<cql>match:blackdeathyear</cql>, <cql>match:whitedeathyear</cql>,
<cql>match:deathyear</cql>.
</p>

<h3 id="match:blackcountry">:blackcountry<extension/></h3>

<p>
Match all games where the nationality of the black player is matching one of
the countries in given comma-separated list. A country will be specified either
as <a href="http://en.wikipedia.org/wiki/List_of_IOC_country_codes">IOC country code</a>,
or <a href="http://en.wikipedia.org/wiki/ISO_3166-2">ISO 3166-2 country code</a>.
Furthermore the special country codes <expr>UNK</expr> (IOC form),
and <expr>xx</expr> (ISO 3166-2 form) are matching games where the country
of the black player is unknown.
The CQL editor provides a feature for the input of country codes.
</p>

<p>
For examples see <cql>match:country</cql>.
</p>

<p>
See also: <cql>match:country</cql>, <cql>match:whitecountry</cql>.
</p>

<h3 id="match:blackelo">:blackelo<extension/></h3>

<p>
This keyword takes a <a href="CQL-Range-Specifiers.html">range specifier</a>;
the ELO of the black player must lie within its range.
</p>

<p>
See also: <cql>match:whiteelo</cql>, <cql>match:elo</cql>,
<cql>match:blackrating</cql>.
</p>

<h3 id="match:blackdeathyear">:blackdeathyear<extension/></h3>

<p>
Search for games where the black player died in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
See also: <cql>match:whitedeathyear</cql>, <cql>match:deathyear</cql>,
<cql>match:blackbirthyear</cql>, <cql>match:whitebirthyear</cql>,
<cql>match:birthyear</cql>.
</p>

<h3 id="match:blackgender">:blackgender<extension/></h3>

<p>
Match all games where the gender of the black player is matching given gender.
Gender is one of <expr>f</expr> (female), <expr>m</expr> (male, man), or
<expr>x</expr> (unknown). For female also <expr>w</expr> (woman) may be used.
</p>

<p>
Example:
</p>

<verb>
<keyword>:blackgender</keyword> f
</verb>

<p>
Only search for games where the black player is female.
</p>

<verb>
<keyword>:blackgender</keyword> x
</verb>

<p>
Only search for games where the gender is unknown for at least one player.
</p>

<p>
See also: <cql>match:whitegender</cql>, <cql>match:gender</cql>.
</p>

<h3 id="match:blackiscomputer">:blackiscomputer<extension/></h3>

<p>
Search for games where the black player is an engine.
</p>

<p>
See also: <cql>match:iscomputer</cql>, <cql>match:whiteiscomputer</cql>.
</p>

<h3 id="match:blackishuman">:blackishuman<extension/></h3>

<p>
Search for games where the black player is a human.
</p>

<p>
See also: <cql>match:ishuman</cql>, <cql>match:whiteishuman</cql>.
</p>

<h3 id="match:blackplayer">:blackplayer<extension/></h3>

<p>
Search for games where the black player matches given name.
</p>

<p>
This takes one parameter, either a double-quoted pattern, or a un-quoted
string.  See <cql>match:player</cql> for a detailed description.
</p>

<p>
See also: <cql>match:player</cql>, <cql>match:whiteplayer</cql>.
</p>

<h3 id="match:blackrating">:blackrating<extension/></h3>

<p>
Match all games where the given rating is between given score range of the
black player. The first parameter is the rating type, then the score range
follows. For a detailed description see <cql>match:rating</cql>.
</p>

<p>
See also: <cql>match:whiterating</cql>, <cql>match:rating</cql>.
</p>

<h3 id="match:blacktitle">:blacktitle<extension/></h3>

<p>
Match all games where the title of the black player is matching
one of the titles in the given comma-separated list.
See <cql>match:title</cql> for a more detailed description.
</p>

<p>
See also: <cql>match:whitetitle</cql>, <cql>match:title</cql>.
</p>

<h3 id="match:country">:country<extension/></h3>

<p>
Match all games where the nationality one of the players is matching any
country in given comma-separated list. Country is either an
<a href="http://en.wikipedia.org/wiki/List_of_IOC_country_codes">IOC country code</a>,
or an <a href="http://en.wikipedia.org/wiki/ISO_3166-2">ISO 3166-2 country code</a>.
Furthermore the special country codes <expr>UNK</expr> (IOC form),
and <expr>xx</expr> (ISO 3166-2 form) are matching games where the nationality
of one player is unknown.
The CQL editor provides a feature for the input of country codes.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:country</keyword> GER<br/>
<keyword>:country</keyword> de
</verb>

<p>
In both examples, match all games where one of the players has a German
nationality.
</p>

<p>
See also: <cql>match:whitecountry</cql>, <cql>match:blackcountry</cql>.
</p>

<h3 id="match:deathyear">:deathyear<extension/></h3>

<p>
Search for games where one of the players died in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
Example:
</p>

<verb>
<keyword>:deathyear</keyword> 1800 1950
</verb>

<p>
Search for games with ancient players, at least one of them died between
1800 and 1950.
</p>

<p>
See also: <cql>match:whitedeathyear</cql>, <cql>match:blackdeathyear</cql>,
<cql>match:whitebirthyear</cql>, <cql>match:blackbirthyear</cql>,
<cql>match:birthyear</cql>.
</p>

<h3 id="match:elo">:elo<extension/></h3>

<p>
This parameter expects a <a href="CQL-Range-Specifiers.html">range specifier</a>;
the ELO of at least one of the players must lie within the specified range.
</p>

<p>
Siehe auch: <cql>match:blackelo</cql>, <cql>match:whiteelo</cql>,
<cql>match:rating</cql>.
</p>

<h3 id="match:gender">:gender<extension/></h3>

<p>
Match all games where the gender of one player is matching given gender.
Gender is one of <expr>f</expr> (female), <expr>m</expr> (male, man), or
<expr>x</expr> (unknown). For female also <expr>w</expr> (woman) may be used.
</p>

<p>
For examples see <cql>match:blackgender</cql>.
</p>

<p>
See also: <cql>match:blackgender</cql>, <cql>match:whitegender</cql>.
</p>

<h3 id="match:iscomputer">:iscomputer<extension/></h3>

<p>
Search for games where one of the players is a engine.
</p>

<p>
See also: <cql>match:whiteiscomputer</cql>, <cql>match:blackiscomputer</cql>.
</p>

<h3 id="match:ishuman">:ishuman<extension/></h3>

<p>
Search for games where one of the players is a human.
</p>

<p>
See also: <cql>match:whiteishuman</cql>, <cql>match:blackishuman</cql>.
</p>

<h3 id="match:player">:player</h3>

<p>
Search for games where one of the players matches given name.
This takes one parameter, either a double-quoted pattern, or a un-quoted string.
</p>

<p>
<b>Un-quoted string</b>: Only games at least one of whose players names
has as sub-string the given parameter will match. The string matching is
case-insensitive. This form complies with the CQL standard.
</p>

<p>
Example:
</p>

<verb>
<keyword>:player</keyword> coeff
</verb>

<p>
Match all games where one of the player names has as sub-string
<nobr>"coeff"</nobr>.
</p>

<p>
<b>Double-quoted pattern:</b> Only games at least one of whose players names
are matching the pattern will be found.
For pattern matching see <a href="Pattern-Matching.html">Pattern Matching</a>.
</p>

<note>The form with double-quoted patterns does not comply with the CQL standard.</note>

<p>
Examples:
</p>

<verb>
<keyword>:player</keyword> "*coeff*"
</verb>

<p>
This is identical to preceding example (un-quoted string).
</p>

<p>
For more examples see
<a href="Pattern-Matching.html#examples">Pattern Matching</a>.
</p>

<p>
See also: <cql>match:whiteplayer</cql>, <cql>match:blackplayer</cql>.
</p>

<h3 id="match:rating">:rating<extension/></h3>

<p>
Match all games where one of the players has a score of given rating type
which is between the specified score range.
The first parameter is the rating type, then the score range follows.
</p>

<p>
Rating is one of:
</p>

<div class="dir">
  <table>
    <tr valign="top">
      <td class="l"><expr>ELO</expr></td>
      <td class="r">FIDE Rating</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>DWZ</expr></td>
      <td class="r">German Rating (Deutsche Wertungszahl)</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>ECF</expr></td>
      <td class="r">English Chess Federation</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>Rapid</expr></td>
      <td class="r">English Chess Federation Rapid Rating</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>ICCF</expr></td>
      <td class="r">International Correspondence Chess Federation</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>USCF</expr></td>
      <td class="r">United States Chess Federation</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>IPS</expr></td>
      <td class="r">Individual Player Strength (Chess 960 Rating)</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>Rating</expr></td>
      <td class="r">Any other rating type</td>
    </tr>
  </table>
</div>

<p>
Example:
</p>

<verb>
<keyword>:rating</keyword> ELO 2000 3000
</verb>

<p>
Match all games where one of the players has an <abbr>ELO</abbr> rating between
2000 and 3000.
</p>

<p>
See also: <cql>match:whiterating</cql>, <cql>match:blackrating</cql>.
</p>

<h3 id="match:title">:title<extension/></h3>

<p>
Match all games where any title in the given comma-separated list is matching
the title of one player. Title is one of:
</p>

<div class="dir">
INCLUDE ../Player-Titles.txt
</div>

<p>
Examples:
</p>

<verb>
<keyword>:title</keyword> GM,IM
</verb>

<p>
Search for all games with al least one GM or IM.
</p>

<verb>
<keyword>:title</keyword> None
</verb>

<p>
Search for all games where both don't have a title.
</p>

<h3 id="match:whitebirthyear">:whitebirthyear<extension/></h3>

<p>
Search for games where the white player was born in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
See also: <cql>match:blackbirthyear</cql>, <cql>match:birthyear</cql>,
<cql>match:whitedeathyear</cql>, <cql>match:blackdeathyear</cql>,
<cql>match:deathyear</cql>.
</p>

<h3 id="match:whitecountry">:whitecountry<extension/></h3>

<p>
Match all games where the nationality of the white player is matching any country
in given comma-separated list. Country is either an
<a href="http://en.wikipedia.org/wiki/List_of_IOC_country_codes">IOC country code</a>,
or an <a href="http://en.wikipedia.org/wiki/ISO_3166-2">ISO 3166-2 country code</a>.
Furthermore the special country codes <expr>UNK</expr> (IOC form),
and <expr>xx</expr> (ISO 3166-2 form) are matching games where the country
of the white player is unknown.
The CQL editor provides a feature for the input of country codes.
</p>

<p>
For examples see <cql>match:country</cql>.
</p>

<p>
See also: <cql>match:blackcountry</cql>, <cql>match:country</cql>.
</p>

<h3 id="match:whitedeathyear">:whitedeathyear<extension/></h3>

<p>
Search for games where the white player died in a year between the
given ranges (<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
See also: <cql>match:blackdeathyear</cql>, <cql>match:deathyear</cql>,
<cql>match:whitebirthyear</cql>, <cql>match:blackbirthyear</cql>,
<cql>match:birthyear</cql>.
</p>

<h3 id="match:whiteelo">:whiteelo<extension/></h3>

<p>
This keyword takes a <a href="CQL-Range-Specifiers.html">range specifier</a>;
the ELO of the white player must lie within its range.
</p>

<p>
See also: <cql>match:blackelo</cql>, <cql>match:elo</cql>,
<cql>match:whiterating</cql>.
</p>

<h3 id="match:whitegender">:whitegender<extension/></h3>

<p>
Match all games where the gender of the white player is matching given gender.
Gender is one of <expr>f</expr> (female), <expr>m</expr> (male, man), or
<expr>x</expr> (unknown). For female also <expr>w</expr> (woman) may be used.
</p>

<p>
For examples see <cql>match:blackgender</cql>.
</p>

<p>
See also: <cql>match:blackgender</cql>, <cql>match:gender</cql>.
</p>

<h3 id="match:whiteiscomputer">:whiteiscomputer<extension/></h3>

<p>
Search for games where the white player is an engine.
</p>

<p>
See also: <cql>match:iscomputer</cql>, <cql>match:blackiscomputer</cql>.
</p>

<h3 id="match:whiteishuman">:whiteishuman<extension/></h3>

<p>
Search for games where the white player is a human.
</p>

<p>
See also: <cql>match:ishuman</cql>, <cql>match:blackishuman</cql>.
</p>

<h3 id="match:whiteplayer">:whiteplayer<extension/></h3>

<p>
Search for games where the white player matches given name.
</p>

<p>
This takes one parameter, either a double-quoted pattern, or a un-quoted string.
See <cql>match:player</cql> for a detailed description.
</p>

<p>
See also: <cql>match:blackplayer</cql>, <cql>match:player</cql>.
</p>

<h3 id="match:whiterating">:whiterating<extension/></h3>

<p>
Match all games where the given rating is between given score range of the
white player. The first parameter is the rating type, then the score range
follows.  For a detailed description see <cql>match:rating</cql>.
</p>

<p>
See also: <cql>match:blackrating</cql>, <cql>match:rating</cql>.
</p>

<h3 id="match:whitetitle">:whitetitle<extension/></h3>

<p>
Match all games where the title of the white player is matching
one of the titles in the given comma-separated list.
See <cql>match:title</cql> for a more detailed description.
</p>

<p>
See also: <cql>match:blacktitle</cql>, <cql>match:title</cql>.
</p>

<!-- ############################################################################## -->
<h2 id="header">Game header search related keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:annotator">:annotator</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:date">:date</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:eco">:eco</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:gamenumber">:gamenumber</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:hasmarkers">:hasmarkers</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:hasspecialmarkers">:hasspecialmarkers</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:plycount">:plycount</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:result">:result</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:termination">:termination</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:variant">:variant</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:year">:year</a></td></tr>
  </table>
</dir>

<h3 id="match:annotator">:annotator<extension/></h3>

<p>
Search for games where the annotator matches given name.
</p>

<p>
This takes one parameter, either a double-quoted pattern, or a un-quoted string.
See <a href="#match:player">:player</a> for a detailed description.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:annotator</keyword> Capablanca
</verb>

Search for games where one of the player names has a sub-string matching
the name <nobr>"Capablanca"</nobr>.

<verb>
<keyword>:annotator</keyword> "*"
</verb>

<p>
Search for games with any annotator, this means that games without an
annotator are excluded.
</p>

<p>
See also: <cql>match:hascomments</cql>.
</p>

<h3 id="match:date">:date<extension/></h3>

<p>
This takes a range specifier denoting the range of dates
that the game must match.
</p>

<p>
The range specifier has one of the following forms:
</p>

<div class="dir">
  <table>
    <tr valign="top">
      <td class="l"><expr>2010-10-27</expr></td>
      <td class="r">denoting a single date</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>2010-10-01 2010-10-31</expr></td>
      <td class="r">denoting a range of dates, inclusive the ranges</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>2010-10-01 .. 2010-11-01</expr></td>
      <td class="r">denoting a range of dates, inclusive the former date,
          exlusive the latter date</td>
    </tr>
  </table>
</div>

<p>
Note that in third form it is not required that the former date is less than the
latter date. Also note that the empty range (for example
<code><nobr>2010-10-01</nobr> <nobr>..</nobr> <nobr>2010-10-01</nobr></code>)
is not allowed.
</p>

<p>
A date has the following syntax:
</p>

<div class="dir">
  <p><expr>
  &lt;year&gt;'&#x2212;'&lt;month&gt;'&#x2212;'&lt;day&gt;(&lt;sign&gt;&lt;num&gt;'y')?(&lt;sign&gt;&lt;num&gt;'m')?(&lt;sign&gt;&lt;num&gt;'d')?
  </expr></p>

  <table>
    <tr valign="top">
      <td class="l"><expr>&lt;year&gt;</expr></td>
      <td class="r">specifies the year (four digits)</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>&lt;month&gt;</expr></td>
      <td class="r">specifies the month (two digits)</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>&lt;day&gt;</expr></td>
      <td class="r">specifies the day of the month (two digits)</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>&lt;sign&gt;</expr></td>
      <td class="r">is either '&#x2212;' or '+'</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>&lt;num&gt;</expr></td>
      <td class="r">is any positive number, denoting an increment or decrement</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>d</expr></td>
      <td class="r">specifies to increment/decrement the day</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>m</expr></td>
      <td class="r">specifies to increment/decrement the month</td>
    </tr>
    <tr valign="top">
      <td class="l"><expr>y</expr></td>
      <td class="r">specifies to increment/decrement the year</td>
    </tr>
  </table>
</div>

<p>
Moreover the special date "unlimited" is allowed - see
<a href="CQL-Range-Specifiers.html">range specifiers</a> for a description -
but not as right barrier in the third form.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:date</keyword> 2010-10-01
</verb>

<p>
Search for all games played on October 1, 2010.
</p>

<verb>
<keyword>:date</keyword> 2010-10-01 unlimited
</verb>

<p>
Search for all games played after September 30, 2010.
</p>

<verb>
<keyword>:date</keyword> 2010-10-01 .. 2010-11-01
</verb>

<p>
Search for all games played in October 2010: between October 1, 2010
(inclusive), and November 1, 2010 (exclusive).
</p>

<verb>
<keyword>:date</keyword> 2010-10-01 .. 2010-10-01+1m
</verb>

<p>
Also search for all games played in October 2010; the latter range
(<expr>2010-10-01+1m</expr> is November 1, 2010) is excluded.
<expr>+1m</expr> denotes the increment for the month.
</p>

<verb>
<keyword>:date</keyword> 2010-10-27 .. 2010-10-27-43d
</verb>

<p>
Search for all games between September 14, 2010 (exclusive;
<expr>2010-10-27-43d</expr> is September 14, 2010), and
October 27, 2010 (inclusive). This is an example for the following
case: we know that the tournament has finished on October 27, 2010,
and the duration of this tournament was exact 43 days. This example
is exploiting that the first date specifier of a range
can be greater than the last date specifier.
</p>

<verb>
<keyword>:date</keyword> unlimited <cql>position:not</cql>
</verb>

<p>
Search for games which are blank dated.
</p>

<p>
See also: <cql>match:year</cql>.
</p>

<h3 id="match:eco">:eco<extension/></h3>

<p>
This takes a range specifier denoting the <a href="ECO-Code.html">ECO code</a>
range that the game must match. It is allowed that the range consists of
a single code.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:eco</keyword> A00
</verb>

<p>
Search all games with ECO code A00.
</p>

<verb>
<keyword>:eco</keyword> A00 A99
</verb>

<p>
Search all games with an ECO code between A00 and A99 (inclusive the ranges).
</p>

<h3 id="match:gamenumber">:gamenumber</h3>

<p>
This takes a range specifier. Only games whose number within the database lies
within the range specifier (<see/>
<a href="CQL-Range-Specifiers.html">range specifiers</a>) are considered.
</p>

<p>
Note that in case of PGN databases the game number may occur more than once,
because of <a href="Chess-Variants.html">chess variants</a>. Possibly the
search should be restricted with keyword <cql>match:variant</cql>.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:gamenumber</keyword> 1000<br/>
<keyword>:gamenumber</keyword> 1 100
</verb>

<h3 id="match:hasmarkers">:hasmarkers<extension/></h3>

<p>
Search for games which has one of the markers set specified in the given
string of tokens (<see/> <a href="Game-Flags.html">game markers</a>). If no
parameter is given, we will search for any marker.
</p>

<p>
A token is one of:
</p>

<div class="dir">
  <table>
    <tr>
      <td class="l">w</td>
      <td class="m"><img src="../images/gameflag-White-Opening.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(w)%</td>
    </tr>
    <tr>
      <td class="l">b</td>
      <td class="m"><img src="../images/gameflag-Black-Opening.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(b)%</td>
    </tr>
    <tr>
      <td class="l">m</td>
      <td class="m"><img src="../images/gameflag-Middle-Game.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(m)%</td>
    </tr>
    <tr>
      <td class="l">e</td>
      <td class="m"><img src="../images/gameflag-End-Game.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(e)%</td>
    </tr>
    <tr>
      <td class="l">N</td>
      <td class="m"><img src="../images/gameflag-Novelty.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(N)%</td>
    </tr>
    <tr>
      <td class="l">p</td>
      <td class="m"><img src="../images/gameflag-Pawn-Structure.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(p)%</td>
    </tr>
    <tr>
      <td class="l">T</td>
      <td class="m"><img src="../images/gameflag-Tactics.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(T)%</td>
    </tr>
    <tr>
      <td class="l">K</td>
      <td class="m"><img src="../images/gameflag-King-Side.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(K)%</td>
    </tr>
    <tr>
      <td class="l">Q</td>
      <td class="m"><img src="../images/gameflag-Queen-Side.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(Q)%</td>
    </tr>
    <tr>
      <td class="l">!</td>
      <td class="m"><img src="../images/gameflag-Brilliancy.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(!)%</td>
    </tr>
    <tr>
      <td class="l">?</td>
      <td class="m"><img src="../images/gameflag-Blunder.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(?)%</td>
    </tr>
    <tr>
      <td class="l">U</td>
      <td class="m"><img src="../images/gameflag-User.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(U)%</td>
    </tr>
    <tr>
      <td class="l">*</td>
      <td class="m"><img src="../images/gameflag-Best-Game.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(*)%</td>
    </tr>
    <tr>
      <td class="l">D</td>
      <td class="m"><img src="../images/gameflag-Decided-Tournament.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(D)%</td>
    </tr>
    <tr>
      <td class="l">G</td>
      <td class="m"><img src="../images/gameflag-Model-Game.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(G)%</td>
    </tr>
    <tr>
      <td class="l">S</td>
      <td class="m"><img src="../images/gameflag-Strategy.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(S)%</td>
    </tr>
    <tr>
      <td class="l">^</td>
      <td class="m"><img src="../images/gameflag-With-Attack.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(^)%</td>
    </tr>
    <tr>
      <td class="l">~</td>
      <td class="m"><img src="../images/gameflag-Sacrifice.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(~)%</td>
    </tr>
    <tr>
      <td class="l">=</td>
      <td class="m"><img src="../images/gameflag-Defense.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(=)%</td>
    </tr>
    <tr>
      <td class="l">M</td>
      <td class="m"><img src="../images/gameflag-Material.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(M)%</td>
    </tr>
    <tr>
      <td class="l">P</td>
      <td class="m"><img src="../images/gameflag-Piece-Play.png"/></td>
      <td class="r">%::gametable::mc::GameFlags(P)%</td>
    </tr>
  </table>
</div>

<p>
The CQL editor provides a feature for the input of game markers.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:hasmarkers</keyword> wb
</verb>

<p>
Search for games with marker <i>%::gametable::mc::GameFlags(w)%</i>
or <i>%::gametable::mc::GameFlags(b)%</i> (or both).
</p>

<verb>
<keyword>:hasmarkers</keyword>
</verb>

<p>
Search for games with any marker set; this means games without any
game marker are excluded.
</p>

<h3 id="match:hasspecialmarkers">:hasspecialmarkers<extension/></h3>

<p>
Search for games which has one of the special markers set specified in the given
comma-separated list.
</p>

<p>
A special marker is one of:
</p>

<div class="dir">
  <table>
    <tr>
      <td class="l"><expr>deleted</expr></td>
      <td class="m"><img src="../images/gameflag-Deleted.png"/></td>
      <td class="r">Game marked for deletion</td>
    </tr>
    <tr>
      <td class="l"><expr>illegalmove</expr></td>
      <td class="m"><img src="../images/gameflag-Illegal-Move.png"/></td>
      <td class="r">Game contains illegal castling move.</td>
    </tr>
    <tr>
      <td class="l"><expr>illegalcastling</expr></td>
      <td class="m"><img src="../images/gameflag-Illegal-Castling.png"/></td>
      <td class="r">Game contains illegal castling.</td>
    </tr>
  </table>
</div>

<p>
Note that <expr>illegalmove</expr> is not including illegal castlings.
The CQL editor provides a feature for the input of special markers.
</p>

<p>
Example:
</p>

<verb>
<cql>match:not</cql> (match <keyword>:hasspecialmarkers</keyword> illegalmove)
</verb>

<p>
Search for games without illegal moves, but illegal castling moves are allowed.
</p>

<h3 id="match:plycount">:plycount<extension/></h3>

<p>
Search for games with a ply count between the given range
(<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
Example:
</p>

<verb>
<keyword>:plycount</keyword> 40 60
</verb>

<p>
This is matching short games, with no less than 20 moves, and no
more than 30 moves.
</p>

<h3 id="match:result">:result</h3>

<p>
Match all games where the result of the game is matching one of the results in the
given comma-separated list.
</p>

<note>
The CQL standard does allow only a single result as parameter.
</note>

<p>
Result is one of:
</p>

<div class="dir">
  <table>
    <tr>
      <td class="l"><expr>1/2</expr></td>
      <td class="r">drawn game</td>
    </tr>
    <tr>
      <td class="l"><expr>1-0</expr></td>
      <td class="r">game in which white wins</td>
    </tr>
    <tr>
      <td class="l"><expr>0-1</expr></td>
      <td class="r">game in which black wins</td>
    </tr>
    <tr>
      <td class="l"><expr>0-0</expr></td>
      <td class="r">game lost for both players (not part of CQL standard)</td>
    </tr>
    <tr>
      <td class="l"><expr>*</expr></td>
      <td class="r">game with unknown result (not part of CQL standard)</td>
    </tr>
  </table>
</div>

<p>
The parameter <expr>1/2</expr> may be written-out with <expr>1/2-1/2</expr>.
</p>

<p>
Examples:
</p>

<verb>
<keyword>:result</keyword> 1/2
</verb>

<p>
Match all drawn games.
</p>

<verb>
<keyword>:result</keyword> 1-0,0-1
</verb>

<p>
Match all games in which one side has won. This example is not conform
to the CQL standard.
</p>

<h3 id="match:termination">:termination<extension/></h3>

<p>
Match all games where the termination reason is matching one of
the reasons in the given comma-separated list.
</p>

<p>
The termination reason is one of:
</p>

<div class="dir">
  <table>
    <tr>
      <td class="l"><expr>unknown</expr></td>
      <td class="m"></td>
      <td class="r">Termination reason is unknown</td>
    </tr>
    <tr>
      <td class="l"><expr>normal</expr></td>
      <td class="m"><img src="../images/termination_reason_Normal.png"/></td>
      <td class="r">Game terminated in a normal fashion</td>
    </tr>
    <tr>
      <td class="l"><expr>unplayed</expr></td>
      <td class="m"><img src="../images/termination_reason_Unplayed.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Unplayed)%</td>
    </tr>
    <tr>
      <td class="l"><expr>abandoned</expr></td>
      <td class="m"><img src="../images/termination_reason_Abandoned.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Abandoned)%</td>
    </tr>
    <tr>
      <td class="l"><expr>adjudication</expr></td>
      <td class="m"><img src="../images/termination_reason_Adjudication.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Adjudication)%</td>
    </tr>
    <tr>
      <td class="l"><expr>disconnection</expr></td>
      <td class="m"><img src="../images/termination_reason_Disconnection.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Disconnection)%</td>
    </tr>
    <tr>
      <td class="l"><expr>emergency</expr></td>
      <td class="m"><img src="../images/termination_reason_Emergency.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Emergency)%</td>
    </tr>
    <tr>
      <td class="l"><expr>rulesinfraction</expr></td>
      <td class="m"><img src="../images/termination_reason_RulesInfraction.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(RulesInfraction)%</td>
    </tr>
    <tr>
      <td class="l"><expr>timeforfeit</expr></td>
      <td class="m"><img src="../images/termination_reason_TimeForfeit.png"/></td>
      <td class="r">One or both players forfeits on time</td>
    </tr>
    <tr>
      <td class="l"><expr>unterminated</expr></td>
      <td class="m"><img src="../images/termination_reason_Unterminated.png"/></td>
      <td class="r">%::terminationbox::mc::Reason(Unterminated)%</td>
    </tr>
  </table>
</div>

<p>
Example:
</p>

<verb>
<keyword>:termination</keyword> unknown,normal
</verb>

<p>
Search all games where it is not known that the game did not terminate
in an abnormal fashion.
</p>

<h3 id="match:variant">:variant<extension/></h3>

<p>
Only search in games matching any <a href="Chess-Variants.html">chess variant</a>
in given comma-separated list.
</p>

<p>
Supported variants are:
</p>

<div class="dir">
  <table>
    <tr>
      <td class="l"><expr>normal</expr></td>
      <td class="r">%::mc::VariantName(Normal)%</td>
    </tr>
    <tr>
      <td class="l"><expr>threecheck</expr></td>
      <td class="r">%::mc::VariantName(ThreeCheck)%</td>
    </tr>
    <tr>
      <td class="l"><expr>crazyhouse</expr></td>
      <td class="r">%::mc::VariantName(Crazyhouse)%</td>
    </tr>
    <tr>
      <td class="l"><expr>suicide</expr></td>
      <td class="r">%::mc::VariantName(Suicide)%</td>
    </tr>
    <tr>
      <td class="l"><expr>giveaway</expr></td>
      <td class="r">%::mc::VariantName(Giveaway)%</td>
    </tr>
    <tr>
      <td class="l"><expr>losers</expr></td>
      <td class="r">%::mc::VariantName(Losers)%</td>
    </tr>
  </table>
</div>

<p>
Example:
</p>

<verb>
<keyword>:variant</keyword> suicide,giveaway,losers
</verb>

<p>
Restrict the search to Antichess games.
</p>

<h3 id="match:year">:year</h3>

<p>
This takes a range specifier denoting the range of years that the game must match
(<see/> <a href="CQL-Range-Specifiers.html">range specifiers</a>).
</p>

<p>
Examples:
</p>

<verb>
<keyword>:year</keyword> 2000<br/>
<keyword>:year</keyword> 2000 2010
</verb>

<p>
See also: <cql>match:date</cql>.
</p>

<!-- ############################################################################## -->
<h2 id="data">Game data search related keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:comment">:comment</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:hasannotation">:hasannotation</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:hascomments">:hascomments</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:hasvariations">:hasvariations</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:ischess960">:ischess960</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:isshufflechess">:isshufflechess</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:startposition">:startposition</a></td></tr>
  </table>
</dir>

<h3 id="match:comment">:comment<extension/></h3>

<p>
Search all games containing at least one comment with a sub-string which
is matching the given pattern.
For pattern matching see <a href="Pattern-Matching.html">Pattern Matching</a>.
The pattern must be enclosed in double quotes.
</p>

<p>
Beispiel:
</p>

<verb>
<keyword>:comment</keyword> "decisive game"
</verb>

<p>
This will find a game, for example, which contains the commentary
"This decisive game started with a suprise.".
</p>

<h3 id="match:hasannotation">:hasannotation<extension/></h3>

<p>
Search for annotated games (does not include comments).
</p>

<p>
See also: <cql>match:hascomments</cql>, <cql>match:hasvariations</cql>.
</p>

<h3 id="match:hascomments">:hascomments<extension/></h3>

<p>
Search for commented games. Note that a commented game must not have
an annotator (<see/> <cql>match:annotator</cql>).
</p>

See also: <cql>match:hasannotation</cql>, <cql>match:hasvariations</cql>.

<h3 id="match:hasvariations">:hasvariations<extension/></h3>

<p>
Search for games containing sub-variations.
</p>

<p>
See also: <cql>match:hasannotation</cql>, <cql>match:hascomments</cql>.
</p>

<h3 id="match:ischess960">:ischess960<extension/></h3>

<p>
Search for games starting with a Chess 960 position.
This includes the standard start position.
</p>

<p>
See also: <cql>match:isshufflechess</cql>.
</p>

<h3 id="match:isshufflechess">:isshufflechess<extension/></h3>

<p>
Search for games starting with a Shuffle Chess position.
This includes Chess 960 positions.
</p>

<p>
See also: <cql>match:ischess960</cql>.
</p>

<h3 id="match:startposition">:startposition<extension/></h3>

<p>
This will take a comma-separated list of start positions. A start
position is either a position number, or a FICS variant identifier.
</p>

<p>
If the position number is zero then games not beginning with a
Shuffle Chess position will be matched. Otherwise the position
number between 1 and 3840 is denoting a Shuffle Chess position.
If the number is less or equal than 960 (but not null), then it
is a Chess 960 position number. A special meaning has position
number -1: this number is excluding Shuffle Chess positions and
(supported) FICS variants (see below).
</p>

<p>
The Shuffle Chess position number is derived from the Chess 960
position number in the following way:
</p>

<ol style="margin-left: 0">
  <li style="margin-top: 0.5em; margin-bottom: 0.5em;">
    The king is between the two rooks, and all castling rights
    are given: this is a Chess 960 position. Thus the position
    number is between 1 and 960.
  </li>
  <li style="margin-top: 0.5em; margin-bottom: 0.5em;">
    The king is right from the rooks: the number for this Shuffle
    Chess position is between 961 and 1920.
  </li>
  <li style="margin-top: 0.5em; margin-bottom: 0.5em;">
    The king is left from the rooks: the number for this Shuffle
    Chess position is between 1921 and 2880.
  </li>
  <li style="margin-top: 0.5em; margin-bottom: 0.5em;">
    The king is between the two rooks, but no castling rights are
    given: add 3&#x00d7;960 to the corresponding Chess 960 position,
    thus the position number is between 2881 and 3840.
  </li>
</ol>

<p>
For chess variants %::mc::VariantName(Suicide)% and
%::mc::VariantName(Giveaway)% a special rule applies: in this case a position
number N is also matching <nobr>N&#x2212;3&#x00d7;960</nobr>, if
<nobr>N &gt; 3&#x00d7;960</nobr>. This is simplifying the search for standard
start positions; see example below. Note that a start position in these chess
variants cannot have a position number equal or less than 960.
</p>

<p>
It is also possible to specifiy a FICS variant identifier for
the start position. The supported positions are:
</p>

<div class="dir">
INCLUDE ../Start-Positions.txt
</div>

<p>
Examples:
</p>

<verb>
<keyword>:startposition</keyword> 518
</verb>

<p>
Search for games beginning with a standard start position. In case
of chess variants %::mc::VariantName(Suicide)% and
%::mc::VariantName(Giveaway)% this will also match position
number 3398 (this is the standard start position for
%::mc::VariantName(Suicide)% and %::mc::VariantName(Giveaway)% games).
</p>

<verb>
<keyword>:startposition</keyword> 518,3398
</verb>

<p>
Search for games beginning with a standard start position, with or
without castling rights. Here the search will also find in
%::mc::VariantName(Normal)% the start position 3398, in contrast
to preceding example.
</p>

<verb>
<keyword>:startposition</keyword> misc/runaway
</verb>

<p>
Search for games with FICS variant <expr>misc/runaway</expr>.
</p>

<verb>
<keyword>:startposition</keyword> 0 <cql>match:not</cql>
</verb>

<p>
Search for games beginning with any start position: this means
that the first game position of these games must be a Shuffle Chess
position.
</p>

<verb>
<keyword>:startposition</keyword> -1 <cql>match:not</cql>
</verb>

<p>
Search for games beginning with any supported start position:
this means that the first game position in these games is either a
Shuffle Chess position, or a (supported) FICS variant.
</p>

<!-- ############################################################################## -->
<h2 id="tagging">Tagging related keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:forany">:forany</a></td></tr>
  </table>
</dir>

<h3 id="match:forany">:forany</h3>

<p>
This takes two parameters, a tag name and a piecetype designator.
This feature is described on page <a href="CQL-Tagging">Tagging</a>.
</p>

<!-- ############################################################################## -->
<h2 id="meaningless">Meaningless keywords</h2>
<!-- ############################################################################## -->

<dir>
  <table>
    <tr><td>&#x2022;</td><td><a href="#match:output">:output</a></td></tr>
    <tr><td>&#x2022;</td><td><a href="#match:pgn">:pgn</a></td></tr>
  </table>
</dir>

<h3 id="match:output">:output</h3>

<p>
This takes one parameter which denotes the name of a file.
</p>

<p>
This keyword is supported to be compatible with CQL standard, and does
not have any meaning in Scidb.
</p>

<h3 id="match:pgn">:pgn</h3>

<p>
This takes one parameter which denotes the name of a file.
</p>

<p>
This keyword is supported to be compatible with CQL standard, and does
not have any meaning in Scidb.
</p>

END

<!-- vi:set ts=2 sw=2 et filetype=html: -->
