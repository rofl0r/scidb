<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated from tcl/help/en/CQL-Technical-Description.txt -->

<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
  <meta http-equiv="content-type"
           content="text/html; charset=utf-8" />
  <meta http-equiv="content-language"
           content="en" />
  <meta http-equiv="content-style-type"
           content="text/css" />

  <meta name="author"
     content="scidb.sourceforge.net" />
  <meta name="generator"
     content="scidb.sourceforge.net" />
  <meta name="description"
     content="Scidb - Help Page" />

  <link rel="icon"
       href="http://scidb.sourceforge.net/favicon.ico"
       type="image/x-icon" />
  <link rel="shortcut icon"
       href="http://scidb.sourceforge.net/favicon.ico" />
  <link rel="stylesheet"
       type="text/css"
      media="screen"
		 href="../styles/help.css" />

  <title>Scidb - Help: CQL Technical Description</title>
</head>

<body>

<div class="title">
  <h1 class="title">CQL Technical Description</h1>
</div>

<div class='annotation'><img src='../images/annotation.png' style='float:left; margin:0 1em 0 0' alt='annotation' />
The technichal description is not a precondition for the usage
of the search functions in Scidb.
</div>

<ul class="index">
  <li><a href="#index">Index</a></li>
  <li><a href="#display">Display</a></li>
  <li><a href="#standard">The CQL-S standard</a></li>
</ul>

<h2 id="index">Index</h2>

<ul class="index">
  <li><a href="CQL-Syntax.html">Syntax</a></li>
  <li><a href="CQL-Transformations.html">Transformations</a></li>
  <li><a href="CQL-Match-List.html">The match list</a></li>
  <li><a href="CQL-Position-List.html">The position list</a></li>
  <li><a href="CQL-Relation-List.html">The relation list</a></li>
  <li><a href="CQL-Tagging.html">Tagging</a></li>
  <li><a href="CQL-Examples.html">Examples</a></li>
  <li><a href="CQL-File-Format.html">File format</a></li>
</ul>

<h2 id="display">Display</h2>

<p>
Per default graphical figurine for the notation of chess pieces will be used,
due to internalization reasons. The CQL editor is also working with graphical
figurine, although the CQL files will be saved with the corresponding English
letters:
</p>

<ul style='list-style-type: none'><li>
  <table style="white-space:nowrap">
    <!-- Note to translators: only translate the last column -->
    <tr><td><span class='chess'>&#x2654;</span>  </td><td>=</td><td>K</td><td>=</td><td>white king</td></tr>
    <tr><td><span class='chess'>&#x2655;</span> </td><td>=</td><td>Q</td><td>=</td><td>white queen</td></tr>
    <tr><td><span class='chess'>&#x2656;</span>  </td><td>=</td><td>R</td><td>=</td><td>white rook</td></tr>
    <tr><td><span class='chess'>&#x2657;</span></td><td>=</td><td>B</td><td>=</td><td>white bishop</td></tr>
    <tr><td><span class='chess'>&#x2658;</span></td><td>=</td><td>N</td><td>=</td><td>white knight</td></tr>
    <tr><td><span class='chess'>&#x2659;</span>  </td><td>=</td><td>P</td><td>=</td><td>white pawn</td></tr>
    <tr><td><span class='chess'>&#x265a;</span>  </td><td>=</td><td>k</td><td>=</td><td>black king</td></tr>
    <tr><td><span class='chess'>&#x265b;</span> </td><td>=</td><td>q</td><td>=</td><td>black queen</td></tr>
    <tr><td><span class='chess'>&#x265c;</span>  </td><td>=</td><td>r</td><td>=</td><td>black rook</td></tr>
    <tr><td><span class='chess'>&#x265d;</span></td><td>=</td><td>b</td><td>=</td><td>black bishop</td></tr>
    <tr><td><span class='chess'>&#x265e;</span></td><td>=</td><td>n</td><td>=</td><td>black knight</td></tr>
    <tr><td><span class='chess'>&#x265f;</span>  </td><td>=</td><td>p</td><td>=</td><td>black pawn</td></tr>
  </table>
</li></ul>

<p>
If you prefer to see piece letters, please select one of the options:
</p>

<table style="white-space:nowrap">
  <tr valign="top">
    <td>
      <div embed='piecelang en text "Use English piece letters"'
           style="display: inline;">
        (Not available in web browser)
      </div>
    </td>
    <td>&emsp;K Q R B N P k q r b n p (will be used in CQL files)</td>
  </tr>
  <tr valign="top">
    <td>
      <div embed='piecelang regional text "Use regional letters"'
           style="display: inline;">
        (Not available in web browser)
      </div>
    </td>
    <td>&emsp;K Q R B N P k q r b n p</td>
  </tr>
  <tr valign="top">
    <td>
      <div embed='piecelang graphic text "Revert to designators"'
           style="display: inline;">
        (Not available in web browser)
      </div>
    </td>
    <td>&emsp;<span class='chess'>&#x2654;</span> <span class='chess'>&#x2655;</span> <span class='chess'>&#x2656;</span> <span class='chess'>&#x2657;</span> <span class='chess'>&#x2658;</span> <span class='chess'>&#x2659;</span> <span class='chess'>&#x265a;</span> <span class='chess'>&#x265b;</span> <span class='chess'>&#x265c;</span> <span class='chess'>&#x265d;</span> <span class='chess'>&#x265e;</span> <span class='chess'>&#x265f;</span></td>
  </tr>
</table>

<h2 id="standard">The CQL-S standard</h2>

<p>
The <span style='white-space:nowrap;'>CQL-S</span> standard is developed to cover all functions of Scidb also
inside the game search and position search. For fulfilling the <span style='white-space:nowrap;'>CQL-S</span>
standard all keywords have to be implemented. But the features for other chess
variants must not be supported (this means, for example, that
<span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:mustcapture">:mustcapture</span></a> will not be satisfied ever). The CQL parser
should use the file header to detect whether a <span style='white-space:nowrap;'>CQL-S</span> script can
be executed (&#x21d2; <a href="CQL-File-Format.html">file format</a>).
</p>

<p>
<span style='white-space:nowrap;'>CQL-S</span> is almost 100% backward compatible with just two exceptions:
</p>

<ol>
  <li>
    In CQL <span style='white-space:nowrap;'>1.0</span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> does not apply to <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:result">:result</span></a>
    (inside position list). The behavior of CQL <span style='white-space:nowrap;'>1.0</span> may well be considered as
    an error. In <span style='white-space:nowrap;'>CQL-S</span> <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:flipcolor">:flipcolor</span></a> will also do a color flip
    transformation in <span style='white-space:nowrap;'><a href="CQL-Position-List.html#position:result">:result</span></a>.
  </li>
  <li style="margin-top:0.5em">
    In CQL <span style='white-space:nowrap;'>1.0</span> the start position will not be considered when searching. In
    <span style='white-space:nowrap;'>CQL-S</span> also the start position will be considered when searching
    for a position, and will match where appropriate. Including the start position
    is essential for position search in a chess database.
  </li>
</ol>

</body>
</html>
